"use strict";angular.module("flujogenico20App",["ngCookies","ngResource","ngSanitize","btford.socket-io","ui.router","ngMaterial","ngMessages","bw.paging"]).config(["$stateProvider","$urlRouterProvider","$locationProvider","$httpProvider",function(a,b,c,d){b.otherwise("/"),c.html5Mode(!0),d.interceptors.push("authInterceptor")}]).factory("authInterceptor",["$rootScope","$q","$cookieStore","$location",function(a,b,c,d){return{request:function(a){return a.headers=a.headers||{},c.get("token")&&(a.headers.Authorization="Bearer "+c.get("token")),a},responseError:function(a){return 401===a.status?(d.path("/login"),c.remove("token"),b.reject(a)):b.reject(a)}}}]).run(["$rootScope","$location","Auth",function(a,b,c){a.$on("$stateChangeStart",function(a,d){c.isLoggedInAsync(function(a){d.authenticate&&!a&&b.path("/login")})})}]),angular.module("flujogenico20App").config(["$stateProvider",function(a){a.state("login",{url:"/login",templateUrl:"app/account/login/login.html",controller:"LoginCtrl"}).state("signup",{url:"/signup",templateUrl:"app/account/signup/signup.html",controller:"SignupCtrl"})}]),angular.module("flujogenico20App").controller("LoginCtrl",["$scope","Auth","$location","$window",function(a,b,c,d){a.user={},a.errors={},a.login=function(d){a.submitted=!0,d.$valid&&b.login({email:a.user.email,password:a.user.password}).then(function(){c.path("/")})["catch"](function(b){a.errors.other=b.message})},a.loginOauth=function(a){d.location.href="/auth/"+a}}]),angular.module("flujogenico20App").controller("SettingsCtrl",["$scope","User","Auth",function(a,b,c){a.errors={},a.changePassword=function(b){a.submitted=!0,b.$valid&&c.changePassword(a.user.oldPassword,a.user.newPassword).then(function(){a.message="Password successfully changed."})["catch"](function(){b.password.$setValidity("mongoose",!1),a.errors.other="Incorrect password",a.message=""})}}]),angular.module("flujogenico20App").controller("SignupCtrl",["$scope","Auth","$location","$window",function(a,b,c,d){a.user={},a.errors={},a.register=function(d){a.submitted=!0,d.$valid&&b.createUser({name:a.user.name,email:a.user.email,password:a.user.password}).then(function(){c.path("/")})["catch"](function(b){b=b.data,a.errors={},angular.forEach(b.errors,function(b,c){d[c].$setValidity("mongoose",!1),a.errors[c]=b.message})})},a.loginOauth=function(a){d.location.href="/auth/"+a}}]),angular.module("flujogenico20App").controller("AdminCtrl",["$scope","$http","Auth","User",function(a,b,c,d){a.users=d.query(),a["delete"]=function(b){d.remove({id:b._id}),angular.forEach(a.users,function(c,d){c===b&&a.users.splice(d,1)})}}]),angular.module("flujogenico20App").config(["$stateProvider",function(a){a.state("admin",{url:"/admin",templateUrl:"app/admin/admin.html",controller:"AdminCtrl"})}]),angular.module("flujogenico20App").controller("ApplicationCtrl",["DataSession","$state",function(a,b){var c=this;c.starAgain=function(){a.eraseSteps(),b.go("main.application.evalType")},c.DS=a,this.indexColor=function(a){return.2>=a?"#0b620a":a>.2&&.4>=a?"#97ca04":a>.4&&.6>=a?"#edd910":a>.6&&.8>=a?"#fdbe01":.8>a?"#f70602":"#e6e6e6"},this.indexScale=function(a){return.2>=a?"veryLow":a>.2&&.4>=a?"low":a>.4&&.6>=a?"medium":a>.6&&.8>=a?"high":.8>a?"veryHigh":"noData"}}]),angular.module("flujogenico20App").config(["$stateProvider",function(a){a.state("main.application",{url:"/application",templateUrl:"app/application/application.html",controller:"ApplicationCtrl",controllerAs:"appCtrl"}).state("main.application.evalType",{url:"/eval-type",views:{title:{template:"{{mainCtrl.tc.app.evalTitle}}"},description:{template:'<div class="padding25">{{mainCtrl.tc.app.evalDescript}}</div>'},content:{templateUrl:"app/application/evalType/evalType.content.html",controller:["$state","DataSession",function(a,b){var c=this;c.selection=function(c){b.setStep("evalType",c),console.log(b.steps),a.go("main.application.spsearch")}}],controllerAs:"evalTypeContentCtrl"}}}).state("main.application.spsearch",{url:"/sp-search",views:{title:{template:"{{mainCtrl.tc.app.spSearchTitle}}"},description:{template:'<div class="padding25">{{mainCtrl.tc.app.spSearchDescript}}</div>'},content:{templateUrl:"app/application/spSearch/spSearch.content.html",controller:["$state","Flora","DataSession","$timeout",function(a,b,c,d){var e=this;this.submitSpSearch=function(b){b?c.setStep("spSearch",b):c.setStep("spSearch",e.spDonorSelected),console.log(c.steps),a.go("main.application.reach")},this.querySearch=function(a){return 0===a.length?[]:b.searchSN({name:a}).$promise},b.getList({type:4}).$promise.then(function(a){e.transgenic=a}),b.getList({type:1}).$promise.then(function(a){e.cultivated=a})}],controllerAs:"spSearchContentCtrl"}}}).state("main.application.reach",{url:"/reach",views:{title:{template:"{{mainCtrl.tc.app.reachTitle}}"},description:{template:'<div class="padding25"></div>'},content:{templateUrl:"app/application/reach/reach.content.html",controller:["$state","DataSession",function(a,b){this.selection=function(c){b.setStep("reach",c),console.log(b.steps),a.go("main.application.result")}}],controllerAs:"reachContentCtrl"}}}).state("main.application.result",{url:"/result",views:{content:{controller:["DataSession","$state",function(a,b){3!==a.steps&&a.makeResult().then(function(){"reachLocal"===a.getReach()&&b.go("main.application.result-local"),"reachCtry"===a.getReach()&&b.go("main.application.result-nationalscale")})}]}}}).state("main.application.result-nationalscale",{url:"/result-national-scale",views:{title:{template:"{{mainCtrl.tc.app.resultTitleCountry}}"},description:{template:'<div class="padding25"></div>'},content:{templateUrl:"app/application/results/results.national.html",controller:["DataSession",function(a){this.DS=a}],controllerAs:"nationalContentCtrl"}}}).state("main.application.result-local",{url:"/result-local",views:{title:{template:"{{mainCtrl.tc.app.resultTitleLocal}}"},description:{template:'<div class="padding25"></div>'},content:{templateUrl:"app/application/results/results.local.html",controller:"resultsLocalController",controllerAs:"resultLocalCtrl"}}}).state("main.application.noresult",{url:"/no-result",views:{title:{template:"<h2>No results</h2>"},content:{controller:["$state",function(a){}]}}})}]),angular.module("flujogenico20App").controller("resultsLocalController",["$scope","DataSession","$http","$state",function(a,b,c,d){function e(a,b){if(a&&b&&0!==a.length&&0!==b.length)for(var c=0;c<a.length;c++)for(var d=0;d<b.length;d++)if(a[c].underscoreSp()===b[d].id)return!0}function f(a,b,c){var d=a.map(function(a){return a.underscoreSp()}).indexOf(b);if(-1!==d){var e=angular.copy(a[d]);if(!e.indexes||!e.indexes.RI)return e.localResult="no info",e;var f=[];for(var g in e.indexes.RI)e.indexes.RI[g]&&"noProp"!==e.indexes.RI[g]&&f.push(e.indexes.RI[g]);if(f.sort(function(a,b){return b-a})[0]&&c>=1){var h=f.sort(function(a,b){return b-a})[0];h=Math.round(h),e.localResult=h*c/100}else e.localResult=0;return e.proPres=c,e}}var g=this;g.species=b.underscoreResults,g.results=b.results;var h=b.getStep("spSearch").name.split(" ")[0].toLowerCase();g.show=!1,c.get("http://servidor-modelos.cswlabs.cl/models?genero="+h).success(function(a){e(g.results,a)?(g.show=!0,console.log("match")):d.go("main.application.noresult")}),g.localResults=function(a){b.localResults=[];for(var c in a.species)a.species[c]&&b.localResults.push(f(g.results,c,a.species[c]))}}]),angular.module("flujogenico20App").config(["$provide","$mdThemingProvider",function(a,b){var c={};Object.keys(b._PALETTES).forEach(function(a){var d=b._PALETTES[a],e=[];c[a]=e,Object.keys(d).forEach(function(a){/#[0-9A-Fa-f]{6}|0-9A-Fa-f]{8}\b/.exec(d[a])&&(e[a]=d[a])})}),a.factory("mdThemeColors",[function(){return{getColorFactory:function(a,d){var e=d||"default",f=b._THEMES[e].colors[a],g=f.name;return c[g]["default"]=c[g][f.hues["default"]],c[g].hue1=c[g][f.hues["hue-1"]],c[g].hue2=c[g][f.hues["hue-2"]],c[g].hue3=c[g][f.hues["hue-3"]],c[g]}}}]),b.theme("other").primaryPalette("grey",{"default":"800"}).backgroundPalette("grey",{"default":"100"}),b.theme("main").primaryPalette("blue",{"default":"500","hue-1":"100","hue-2":"600","hue-3":"A100"}).backgroundPalette("blue",{"default":"500"}),b.theme("tool").primaryPalette("grey",{"default":"500"}).backgroundPalette("grey",{"default":"200"}),b.theme("footer").primaryPalette("blue",{"default":"500","hue-1":"100","hue-2":"500","hue-3":"A100"}).warnPalette("purple",{"default":"500","hue-1":"800","hue-3":"A100"}).accentPalette("amber",{"default":"500"}).backgroundPalette("blue-grey",{"default":"500"}),b.theme("about").primaryPalette("blue-grey",{"default":"800","hue-1":"100","hue-2":"600","hue-3":"A100"}).backgroundPalette("blue-grey",{"default":"600"}),b.theme("flora").backgroundPalette("light-green",{"default":"800"}),b.theme("fauna").primaryPalette("orange",{"default":"800","hue-1":"100","hue-2":"600","hue-3":"A100"}).accentPalette("purple",{"default":"200"}).backgroundPalette("orange",{"default":"800"}),b.theme("cira").primaryPalette("red",{"default":"500","hue-1":"100","hue-2":"600","hue-3":"A100"}).backgroundPalette("red",{"default":"500"}).accentPalette("purple",{"default":"200"}),b.theme("escala").primaryPalette("blue",{"default":"500","hue-1":"100","hue-2":"600","hue-3":"A100"}).accentPalette("purple",{"default":"500"}).backgroundPalette("blue",{"default":"500"}),b.theme("settings").primaryPalette("purple",{"default":"500","hue-1":"100","hue-2":"600","hue-3":"A100"}).accentPalette("red",{"default":"800"}).backgroundPalette("purple",{"default":"500"})}]),angular.module("flujogenico20App").directive("cFrame",function(){return{template:'<md-progress-linear md-mode="indeterminate" ></md-progress-linear><div id="cframe-div"></div>',scope:{},restrict:"EA",link:function(a,b,c){function d(a){b.find("#cframe-div").empty();var d=encodeURIComponent("https://docs.google.com/document/d/"+a),e="api/cframes/"+d,f=angular.element("<iframe />");f.attr({src:e,frameborder:0}).css({width:"100%",height:"400px",display:"none"}),b.find("#cframe-div").append(f);var g=c.fontSize||null,h=c.margin||0,i=c.padding||0,j=c.backgroundColor||"transparent";f.load(function(){console.log("load"),f.contents().find("p").children().css({"font-size":g}),f.contents().find("p").css({"font-size":g,width:"100%"}),f.contents().find("body").css({margin:h,padding:i,"background-color":j}),f.contents().find("a").attr({target:"_parent"}),f.css("display","inline-block"),b.find("md-progress-linear").css({display:"none"})})}console.log("iniciado cFrame directive"),b.find("#cframe-div").empty(),c.$observe("src",function(a){b.find("md-progress-linear").css({display:"block"}),a&&(console.log("cambió"),d(a))})}}}),angular.module("flujogenico20App").directive("distMap",function(){return{template:'<div id="map"></div>',restrict:"EA",scope:{dmWidth:"@dmWidth",dmHeight:"@dmHeight",species:"=species",selection:"&"},link:function(a,b){function c(a){var b=window.Turf(a);return console.log(b),(b[1]+b[3])/2}var d,e,f=a.dmWidth||"100%",g=a.dmHeight||"450px";d=new window.DMap({container:"map",host:"http://servidor-modelos.cswlabs.cl"}),b.find("#map").css("height",g),b.find("#map").css("width",f),e=a.species,d.on("selectionChange",function(b){a.selection({sp:b}),a.$apply(),console.log(c(b.geom))}),d.setSpecies(e),d.show("max")}}}),function(a){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=a();else if("function"==typeof define&&define.amd)define([],a);else{var b;b="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,b.DMap=a()}}(function(){var a;return function b(a,c,d){function e(g,h){if(!c[g]){if(!a[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};a[g][0].call(k.exports,function(b){var c=a[g][1][b];return e(c?c:b)},k,k.exports,b,a,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(b,c,d){!function(d,e){if("function"==typeof a&&a.amd)a(["jquery"],e);else if("object"==typeof c&&c.exports){var f;try{f=b("jquery")}catch(g){f=null}c.exports=e(f)}else d.Slider=e(d.jQuery)}(this,function(a){var b;return function(a){function b(){}function c(a){function c(b){b.prototype.option||(b.prototype.option=function(b){a.isPlainObject(b)&&(this.options=a.extend(!0,this.options,b))})}function e(b,c){a.fn[b]=function(e){if("string"==typeof e){for(var g=d.call(arguments,1),h=0,i=this.length;i>h;h++){var j=this[h],k=a.data(j,b);if(k)if(a.isFunction(k[e])&&"_"!==e.charAt(0)){var l=k[e].apply(k,g);if(void 0!==l&&l!==k)return l}else f("no such method '"+e+"' for "+b+" instance");else f("cannot call methods on "+b+" prior to initialization; attempted to call '"+e+"'")}return this}var m=this.map(function(){var d=a.data(this,b);return d?(d.option(e),d._init()):(d=new c(this,e),a.data(this,b,d)),a(this)});return!m||m.length>1?m:m[0]}}if(a){var f="undefined"==typeof console?b:function(a){console.error(a)};return a.bridget=function(a,b){c(b),e(a,b)},a.bridget}}var d=Array.prototype.slice;c(a)}(a),function(a){function c(b,c){function d(a,b){var c="data-slider-"+b.replace(/_/g,"-"),d=a.getAttribute(c);try{return JSON.parse(d)}catch(e){return d}}"string"==typeof b?this.element=document.querySelector(b):b instanceof HTMLElement&&(this.element=b),c=c?c:{};for(var f=Object.keys(this.defaultOptions),g=0;g<f.length;g++){var h=f[g],i=c[h];i="undefined"!=typeof i?i:d(this.element,h),i=null!==i?i:this.defaultOptions[h],this.options||(this.options={}),this.options[h]=i}var j,k,l,m,n,o=this.element.style.width,p=!1,q=this.element.parentNode;if(this.sliderElem)p=!0;else{this.sliderElem=document.createElement("div"),this.sliderElem.className="slider";var r=document.createElement("div");if(r.className="slider-track",k=document.createElement("div"),k.className="slider-track-low",j=document.createElement("div"),j.className="slider-selection",l=document.createElement("div"),l.className="slider-track-high",m=document.createElement("div"),m.className="slider-handle min-slider-handle",n=document.createElement("div"),n.className="slider-handle max-slider-handle",r.appendChild(k),r.appendChild(j),r.appendChild(l),this.ticks=[],Array.isArray(this.options.ticks)&&this.options.ticks.length>0){for(g=0;g<this.options.ticks.length;g++){var s=document.createElement("div");s.className="slider-tick",this.ticks.push(s),r.appendChild(s)}j.className+=" tick-slider-selection"}if(r.appendChild(m),r.appendChild(n),this.tickLabels=[],Array.isArray(this.options.ticks_labels)&&this.options.ticks_labels.length>0)for(this.tickLabelContainer=document.createElement("div"),this.tickLabelContainer.className="slider-tick-label-container",g=0;g<this.options.ticks_labels.length;g++){var t=document.createElement("div");t.className="slider-tick-label",t.innerHTML=this.options.ticks_labels[g],this.tickLabels.push(t),this.tickLabelContainer.appendChild(t)}var u=function(a){var b=document.createElement("div");b.className="tooltip-arrow";var c=document.createElement("div");c.className="tooltip-inner",a.appendChild(b),a.appendChild(c)},v=document.createElement("div");v.className="tooltip tooltip-main",u(v);var w=document.createElement("div");w.className="tooltip tooltip-min",u(w);var x=document.createElement("div");x.className="tooltip tooltip-max",u(x),this.sliderElem.appendChild(r),this.sliderElem.appendChild(v),this.sliderElem.appendChild(w),this.sliderElem.appendChild(x),this.tickLabelContainer&&this.sliderElem.appendChild(this.tickLabelContainer),q.insertBefore(this.sliderElem,this.element),this.element.style.display="none"}if(a&&(this.$element=a(this.element),this.$sliderElem=a(this.sliderElem)),this.eventToCallbackMap={},this.sliderElem.id=this.options.id,this.touchCapable="ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch,this.tooltip=this.sliderElem.querySelector(".tooltip-main"),this.tooltipInner=this.tooltip.querySelector(".tooltip-inner"),this.tooltip_min=this.sliderElem.querySelector(".tooltip-min"),this.tooltipInner_min=this.tooltip_min.querySelector(".tooltip-inner"),this.tooltip_max=this.sliderElem.querySelector(".tooltip-max"),this.tooltipInner_max=this.tooltip_max.querySelector(".tooltip-inner"),e[this.options.scale]&&(this.options.scale=e[this.options.scale]),p===!0&&(this._removeClass(this.sliderElem,"slider-horizontal"),this._removeClass(this.sliderElem,"slider-vertical"),this._removeClass(this.tooltip,"hide"),this._removeClass(this.tooltip_min,"hide"),this._removeClass(this.tooltip_max,"hide"),["left","top","width","height"].forEach(function(a){this._removeProperty(this.trackLow,a),this._removeProperty(this.trackSelection,a),this._removeProperty(this.trackHigh,a)},this),[this.handle1,this.handle2].forEach(function(a){this._removeProperty(a,"left"),this._removeProperty(a,"top")},this),[this.tooltip,this.tooltip_min,this.tooltip_max].forEach(function(a){this._removeProperty(a,"left"),this._removeProperty(a,"top"),this._removeProperty(a,"margin-left"),this._removeProperty(a,"margin-top"),this._removeClass(a,"right"),this._removeClass(a,"top")},this)),"vertical"===this.options.orientation?(this._addClass(this.sliderElem,"slider-vertical"),this.stylePos="top",this.mousePos="pageY",this.sizePos="offsetHeight",this._addClass(this.tooltip,"right"),this.tooltip.style.left="100%",this._addClass(this.tooltip_min,"right"),this.tooltip_min.style.left="100%",this._addClass(this.tooltip_max,"right"),this.tooltip_max.style.left="100%"):(this._addClass(this.sliderElem,"slider-horizontal"),this.sliderElem.style.width=o,this.options.orientation="horizontal",this.stylePos="left",this.mousePos="pageX",this.sizePos="offsetWidth",this._addClass(this.tooltip,"top"),this.tooltip.style.top=-this.tooltip.outerHeight-14+"px",this._addClass(this.tooltip_min,"top"),this.tooltip_min.style.top=-this.tooltip_min.outerHeight-14+"px",this._addClass(this.tooltip_max,"top"),this.tooltip_max.style.top=-this.tooltip_max.outerHeight-14+"px"),Array.isArray(this.options.ticks)&&this.options.ticks.length>0&&(this.options.max=Math.max.apply(Math,this.options.ticks),this.options.min=Math.min.apply(Math,this.options.ticks)),Array.isArray(this.options.value)?this.options.range=!0:this.options.range&&(this.options.value=[this.options.value,this.options.max]),this.trackLow=k||this.trackLow,this.trackSelection=j||this.trackSelection,this.trackHigh=l||this.trackHigh,"none"===this.options.selection&&(this._addClass(this.trackLow,"hide"),this._addClass(this.trackSelection,"hide"),this._addClass(this.trackHigh,"hide")),this.handle1=m||this.handle1,this.handle2=n||this.handle2,p===!0)for(this._removeClass(this.handle1,"round triangle"),this._removeClass(this.handle2,"round triangle hide"),g=0;g<this.ticks.length;g++)this._removeClass(this.ticks[g],"round triangle hide");var y=["round","triangle","custom"],z=-1!==y.indexOf(this.options.handle);if(z)for(this._addClass(this.handle1,this.options.handle),this._addClass(this.handle2,this.options.handle),g=0;g<this.ticks.length;g++)this._addClass(this.ticks[g],this.options.handle);this.offset=this._offset(this.sliderElem),this.size=this.sliderElem[this.sizePos],this.setValue(this.options.value),this.handle1Keydown=this._keydown.bind(this,0),this.handle1.addEventListener("keydown",this.handle1Keydown,!1),this.handle2Keydown=this._keydown.bind(this,1),this.handle2.addEventListener("keydown",this.handle2Keydown,!1),this.mousedown=this._mousedown.bind(this),this.touchCapable&&this.sliderElem.addEventListener("touchstart",this.mousedown,!1),this.sliderElem.addEventListener("mousedown",this.mousedown,!1),"hide"===this.options.tooltip?(this._addClass(this.tooltip,"hide"),this._addClass(this.tooltip_min,"hide"),this._addClass(this.tooltip_max,"hide")):"always"===this.options.tooltip?(this._showTooltip(),this._alwaysShowTooltip=!0):(this.showTooltip=this._showTooltip.bind(this),this.hideTooltip=this._hideTooltip.bind(this),this.sliderElem.addEventListener("mouseenter",this.showTooltip,!1),this.sliderElem.addEventListener("mouseleave",this.hideTooltip,!1),this.handle1.addEventListener("focus",this.showTooltip,!1),this.handle1.addEventListener("blur",this.hideTooltip,!1),this.handle2.addEventListener("focus",this.showTooltip,!1),this.handle2.addEventListener("blur",this.hideTooltip,!1)),this.options.enabled?this.enable():this.disable()}var d={formatInvalidInputErrorMsg:function(a){return"Invalid input value '"+a+"' passed in"},callingContextNotSliderInstance:"Calling context element does not have instance of Slider bound to it. Check your code to make sure the JQuery object returned from the call to the slider() initializer is calling the method"},e={linear:{toValue:function(a){var b=a/100*(this.options.max-this.options.min);if(this.options.ticks_positions.length>0){for(var c,d,e,f=0,g=0;g<this.options.ticks_positions.length;g++)if(a<=this.options.ticks_positions[g]){c=g>0?this.options.ticks[g-1]:0,e=g>0?this.options.ticks_positions[g-1]:0,d=this.options.ticks[g],f=this.options.ticks_positions[g];break}if(g>0){var h=(a-e)/(f-e);b=c+h*(d-c)}}var i=this.options.min+Math.round(b/this.options.step)*this.options.step;return i<this.options.min?this.options.min:i>this.options.max?this.options.max:i},toPercentage:function(a){if(this.options.max===this.options.min)return 0;if(this.options.ticks_positions.length>0){for(var b,c,d,e=0,f=0;f<this.options.ticks.length;f++)if(a<=this.options.ticks[f]){b=f>0?this.options.ticks[f-1]:0,d=f>0?this.options.ticks_positions[f-1]:0,c=this.options.ticks[f],e=this.options.ticks_positions[f];break}if(f>0){var g=(a-b)/(c-b);return d+g*(e-d)}}return 100*(a-this.options.min)/(this.options.max-this.options.min)}},logarithmic:{toValue:function(a){var b=0===this.options.min?0:Math.log(this.options.min),c=Math.log(this.options.max),d=Math.exp(b+(c-b)*a/100);return d=this.options.min+Math.round((d-this.options.min)/this.options.step)*this.options.step,d<this.options.min?this.options.min:d>this.options.max?this.options.max:d},toPercentage:function(a){if(this.options.max===this.options.min)return 0;var b=Math.log(this.options.max),c=0===this.options.min?0:Math.log(this.options.min),d=0===a?0:Math.log(a);return 100*(d-c)/(b-c)}}};if(b=function(a,b){return c.call(this,a,b),this},b.prototype={_init:function(){},constructor:b,defaultOptions:{id:"",min:0,max:10,step:1,precision:0,orientation:"horizontal",value:5,range:!1,selection:"before",tooltip:"show",tooltip_split:!1,handle:"round",reversed:!1,enabled:!0,formatter:function(a){return Array.isArray(a)?a[0]+" : "+a[1]:a},natural_arrow_keys:!1,ticks:[],ticks_positions:[],ticks_labels:[],ticks_snap_bounds:0,scale:"linear",focus:!1},over:!1,inDrag:!1,getValue:function(){return this.options.range?this.options.value:this.options.value[0]},setValue:function(a,b,c){a||(a=0);var d=this.getValue();this.options.value=this._validateInputValue(a);var e=this._applyPrecision.bind(this);this.options.range?(this.options.value[0]=e(this.options.value[0]),this.options.value[1]=e(this.options.value[1]),this.options.value[0]=Math.max(this.options.min,Math.min(this.options.max,this.options.value[0])),this.options.value[1]=Math.max(this.options.min,Math.min(this.options.max,this.options.value[1]))):(this.options.value=e(this.options.value),this.options.value=[Math.max(this.options.min,Math.min(this.options.max,this.options.value))],this._addClass(this.handle2,"hide"),"after"===this.options.selection?this.options.value[1]=this.options.max:this.options.value[1]=this.options.min),this.options.max>this.options.min?this.percentage=[this._toPercentage(this.options.value[0]),this._toPercentage(this.options.value[1]),100*this.options.step/(this.options.max-this.options.min)]:this.percentage=[0,0,100],this._layout();var f=this.options.range?this.options.value:this.options.value[0];return b===!0&&this._trigger("slide",f),d!==f&&c===!0&&this._trigger("change",{oldValue:d,newValue:f}),this._setDataVal(f),this},destroy:function(){this._removeSliderEventHandlers(),this.sliderElem.parentNode.removeChild(this.sliderElem),this.element.style.display="",this._cleanUpEventCallbacksMap(),this.element.removeAttribute("data"),a&&(this._unbindJQueryEventHandlers(),this.$element.removeData("slider"))},disable:function(){return this.options.enabled=!1,this.handle1.removeAttribute("tabindex"),this.handle2.removeAttribute("tabindex"),this._addClass(this.sliderElem,"slider-disabled"),this._trigger("slideDisabled"),this},enable:function(){return this.options.enabled=!0,this.handle1.setAttribute("tabindex",0),this.handle2.setAttribute("tabindex",0),this._removeClass(this.sliderElem,"slider-disabled"),this._trigger("slideEnabled"),this},toggle:function(){return this.options.enabled?this.disable():this.enable(),this},isEnabled:function(){return this.options.enabled},on:function(a,b){return this._bindNonQueryEventHandler(a,b),this},off:function(b,c){a?(this.$element.off(b,c),this.$sliderElem.off(b,c)):this._unbindNonQueryEventHandler(b,c)},getAttribute:function(a){return a?this.options[a]:this.options},setAttribute:function(a,b){return this.options[a]=b,this},refresh:function(){return this._removeSliderEventHandlers(),c.call(this,this.element,this.options),a&&a.data(this.element,"slider",this),this},relayout:function(){return this._layout(),this},_removeSliderEventHandlers:function(){this.handle1.removeEventListener("keydown",this.handle1Keydown,!1),this.handle1.removeEventListener("focus",this.showTooltip,!1),this.handle1.removeEventListener("blur",this.hideTooltip,!1),this.handle2.removeEventListener("keydown",this.handle2Keydown,!1),this.handle2.removeEventListener("focus",this.handle2Keydown,!1),this.handle2.removeEventListener("blur",this.handle2Keydown,!1),this.sliderElem.removeEventListener("mouseenter",this.showTooltip,!1),this.sliderElem.removeEventListener("mouseleave",this.hideTooltip,!1),this.sliderElem.removeEventListener("touchstart",this.mousedown,!1),this.sliderElem.removeEventListener("mousedown",this.mousedown,!1)},_bindNonQueryEventHandler:function(a,b){void 0===this.eventToCallbackMap[a]&&(this.eventToCallbackMap[a]=[]),this.eventToCallbackMap[a].push(b)},_unbindNonQueryEventHandler:function(a,b){var c=this.eventToCallbackMap[a];if(void 0!==c)for(var d=0;d<c.length;d++)if(c[d]===b){c.splice(d,1);break}},_cleanUpEventCallbacksMap:function(){for(var a=Object.keys(this.eventToCallbackMap),b=0;b<a.length;b++){var c=a[b];this.eventToCallbackMap[c]=null}},_showTooltip:function(){this.options.tooltip_split===!1?(this._addClass(this.tooltip,"in"),this.tooltip_min.style.display="none",this.tooltip_max.style.display="none"):(this._addClass(this.tooltip_min,"in"),this._addClass(this.tooltip_max,"in"),this.tooltip.style.display="none"),this.over=!0},_hideTooltip:function(){this.inDrag===!1&&this.alwaysShowTooltip!==!0&&(this._removeClass(this.tooltip,"in"),this._removeClass(this.tooltip_min,"in"),this._removeClass(this.tooltip_max,"in")),this.over=!1},_layout:function(){var a;if(a=this.options.reversed?[100-this.percentage[0],this.percentage[1]]:[this.percentage[0],this.percentage[1]],this.handle1.style[this.stylePos]=a[0]+"%",this.handle2.style[this.stylePos]=a[1]+"%",Array.isArray(this.options.ticks)&&this.options.ticks.length>0){var b=Math.max.apply(Math,this.options.ticks),c=Math.min.apply(Math,this.options.ticks),d="vertical"===this.options.orientation?"height":"width",e="vertical"===this.options.orientation?"marginTop":"marginLeft",f=this.size/(this.options.ticks.length-1);if(this.tickLabelContainer){var g=0;if(0===this.options.ticks_positions.length)this.tickLabelContainer.style[e]=-f/2+"px",g=this.tickLabelContainer.offsetHeight;else for(h=0;h<this.tickLabelContainer.childNodes.length;h++)this.tickLabelContainer.childNodes[h].offsetHeight>g&&(g=this.tickLabelContainer.childNodes[h].offsetHeight);"horizontal"===this.options.orientation&&(this.sliderElem.style.marginBottom=g+"px")}for(var h=0;h<this.options.ticks.length;h++){var i=this.options.ticks_positions[h]||100*(this.options.ticks[h]-c)/(b-c);this.ticks[h].style[this.stylePos]=i+"%",this._removeClass(this.ticks[h],"in-selection"),this.options.range?i>=a[0]&&i<=a[1]&&this._addClass(this.ticks[h],"in-selection"):"after"===this.options.selection&&i>=a[0]?this._addClass(this.ticks[h],"in-selection"):"before"===this.options.selection&&i<=a[0]&&this._addClass(this.ticks[h],"in-selection"),this.tickLabels[h]&&(this.tickLabels[h].style[d]=f+"px",void 0!==this.options.ticks_positions[h]&&(this.tickLabels[h].style.position="absolute",this.tickLabels[h].style[this.stylePos]=this.options.ticks_positions[h]+"%",this.tickLabels[h].style[e]=-f/2+"px"))}}if("vertical"===this.options.orientation)this.trackLow.style.top="0",this.trackLow.style.height=Math.min(a[0],a[1])+"%",this.trackSelection.style.top=Math.min(a[0],a[1])+"%",this.trackSelection.style.height=Math.abs(a[0]-a[1])+"%",this.trackHigh.style.bottom="0",this.trackHigh.style.height=100-Math.min(a[0],a[1])-Math.abs(a[0]-a[1])+"%";else{this.trackLow.style.left="0",this.trackLow.style.width=Math.min(a[0],a[1])+"%",this.trackSelection.style.left=Math.min(a[0],a[1])+"%",this.trackSelection.style.width=Math.abs(a[0]-a[1])+"%",this.trackHigh.style.right="0",this.trackHigh.style.width=100-Math.min(a[0],a[1])-Math.abs(a[0]-a[1])+"%";var j=this.tooltip_min.getBoundingClientRect(),k=this.tooltip_max.getBoundingClientRect();j.right>k.left?(this._removeClass(this.tooltip_max,"top"),this._addClass(this.tooltip_max,"bottom"),this.tooltip_max.style.top="18px"):(this._removeClass(this.tooltip_max,"bottom"),this._addClass(this.tooltip_max,"top"),this.tooltip_max.style.top=this.tooltip_min.style.top)}var l;if(this.options.range){l=this.options.formatter(this.options.value),this._setText(this.tooltipInner,l),this.tooltip.style[this.stylePos]=(a[1]+a[0])/2+"%","vertical"===this.options.orientation?this._css(this.tooltip,"margin-top",-this.tooltip.offsetHeight/2+"px"):this._css(this.tooltip,"margin-left",-this.tooltip.offsetWidth/2+"px"),"vertical"===this.options.orientation?this._css(this.tooltip,"margin-top",-this.tooltip.offsetHeight/2+"px"):this._css(this.tooltip,"margin-left",-this.tooltip.offsetWidth/2+"px");var m=this.options.formatter(this.options.value[0]);this._setText(this.tooltipInner_min,m);var n=this.options.formatter(this.options.value[1]);this._setText(this.tooltipInner_max,n),this.tooltip_min.style[this.stylePos]=a[0]+"%","vertical"===this.options.orientation?this._css(this.tooltip_min,"margin-top",-this.tooltip_min.offsetHeight/2+"px"):this._css(this.tooltip_min,"margin-left",-this.tooltip_min.offsetWidth/2+"px"),this.tooltip_max.style[this.stylePos]=a[1]+"%","vertical"===this.options.orientation?this._css(this.tooltip_max,"margin-top",-this.tooltip_max.offsetHeight/2+"px"):this._css(this.tooltip_max,"margin-left",-this.tooltip_max.offsetWidth/2+"px")}else l=this.options.formatter(this.options.value[0]),this._setText(this.tooltipInner,l),this.tooltip.style[this.stylePos]=a[0]+"%","vertical"===this.options.orientation?this._css(this.tooltip,"margin-top",-this.tooltip.offsetHeight/2+"px"):this._css(this.tooltip,"margin-left",-this.tooltip.offsetWidth/2+"px")},_removeProperty:function(a,b){a.style.removeProperty?a.style.removeProperty(b):a.style.removeAttribute(b)},_mousedown:function(a){if(!this.options.enabled)return!1;this.offset=this._offset(this.sliderElem),this.size=this.sliderElem[this.sizePos];var b=this._getPercentage(a);if(this.options.range){var c=Math.abs(this.percentage[0]-b),d=Math.abs(this.percentage[1]-b);this.dragged=d>c?0:1}else this.dragged=0;this.percentage[this.dragged]=this.options.reversed?100-b:b,this._layout(),this.touchCapable&&(document.removeEventListener("touchmove",this.mousemove,!1),document.removeEventListener("touchend",this.mouseup,!1)),this.mousemove&&document.removeEventListener("mousemove",this.mousemove,!1),this.mouseup&&document.removeEventListener("mouseup",this.mouseup,!1),this.mousemove=this._mousemove.bind(this),this.mouseup=this._mouseup.bind(this),this.touchCapable&&(document.addEventListener("touchmove",this.mousemove,!1),
document.addEventListener("touchend",this.mouseup,!1)),document.addEventListener("mousemove",this.mousemove,!1),document.addEventListener("mouseup",this.mouseup,!1),this.inDrag=!0;var e=this._calculateValue();return this._trigger("slideStart",e),this._setDataVal(e),this.setValue(e,!1,!0),this._pauseEvent(a),this.options.focus&&this._triggerFocusOnHandle(this.dragged),!0},_triggerFocusOnHandle:function(a){0===a&&this.handle1.focus(),1===a&&this.handle2.focus()},_keydown:function(a,b){if(!this.options.enabled)return!1;var c;switch(b.keyCode){case 37:case 40:c=-1;break;case 39:case 38:c=1}if(c){if(this.options.natural_arrow_keys){var d="vertical"===this.options.orientation&&!this.options.reversed,e="horizontal"===this.options.orientation&&this.options.reversed;(d||e)&&(c=-c)}var f=this.options.value[a]+c*this.options.step;return this.options.range&&(f=[a?this.options.value[0]:f,a?f:this.options.value[1]]),this._trigger("slideStart",f),this._setDataVal(f),this.setValue(f,!0,!0),this._trigger("slideStop",f),this._setDataVal(f),this._layout(),this._pauseEvent(b),!1}},_pauseEvent:function(a){a.stopPropagation&&a.stopPropagation(),a.preventDefault&&a.preventDefault(),a.cancelBubble=!0,a.returnValue=!1},_mousemove:function(a){if(!this.options.enabled)return!1;var b=this._getPercentage(a);this._adjustPercentageForRangeSliders(b),this.percentage[this.dragged]=this.options.reversed?100-b:b,this._layout();var c=this._calculateValue(!0);return this.setValue(c,!0,!0),!1},_adjustPercentageForRangeSliders:function(a){if(this.options.range){var b=this._getNumDigitsAfterDecimalPlace(a);b=b?b-1:0;var c=this._applyToFixedAndParseFloat(a,b);0===this.dragged&&this._applyToFixedAndParseFloat(this.percentage[1],b)<c?(this.percentage[0]=this.percentage[1],this.dragged=1):1===this.dragged&&this._applyToFixedAndParseFloat(this.percentage[0],b)>c&&(this.percentage[1]=this.percentage[0],this.dragged=0)}},_mouseup:function(){if(!this.options.enabled)return!1;this.touchCapable&&(document.removeEventListener("touchmove",this.mousemove,!1),document.removeEventListener("touchend",this.mouseup,!1)),document.removeEventListener("mousemove",this.mousemove,!1),document.removeEventListener("mouseup",this.mouseup,!1),this.inDrag=!1,this.over===!1&&this._hideTooltip();var a=this._calculateValue(!0);return this._layout(),this._trigger("slideStop",a),this._setDataVal(a),!1},_calculateValue:function(a){var b;if(this.options.range?(b=[this.options.min,this.options.max],0!==this.percentage[0]&&(b[0]=this._toValue(this.percentage[0]),b[0]=this._applyPrecision(b[0])),100!==this.percentage[1]&&(b[1]=this._toValue(this.percentage[1]),b[1]=this._applyPrecision(b[1]))):(b=this._toValue(this.percentage[0]),b=parseFloat(b),b=this._applyPrecision(b)),a){for(var c=[b,1/0],d=0;d<this.options.ticks.length;d++){var e=Math.abs(this.options.ticks[d]-b);e<=c[1]&&(c=[this.options.ticks[d],e])}if(c[1]<=this.options.ticks_snap_bounds)return c[0]}return b},_applyPrecision:function(a){var b=this.options.precision||this._getNumDigitsAfterDecimalPlace(this.options.step);return this._applyToFixedAndParseFloat(a,b)},_getNumDigitsAfterDecimalPlace:function(a){var b=(""+a).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return b?Math.max(0,(b[1]?b[1].length:0)-(b[2]?+b[2]:0)):0},_applyToFixedAndParseFloat:function(a,b){var c=a.toFixed(b);return parseFloat(c)},_getPercentage:function(a){!this.touchCapable||"touchstart"!==a.type&&"touchmove"!==a.type||(a=a.touches[0]);var b=a[this.mousePos],c=this.offset[this.stylePos],d=b-c,e=d/this.size*100;return e=Math.round(e/this.percentage[2])*this.percentage[2],Math.max(0,Math.min(100,e))},_validateInputValue:function(a){if("number"==typeof a)return a;if(Array.isArray(a))return this._validateArray(a),a;throw new Error(d.formatInvalidInputErrorMsg(a))},_validateArray:function(a){for(var b=0;b<a.length;b++){var c=a[b];if("number"!=typeof c)throw new Error(d.formatInvalidInputErrorMsg(c))}},_setDataVal:function(a){var b="value: '"+a+"'";this.element.setAttribute("data",b),this.element.setAttribute("value",a),this.element.value=a},_trigger:function(b,c){c=c||0===c?c:void 0;var d=this.eventToCallbackMap[b];if(d&&d.length)for(var e=0;e<d.length;e++){var f=d[e];f(c)}a&&this._triggerJQueryEvent(b,c)},_triggerJQueryEvent:function(a,b){var c={type:a,value:b};this.$element.trigger(c),this.$sliderElem.trigger(c)},_unbindJQueryEventHandlers:function(){this.$element.off(),this.$sliderElem.off()},_setText:function(a,b){"undefined"!=typeof a.innerText?a.innerText=b:"undefined"!=typeof a.textContent&&(a.textContent=b)},_removeClass:function(a,b){for(var c=b.split(" "),d=a.className,e=0;e<c.length;e++){var f=c[e],g=new RegExp("(?:\\s|^)"+f+"(?:\\s|$)");d=d.replace(g," ")}a.className=d.trim()},_addClass:function(a,b){for(var c=b.split(" "),d=a.className,e=0;e<c.length;e++){var f=c[e],g=new RegExp("(?:\\s|^)"+f+"(?:\\s|$)"),h=g.test(d);h||(d+=" "+f)}a.className=d.trim()},_offsetLeft:function(a){for(var b=a.offsetLeft;(a=a.offsetParent)&&!isNaN(a.offsetLeft);)b+=a.offsetLeft;return b},_offsetTop:function(a){for(var b=a.offsetTop;(a=a.offsetParent)&&!isNaN(a.offsetTop);)b+=a.offsetTop;return b},_offset:function(a){return{left:this._offsetLeft(a),top:this._offsetTop(a)}},_css:function(b,c,d){if(a)a.style(b,c,d);else{var e=c.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,function(a,b){return b.toUpperCase()});b.style[e]=d}},_toValue:function(a){return this.options.scale.toValue.apply(this,[a])},_toPercentage:function(a){return this.options.scale.toPercentage.apply(this,[a])}},a){var f=a.fn.slider?"bootstrapSlider":"slider";a.bridget(f,b)}}(a),b})},{jquery:void 0}],2:[function(a,b,c){function d(a,b){if("string"!=typeof a)throw new TypeError("String expected");b||(b=document);var c=/<([\w:]+)/.exec(a);if(!c)return b.createTextNode(a);a=a.replace(/^\s+|\s+$/g,"");var d=c[1];if("body"==d){var e=b.createElement("html");return e.innerHTML=a,e.removeChild(e.lastChild)}var f=g[d]||g._default,h=f[0],i=f[1],j=f[2],e=b.createElement("div");for(e.innerHTML=i+a+j;h--;)e=e.lastChild;if(e.firstChild==e.lastChild)return e.removeChild(e.firstChild);for(var k=b.createDocumentFragment();e.firstChild;)k.appendChild(e.removeChild(e.firstChild));return k}b.exports=d;var e=document.createElement("div");e.innerHTML='  <link/><table></table><a href="/a">a</a><input type="checkbox"/>';var f=!e.getElementsByTagName("link").length;e=void 0;var g={legend:[1,"<fieldset>","</fieldset>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],_default:f?[1,"X<div>","</div>"]:[0,"",""]};g.td=g.th=[3,"<table><tbody><tr>","</tr></tbody></table>"],g.option=g.optgroup=[1,'<select multiple="multiple">',"</select>"],g.thead=g.tbody=g.colgroup=g.caption=g.tfoot=[1,"<table>","</table>"],g.polyline=g.ellipse=g.polygon=g.circle=g.text=g.line=g.path=g.rect=g.g=[1,'<svg xmlns="http://www.w3.org/2000/svg" version="1.1">',"</svg>"]},{}],3:[function(a,b,c){!function(a,b){L.drawVersion="0.2.4-dev",L.drawLocal={draw:{toolbar:{actions:{title:"Cancel drawing",text:"Cancel"},undo:{title:"Delete last point drawn",text:"Delete last point"},buttons:{polyline:"Draw a polyline",polygon:"Draw a polygon",rectangle:"Draw a rectangle",circle:"Draw a circle",marker:"Draw a marker"}},handlers:{circle:{tooltip:{start:"Click and drag to draw circle."}},marker:{tooltip:{start:"Click map to place marker."}},polygon:{tooltip:{start:"Click to start drawing shape.",cont:"Click to continue drawing shape.",end:"Click first point to close this shape."}},polyline:{error:"<strong>Error:</strong> shape edges cannot cross!",tooltip:{start:"Click to start drawing line.",cont:"Click to continue drawing line.",end:"Click last point to finish line."}},rectangle:{tooltip:{start:"Click and drag to draw rectangle."}},simpleshape:{tooltip:{end:"Release mouse to finish drawing."}}}},edit:{toolbar:{actions:{save:{title:"Save changes.",text:"Save"},cancel:{title:"Cancel editing, discards all changes.",text:"Cancel"}},buttons:{edit:"Edit layers.",editDisabled:"No layers to edit.",remove:"Delete layers.",removeDisabled:"No layers to delete."}},handlers:{edit:{tooltip:{text:"Drag handles, or marker to edit feature.",subtext:"Click cancel to undo changes."}},remove:{tooltip:{text:"Click on a feature to remove"}}}}},L.Draw={},L.Draw.Feature=L.Handler.extend({includes:L.Mixin.Events,initialize:function(a,b){this._map=a,this._container=a._container,this._overlayPane=a._panes.overlayPane,this._popupPane=a._panes.popupPane,b&&b.shapeOptions&&(b.shapeOptions=L.Util.extend({},this.options.shapeOptions,b.shapeOptions)),L.setOptions(this,b)},enable:function(){this._enabled||(this.fire("enabled",{handler:this.type}),this._map.fire("draw:drawstart",{layerType:this.type}),L.Handler.prototype.enable.call(this))},disable:function(){this._enabled&&(L.Handler.prototype.disable.call(this),this._map.fire("draw:drawstop",{layerType:this.type}),this.fire("disabled",{handler:this.type}))},addHooks:function(){var a=this._map;a&&(L.DomUtil.disableTextSelection(),a.getContainer().focus(),this._tooltip=new L.Tooltip(this._map),L.DomEvent.on(this._container,"keyup",this._cancelDrawing,this))},removeHooks:function(){this._map&&(L.DomUtil.enableTextSelection(),this._tooltip.dispose(),this._tooltip=null,L.DomEvent.off(this._container,"keyup",this._cancelDrawing,this))},setOptions:function(a){L.setOptions(this,a)},_fireCreatedEvent:function(a){this._map.fire("draw:created",{layer:a,layerType:this.type})},_cancelDrawing:function(a){27===a.keyCode&&this.disable()}}),L.Draw.Polyline=L.Draw.Feature.extend({statics:{TYPE:"polyline"},Poly:L.Polyline,options:{allowIntersection:!0,repeatMode:!1,drawError:{color:"#b00b00",timeout:2500},icon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon"}),guidelineDistance:20,maxGuideLineLength:4e3,shapeOptions:{stroke:!0,color:"#f06eaa",weight:4,opacity:.5,fill:!1,clickable:!0},metric:!0,showLength:!0,zIndexOffset:2e3},initialize:function(a,b){this.options.drawError.message=L.drawLocal.draw.handlers.polyline.error,b&&b.drawError&&(b.drawError=L.Util.extend({},this.options.drawError,b.drawError)),this.type=L.Draw.Polyline.TYPE,L.Draw.Feature.prototype.initialize.call(this,a,b)},addHooks:function(){L.Draw.Feature.prototype.addHooks.call(this),this._map&&(this._markers=[],this._markerGroup=new L.LayerGroup,this._map.addLayer(this._markerGroup),this._poly=new L.Polyline([],this.options.shapeOptions),this._tooltip.updateContent(this._getTooltipText()),this._mouseMarker||(this._mouseMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"leaflet-mouse-marker",iconAnchor:[20,20],iconSize:[40,40]}),opacity:0,zIndexOffset:this.options.zIndexOffset})),this._mouseMarker.on("mousedown",this._onMouseDown,this).addTo(this._map),this._map.on("mousemove",this._onMouseMove,this).on("mouseup",this._onMouseUp,this).on("zoomend",this._onZoomEnd,this))},removeHooks:function(){L.Draw.Feature.prototype.removeHooks.call(this),this._clearHideErrorTimeout(),this._cleanUpShape(),this._map.removeLayer(this._markerGroup),delete this._markerGroup,delete this._markers,this._map.removeLayer(this._poly),delete this._poly,this._mouseMarker.off("mousedown",this._onMouseDown,this).off("mouseup",this._onMouseUp,this),this._map.removeLayer(this._mouseMarker),delete this._mouseMarker,this._clearGuides(),this._map.off("mousemove",this._onMouseMove,this).off("zoomend",this._onZoomEnd,this)},deleteLastVertex:function(){if(!(this._markers.length<=1)){var a=this._markers.pop(),b=this._poly,c=this._poly.spliceLatLngs(b.getLatLngs().length-1,1)[0];this._markerGroup.removeLayer(a),b.getLatLngs().length<2&&this._map.removeLayer(b),this._vertexChanged(c,!1)}},addVertex:function(a){var b=this._markers.length;return b>0&&!this.options.allowIntersection&&this._poly.newLatLngIntersects(a)?void this._showErrorTooltip():(this._errorShown&&this._hideErrorTooltip(),this._markers.push(this._createMarker(a)),this._poly.addLatLng(a),2===this._poly.getLatLngs().length&&this._map.addLayer(this._poly),void this._vertexChanged(a,!0))},_finishShape:function(){var a=this._poly.newLatLngIntersects(this._poly.getLatLngs()[0],!0);return!this.options.allowIntersection&&a||!this._shapeIsValid()?void this._showErrorTooltip():(this._fireCreatedEvent(),this.disable(),void(this.options.repeatMode&&this.enable()))},_shapeIsValid:function(){return!0},_onZoomEnd:function(){this._updateGuide()},_onMouseMove:function(a){var b=a.layerPoint,c=a.latlng;this._currentLatLng=c,this._updateTooltip(c),this._updateGuide(b),this._mouseMarker.setLatLng(c),L.DomEvent.preventDefault(a.originalEvent)},_vertexChanged:function(a,b){this._updateFinishHandler(),this._updateRunningMeasure(a,b),this._clearGuides(),this._updateTooltip()},_onMouseDown:function(a){var b=a.originalEvent;this._mouseDownOrigin=L.point(b.clientX,b.clientY)},_onMouseUp:function(b){if(this._mouseDownOrigin){var c=L.point(b.originalEvent.clientX,b.originalEvent.clientY).distanceTo(this._mouseDownOrigin);Math.abs(c)<9*(a.devicePixelRatio||1)&&this.addVertex(b.latlng)}this._mouseDownOrigin=null},_updateFinishHandler:function(){var a=this._markers.length;a>1&&this._markers[a-1].on("click",this._finishShape,this),a>2&&this._markers[a-2].off("click",this._finishShape,this)},_createMarker:function(a){var b=new L.Marker(a,{icon:this.options.icon,zIndexOffset:2*this.options.zIndexOffset});return this._markerGroup.addLayer(b),b},_updateGuide:function(a){var b=this._markers.length;b>0&&(a=a||this._map.latLngToLayerPoint(this._currentLatLng),this._clearGuides(),this._drawGuide(this._map.latLngToLayerPoint(this._markers[b-1].getLatLng()),a))},_updateTooltip:function(a){var b=this._getTooltipText();a&&this._tooltip.updatePosition(a),this._errorShown||this._tooltip.updateContent(b)},_drawGuide:function(a,b){var c,d,e,f=Math.floor(Math.sqrt(Math.pow(b.x-a.x,2)+Math.pow(b.y-a.y,2))),g=this.options.guidelineDistance,h=this.options.maxGuideLineLength,i=f>h?f-h:g;for(this._guidesContainer||(this._guidesContainer=L.DomUtil.create("div","leaflet-draw-guides",this._overlayPane));f>i;i+=this.options.guidelineDistance)c=i/f,d={x:Math.floor(a.x*(1-c)+c*b.x),y:Math.floor(a.y*(1-c)+c*b.y)},e=L.DomUtil.create("div","leaflet-draw-guide-dash",this._guidesContainer),e.style.backgroundColor=this._errorShown?this.options.drawError.color:this.options.shapeOptions.color,L.DomUtil.setPosition(e,d)},_updateGuideColor:function(a){if(this._guidesContainer)for(var b=0,c=this._guidesContainer.childNodes.length;c>b;b++)this._guidesContainer.childNodes[b].style.backgroundColor=a},_clearGuides:function(){if(this._guidesContainer)for(;this._guidesContainer.firstChild;)this._guidesContainer.removeChild(this._guidesContainer.firstChild)},_getTooltipText:function(){var a,b,c=this.options.showLength;return 0===this._markers.length?a={text:L.drawLocal.draw.handlers.polyline.tooltip.start}:(b=c?this._getMeasurementString():"",a=1===this._markers.length?{text:L.drawLocal.draw.handlers.polyline.tooltip.cont,subtext:b}:{text:L.drawLocal.draw.handlers.polyline.tooltip.end,subtext:b}),a},_updateRunningMeasure:function(a,b){var c,d,e=this._markers.length;1===this._markers.length?this._measurementRunningTotal=0:(c=e-(b?2:1),d=a.distanceTo(this._markers[c].getLatLng()),this._measurementRunningTotal+=d*(b?1:-1))},_getMeasurementString:function(){var a,b=this._currentLatLng,c=this._markers[this._markers.length-1].getLatLng();return a=this._measurementRunningTotal+b.distanceTo(c),L.GeometryUtil.readableDistance(a,this.options.metric)},_showErrorTooltip:function(){this._errorShown=!0,this._tooltip.showAsError().updateContent({text:this.options.drawError.message}),this._updateGuideColor(this.options.drawError.color),this._poly.setStyle({color:this.options.drawError.color}),this._clearHideErrorTimeout(),this._hideErrorTimeout=setTimeout(L.Util.bind(this._hideErrorTooltip,this),this.options.drawError.timeout)},_hideErrorTooltip:function(){this._errorShown=!1,this._clearHideErrorTimeout(),this._tooltip.removeError().updateContent(this._getTooltipText()),this._updateGuideColor(this.options.shapeOptions.color),this._poly.setStyle({color:this.options.shapeOptions.color})},_clearHideErrorTimeout:function(){this._hideErrorTimeout&&(clearTimeout(this._hideErrorTimeout),this._hideErrorTimeout=null)},_cleanUpShape:function(){this._markers.length>1&&this._markers[this._markers.length-1].off("click",this._finishShape,this)},_fireCreatedEvent:function(){var a=new this.Poly(this._poly.getLatLngs(),this.options.shapeOptions);L.Draw.Feature.prototype._fireCreatedEvent.call(this,a)}}),L.Draw.Polygon=L.Draw.Polyline.extend({statics:{TYPE:"polygon"},Poly:L.Polygon,options:{showArea:!1,shapeOptions:{stroke:!0,color:"#f06eaa",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0}},initialize:function(a,b){L.Draw.Polyline.prototype.initialize.call(this,a,b),this.type=L.Draw.Polygon.TYPE},_updateFinishHandler:function(){var a=this._markers.length;1===a&&this._markers[0].on("click",this._finishShape,this),a>2&&(this._markers[a-1].on("dblclick",this._finishShape,this),a>3&&this._markers[a-2].off("dblclick",this._finishShape,this))},_getTooltipText:function(){var a,b;return 0===this._markers.length?a=L.drawLocal.draw.handlers.polygon.tooltip.start:this._markers.length<3?a=L.drawLocal.draw.handlers.polygon.tooltip.cont:(a=L.drawLocal.draw.handlers.polygon.tooltip.end,b=this._getMeasurementString()),{text:a,subtext:b}},_getMeasurementString:function(){var a=this._area;return a?L.GeometryUtil.readableArea(a,this.options.metric):null},_shapeIsValid:function(){return this._markers.length>=3},_vertexChanged:function(a,b){var c;!this.options.allowIntersection&&this.options.showArea&&(c=this._poly.getLatLngs(),this._area=L.GeometryUtil.geodesicArea(c)),L.Draw.Polyline.prototype._vertexChanged.call(this,a,b)},_cleanUpShape:function(){var a=this._markers.length;a>0&&(this._markers[0].off("click",this._finishShape,this),a>2&&this._markers[a-1].off("dblclick",this._finishShape,this))}}),L.SimpleShape={},L.Draw.SimpleShape=L.Draw.Feature.extend({options:{repeatMode:!1},initialize:function(a,b){this._endLabelText=L.drawLocal.draw.handlers.simpleshape.tooltip.end,L.Draw.Feature.prototype.initialize.call(this,a,b)},addHooks:function(){L.Draw.Feature.prototype.addHooks.call(this),this._map&&(this._mapDraggable=this._map.dragging.enabled(),this._mapDraggable&&this._map.dragging.disable(),this._container.style.cursor="crosshair",this._tooltip.updateContent({text:this._initialLabelText}),this._map.on("mousedown",this._onMouseDown,this).on("mousemove",this._onMouseMove,this))},removeHooks:function(){L.Draw.Feature.prototype.removeHooks.call(this),this._map&&(this._mapDraggable&&this._map.dragging.enable(),this._container.style.cursor="",this._map.off("mousedown",this._onMouseDown,this).off("mousemove",this._onMouseMove,this),L.DomEvent.off(b,"mouseup",this._onMouseUp,this),this._shape&&(this._map.removeLayer(this._shape),delete this._shape)),this._isDrawing=!1},_onMouseDown:function(a){this._isDrawing=!0,this._startLatLng=a.latlng,L.DomEvent.on(b,"mouseup",this._onMouseUp,this).preventDefault(a.originalEvent)},_onMouseMove:function(a){var b=a.latlng;this._tooltip.updatePosition(b),this._isDrawing&&(this._tooltip.updateContent({text:this._endLabelText}),this._drawShape(b))},_onMouseUp:function(){this._shape&&this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable()}}),L.Draw.Rectangle=L.Draw.SimpleShape.extend({statics:{TYPE:"rectangle"},options:{shapeOptions:{stroke:!0,color:"#f06eaa",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0}},initialize:function(a,b){this.type=L.Draw.Rectangle.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.rectangle.tooltip.start,L.Draw.SimpleShape.prototype.initialize.call(this,a,b)},_drawShape:function(a){this._shape?this._shape.setBounds(new L.LatLngBounds(this._startLatLng,a)):(this._shape=new L.Rectangle(new L.LatLngBounds(this._startLatLng,a),this.options.shapeOptions),this._map.addLayer(this._shape))},_fireCreatedEvent:function(){var a=new L.Rectangle(this._shape.getBounds(),this.options.shapeOptions);L.Draw.SimpleShape.prototype._fireCreatedEvent.call(this,a)}}),L.Draw.Circle=L.Draw.SimpleShape.extend({statics:{TYPE:"circle"},options:{shapeOptions:{stroke:!0,color:"#f06eaa",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0},showRadius:!0,metric:!0},initialize:function(a,b){this.type=L.Draw.Circle.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.circle.tooltip.start,L.Draw.SimpleShape.prototype.initialize.call(this,a,b)},_drawShape:function(a){this._shape?this._shape.setRadius(this._startLatLng.distanceTo(a)):(this._shape=new L.Circle(this._startLatLng,this._startLatLng.distanceTo(a),this.options.shapeOptions),this._map.addLayer(this._shape))},_fireCreatedEvent:function(){var a=new L.Circle(this._startLatLng,this._shape.getRadius(),this.options.shapeOptions);L.Draw.SimpleShape.prototype._fireCreatedEvent.call(this,a)},_onMouseMove:function(a){var b,c=a.latlng,d=this.options.showRadius,e=this.options.metric;this._tooltip.updatePosition(c),this._isDrawing&&(this._drawShape(c),b=this._shape.getRadius().toFixed(1),this._tooltip.updateContent({text:this._endLabelText,subtext:d?"Radius: "+L.GeometryUtil.readableDistance(b,e):""}))}}),L.Draw.Marker=L.Draw.Feature.extend({statics:{TYPE:"marker"},options:{icon:new L.Icon.Default,repeatMode:!1,zIndexOffset:2e3},initialize:function(a,b){this.type=L.Draw.Marker.TYPE,L.Draw.Feature.prototype.initialize.call(this,a,b)},addHooks:function(){L.Draw.Feature.prototype.addHooks.call(this),this._map&&(this._tooltip.updateContent({text:L.drawLocal.draw.handlers.marker.tooltip.start}),this._mouseMarker||(this._mouseMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"leaflet-mouse-marker",iconAnchor:[20,20],iconSize:[40,40]}),opacity:0,zIndexOffset:this.options.zIndexOffset})),this._mouseMarker.on("click",this._onClick,this).addTo(this._map),this._map.on("mousemove",this._onMouseMove,this))},removeHooks:function(){L.Draw.Feature.prototype.removeHooks.call(this),this._map&&(this._marker&&(this._marker.off("click",this._onClick,this),this._map.off("click",this._onClick,this).removeLayer(this._marker),delete this._marker),this._mouseMarker.off("click",this._onClick,this),this._map.removeLayer(this._mouseMarker),delete this._mouseMarker,this._map.off("mousemove",this._onMouseMove,this))},_onMouseMove:function(a){var b=a.latlng;this._tooltip.updatePosition(b),this._mouseMarker.setLatLng(b),this._marker?(b=this._mouseMarker.getLatLng(),this._marker.setLatLng(b)):(this._marker=new L.Marker(b,{icon:this.options.icon,zIndexOffset:this.options.zIndexOffset}),this._marker.on("click",this._onClick,this),this._map.on("click",this._onClick,this).addLayer(this._marker))},_onClick:function(){this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable()},_fireCreatedEvent:function(){var a=new L.Marker(this._marker.getLatLng(),{icon:this.options.icon});L.Draw.Feature.prototype._fireCreatedEvent.call(this,a)}}),L.Edit=L.Edit||{},L.Edit.Poly=L.Handler.extend({options:{icon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon"})},initialize:function(a,b){this._poly=a,L.setOptions(this,b)},addHooks:function(){this._poly._map&&(this._markerGroup||this._initMarkers(),this._poly._map.addLayer(this._markerGroup))},removeHooks:function(){this._poly._map&&(this._poly._map.removeLayer(this._markerGroup),delete this._markerGroup,delete this._markers)},updateMarkers:function(){this._markerGroup.clearLayers(),this._initMarkers()},_initMarkers:function(){this._markerGroup||(this._markerGroup=new L.LayerGroup),this._markers=[];var a,b,c,d,e=this._poly._latlngs;for(a=0,c=e.length;c>a;a++)d=this._createMarker(e[a],a),d.on("click",this._onMarkerClick,this),this._markers.push(d);var f,g;for(a=0,b=c-1;c>a;b=a++)(0!==a||L.Polygon&&this._poly instanceof L.Polygon)&&(f=this._markers[b],g=this._markers[a],this._createMiddleMarker(f,g),this._updatePrevNext(f,g))},_createMarker:function(a,b){var c=new L.Marker(a,{draggable:!0,icon:this.options.icon});return c._origLatLng=a,c._index=b,c.on("drag",this._onMarkerDrag,this),c.on("dragend",this._fireEdit,this),this._markerGroup.addLayer(c),c},_removeMarker:function(a){var b=a._index;this._markerGroup.removeLayer(a),this._markers.splice(b,1),this._poly.spliceLatLngs(b,1),this._updateIndexes(b,-1),a.off("drag",this._onMarkerDrag,this).off("dragend",this._fireEdit,this).off("click",this._onMarkerClick,this)},_fireEdit:function(){this._poly.edited=!0,this._poly.fire("edit")},_onMarkerDrag:function(a){var b=a.target;L.extend(b._origLatLng,b._latlng),b._middleLeft&&b._middleLeft.setLatLng(this._getMiddleLatLng(b._prev,b)),b._middleRight&&b._middleRight.setLatLng(this._getMiddleLatLng(b,b._next)),this._poly.redraw()},_onMarkerClick:function(a){var b=L.Polygon&&this._poly instanceof L.Polygon?4:3,c=a.target;this._poly._latlngs.length<b||(this._removeMarker(c),this._updatePrevNext(c._prev,c._next),c._middleLeft&&this._markerGroup.removeLayer(c._middleLeft),c._middleRight&&this._markerGroup.removeLayer(c._middleRight),c._prev&&c._next?this._createMiddleMarker(c._prev,c._next):c._prev?c._next||(c._prev._middleRight=null):c._next._middleLeft=null,this._fireEdit())},_updateIndexes:function(a,b){this._markerGroup.eachLayer(function(c){c._index>a&&(c._index+=b)})},_createMiddleMarker:function(a,b){var c,d,e,f=this._getMiddleLatLng(a,b),g=this._createMarker(f);g.setOpacity(.6),a._middleRight=b._middleLeft=g,d=function(){var d=b._index;g._index=d,g.off("click",c,this).on("click",this._onMarkerClick,this),f.lat=g.getLatLng().lat,f.lng=g.getLatLng().lng,this._poly.spliceLatLngs(d,0,f),this._markers.splice(d,0,g),g.setOpacity(1),this._updateIndexes(d,1),b._index++,this._updatePrevNext(a,g),this._updatePrevNext(g,b),this._poly.fire("editstart")},e=function(){g.off("dragstart",d,this),g.off("dragend",e,this),this._createMiddleMarker(a,g),this._createMiddleMarker(g,b)},c=function(){d.call(this),e.call(this),this._fireEdit()},g.on("click",c,this).on("dragstart",d,this).on("dragend",e,this),this._markerGroup.addLayer(g)},_updatePrevNext:function(a,b){a&&(a._next=b),b&&(b._prev=a)},_getMiddleLatLng:function(a,b){var c=this._poly._map,d=c.project(a.getLatLng()),e=c.project(b.getLatLng());return c.unproject(d._add(e)._divideBy(2))}}),L.Polyline.addInitHook(function(){this.editing||(L.Edit.Poly&&(this.editing=new L.Edit.Poly(this),this.options.editable&&this.editing.enable()),this.on("add",function(){this.editing&&this.editing.enabled()&&this.editing.addHooks()}),this.on("remove",function(){this.editing&&this.editing.enabled()&&this.editing.removeHooks()}))}),L.Edit=L.Edit||{},L.Edit.SimpleShape=L.Handler.extend({options:{moveIcon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-move"}),resizeIcon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-resize"})},initialize:function(a,b){this._shape=a,L.Util.setOptions(this,b)},addHooks:function(){this._shape._map&&(this._map=this._shape._map,this._markerGroup||this._initMarkers(),this._map.addLayer(this._markerGroup))},removeHooks:function(){if(this._shape._map){this._unbindMarker(this._moveMarker);for(var a=0,b=this._resizeMarkers.length;b>a;a++)this._unbindMarker(this._resizeMarkers[a]);this._resizeMarkers=null,this._map.removeLayer(this._markerGroup),delete this._markerGroup}this._map=null},updateMarkers:function(){this._markerGroup.clearLayers(),this._initMarkers()},_initMarkers:function(){this._markerGroup||(this._markerGroup=new L.LayerGroup),this._createMoveMarker(),this._createResizeMarker()},_createMoveMarker:function(){},_createResizeMarker:function(){},_createMarker:function(a,b){var c=new L.Marker(a,{draggable:!0,icon:b,zIndexOffset:10});return this._bindMarker(c),this._markerGroup.addLayer(c),c},_bindMarker:function(a){a.on("dragstart",this._onMarkerDragStart,this).on("drag",this._onMarkerDrag,this).on("dragend",this._onMarkerDragEnd,this)},_unbindMarker:function(a){a.off("dragstart",this._onMarkerDragStart,this).off("drag",this._onMarkerDrag,this).off("dragend",this._onMarkerDragEnd,this)},_onMarkerDragStart:function(a){var b=a.target;b.setOpacity(0),this._shape.fire("editstart")},_fireEdit:function(){this._shape.edited=!0,this._shape.fire("edit")},_onMarkerDrag:function(a){var b=a.target,c=b.getLatLng();b===this._moveMarker?this._move(c):this._resize(c),this._shape.redraw()},_onMarkerDragEnd:function(a){var b=a.target;b.setOpacity(1),this._fireEdit()},_move:function(){},_resize:function(){}}),L.Edit=L.Edit||{},L.Edit.Rectangle=L.Edit.SimpleShape.extend({_createMoveMarker:function(){var a=this._shape.getBounds(),b=a.getCenter();this._moveMarker=this._createMarker(b,this.options.moveIcon)},_createResizeMarker:function(){var a=this._getCorners();this._resizeMarkers=[];for(var b=0,c=a.length;c>b;b++)this._resizeMarkers.push(this._createMarker(a[b],this.options.resizeIcon)),this._resizeMarkers[b]._cornerIndex=b},_onMarkerDragStart:function(a){L.Edit.SimpleShape.prototype._onMarkerDragStart.call(this,a);var b=this._getCorners(),c=a.target,d=c._cornerIndex;this._oppositeCorner=b[(d+2)%4],this._toggleCornerMarkers(0,d)},_onMarkerDragEnd:function(a){var b,c,d=a.target;d===this._moveMarker&&(b=this._shape.getBounds(),c=b.getCenter(),d.setLatLng(c)),this._toggleCornerMarkers(1),this._repositionCornerMarkers(),L.Edit.SimpleShape.prototype._onMarkerDragEnd.call(this,a)},_move:function(a){for(var b,c=this._shape.getLatLngs(),d=this._shape.getBounds(),e=d.getCenter(),f=[],g=0,h=c.length;h>g;g++)b=[c[g].lat-e.lat,c[g].lng-e.lng],f.push([a.lat+b[0],a.lng+b[1]]);this._shape.setLatLngs(f),this._repositionCornerMarkers()},_resize:function(a){var b;this._shape.setBounds(L.latLngBounds(a,this._oppositeCorner)),b=this._shape.getBounds(),this._moveMarker.setLatLng(b.getCenter())},_getCorners:function(){var a=this._shape.getBounds(),b=a.getNorthWest(),c=a.getNorthEast(),d=a.getSouthEast(),e=a.getSouthWest();return[b,c,d,e]},_toggleCornerMarkers:function(a){for(var b=0,c=this._resizeMarkers.length;c>b;b++)this._resizeMarkers[b].setOpacity(a)},_repositionCornerMarkers:function(){for(var a=this._getCorners(),b=0,c=this._resizeMarkers.length;c>b;b++)this._resizeMarkers[b].setLatLng(a[b])}}),L.Rectangle.addInitHook(function(){L.Edit.Rectangle&&(this.editing=new L.Edit.Rectangle(this),this.options.editable&&this.editing.enable())}),L.Edit=L.Edit||{},L.Edit.Circle=L.Edit.SimpleShape.extend({_createMoveMarker:function(){var a=this._shape.getLatLng();this._moveMarker=this._createMarker(a,this.options.moveIcon)},_createResizeMarker:function(){var a=this._shape.getLatLng(),b=this._getResizeMarkerPoint(a);this._resizeMarkers=[],this._resizeMarkers.push(this._createMarker(b,this.options.resizeIcon))},_getResizeMarkerPoint:function(a){var b=this._shape._radius*Math.cos(Math.PI/4),c=this._map.project(a);return this._map.unproject([c.x+b,c.y-b])},_move:function(a){var b=this._getResizeMarkerPoint(a);this._resizeMarkers[0].setLatLng(b),this._shape.setLatLng(a)},_resize:function(a){var b=this._moveMarker.getLatLng(),c=b.distanceTo(a);this._shape.setRadius(c)}}),L.Circle.addInitHook(function(){L.Edit.Circle&&(this.editing=new L.Edit.Circle(this),this.options.editable&&this.editing.enable()),this.on("add",function(){this.editing&&this.editing.enabled()&&this.editing.addHooks()}),this.on("remove",function(){this.editing&&this.editing.enabled()&&this.editing.removeHooks()})}),L.LatLngUtil={cloneLatLngs:function(a){for(var b=[],c=0,d=a.length;d>c;c++)b.push(this.cloneLatLng(a[c]));return b},cloneLatLng:function(a){return L.latLng(a.lat,a.lng)}},L.GeometryUtil=L.extend(L.GeometryUtil||{},{geodesicArea:function(a){var b,c,d=a.length,e=0,f=L.LatLng.DEG_TO_RAD;if(d>2){for(var g=0;d>g;g++)b=a[g],c=a[(g+1)%d],e+=(c.lng-b.lng)*f*(2+Math.sin(b.lat*f)+Math.sin(c.lat*f));e=6378137*e*6378137/2}return Math.abs(e)},readableArea:function(a,b){var c;return b?c=a>=1e4?(1e-4*a).toFixed(2)+" ha":a.toFixed(2)+" m&sup2;":(a*=.836127,
c=a>=3097600?(a/3097600).toFixed(2)+" mi&sup2;":a>=4840?(a/4840).toFixed(2)+" acres":Math.ceil(a)+" yd&sup2;"),c},readableDistance:function(a,b){var c;return b?c=a>1e3?(a/1e3).toFixed(2)+" km":Math.ceil(a)+" m":(a*=1.09361,c=a>1760?(a/1760).toFixed(2)+" miles":Math.ceil(a)+" yd"),c}}),L.Util.extend(L.LineUtil,{segmentsIntersect:function(a,b,c,d){return this._checkCounterclockwise(a,c,d)!==this._checkCounterclockwise(b,c,d)&&this._checkCounterclockwise(a,b,c)!==this._checkCounterclockwise(a,b,d)},_checkCounterclockwise:function(a,b,c){return(c.y-a.y)*(b.x-a.x)>(b.y-a.y)*(c.x-a.x)}}),L.Polyline.include({intersects:function(){var a,b,c,d=this._originalPoints,e=d?d.length:0;if(this._tooFewPointsForIntersection())return!1;for(a=e-1;a>=3;a--)if(b=d[a-1],c=d[a],this._lineSegmentsIntersectsRange(b,c,a-2))return!0;return!1},newLatLngIntersects:function(a,b){return this._map?this.newPointIntersects(this._map.latLngToLayerPoint(a),b):!1},newPointIntersects:function(a,b){var c=this._originalPoints,d=c?c.length:0,e=c?c[d-1]:null,f=d-2;return this._tooFewPointsForIntersection(1)?!1:this._lineSegmentsIntersectsRange(e,a,f,b?1:0)},_tooFewPointsForIntersection:function(a){var b=this._originalPoints,c=b?b.length:0;return c+=a||0,!this._originalPoints||3>=c},_lineSegmentsIntersectsRange:function(a,b,c,d){var e,f,g=this._originalPoints;d=d||0;for(var h=c;h>d;h--)if(e=g[h-1],f=g[h],L.LineUtil.segmentsIntersect(a,b,e,f))return!0;return!1}}),L.Polygon.include({intersects:function(){var a,b,c,d,e,f=this._originalPoints;return this._tooFewPointsForIntersection()?!1:(a=L.Polyline.prototype.intersects.call(this))?!0:(b=f.length,c=f[0],d=f[b-1],e=b-2,this._lineSegmentsIntersectsRange(d,c,e,1))}}),L.Control.Draw=L.Control.extend({options:{position:"topleft",draw:{},edit:!1},initialize:function(a){if(L.version<"0.7")throw new Error("Leaflet.draw 0.2.3+ requires Leaflet 0.7.0+. Download latest from https://github.com/Leaflet/Leaflet/");L.Control.prototype.initialize.call(this,a);var b,c;this._toolbars={},L.DrawToolbar&&this.options.draw&&(c=new L.DrawToolbar(this.options.draw),b=L.stamp(c),this._toolbars[b]=c,this._toolbars[b].on("enable",this._toolbarEnabled,this)),L.EditToolbar&&this.options.edit&&(c=new L.EditToolbar(this.options.edit),b=L.stamp(c),this._toolbars[b]=c,this._toolbars[b].on("enable",this._toolbarEnabled,this))},onAdd:function(a){var b,c=L.DomUtil.create("div","leaflet-draw"),d=!1,e="leaflet-draw-toolbar-top";for(var f in this._toolbars)this._toolbars.hasOwnProperty(f)&&(b=this._toolbars[f].addToolbar(a),b&&(d||(L.DomUtil.hasClass(b,e)||L.DomUtil.addClass(b.childNodes[0],e),d=!0),c.appendChild(b)));return c},onRemove:function(){for(var a in this._toolbars)this._toolbars.hasOwnProperty(a)&&this._toolbars[a].removeToolbar()},setDrawingOptions:function(a){for(var b in this._toolbars)this._toolbars[b]instanceof L.DrawToolbar&&this._toolbars[b].setOptions(a)},_toolbarEnabled:function(a){var b=""+L.stamp(a.target);for(var c in this._toolbars)this._toolbars.hasOwnProperty(c)&&c!==b&&this._toolbars[c].disable()}}),L.Map.mergeOptions({drawControlTooltips:!0,drawControl:!1}),L.Map.addInitHook(function(){this.options.drawControl&&(this.drawControl=new L.Control.Draw,this.addControl(this.drawControl))}),L.Toolbar=L.Class.extend({includes:[L.Mixin.Events],initialize:function(a){L.setOptions(this,a),this._modes={},this._actionButtons=[],this._activeMode=null},enabled:function(){return null!==this._activeMode},disable:function(){this.enabled()&&this._activeMode.handler.disable()},addToolbar:function(a){var b,c=L.DomUtil.create("div","leaflet-draw-section"),d=0,e=this._toolbarClass||"",f=this.getModeHandlers(a);for(this._toolbarContainer=L.DomUtil.create("div","leaflet-draw-toolbar leaflet-bar"),this._map=a,b=0;b<f.length;b++)f[b].enabled&&this._initModeHandler(f[b].handler,this._toolbarContainer,d++,e,f[b].title);return d?(this._lastButtonIndex=--d,this._actionsContainer=L.DomUtil.create("ul","leaflet-draw-actions"),c.appendChild(this._toolbarContainer),c.appendChild(this._actionsContainer),c):void 0},removeToolbar:function(){for(var a in this._modes)this._modes.hasOwnProperty(a)&&(this._disposeButton(this._modes[a].button,this._modes[a].handler.enable,this._modes[a].handler),this._modes[a].handler.disable(),this._modes[a].handler.off("enabled",this._handlerActivated,this).off("disabled",this._handlerDeactivated,this));this._modes={};for(var b=0,c=this._actionButtons.length;c>b;b++)this._disposeButton(this._actionButtons[b].button,this._actionButtons[b].callback,this);this._actionButtons=[],this._actionsContainer=null},_initModeHandler:function(a,b,c,d,e){var f=a.type;this._modes[f]={},this._modes[f].handler=a,this._modes[f].button=this._createButton({title:e,className:d+"-"+f,container:b,callback:this._modes[f].handler.enable,context:this._modes[f].handler}),this._modes[f].buttonIndex=c,this._modes[f].handler.on("enabled",this._handlerActivated,this).on("disabled",this._handlerDeactivated,this)},_createButton:function(a){var b=L.DomUtil.create("a",a.className||"",a.container);return b.href="#",a.text&&(b.innerHTML=a.text),a.title&&(b.title=a.title),L.DomEvent.on(b,"click",L.DomEvent.stopPropagation).on(b,"mousedown",L.DomEvent.stopPropagation).on(b,"dblclick",L.DomEvent.stopPropagation).on(b,"click",L.DomEvent.preventDefault).on(b,"click",a.callback,a.context),b},_disposeButton:function(a,b){L.DomEvent.off(a,"click",L.DomEvent.stopPropagation).off(a,"mousedown",L.DomEvent.stopPropagation).off(a,"dblclick",L.DomEvent.stopPropagation).off(a,"click",L.DomEvent.preventDefault).off(a,"click",b)},_handlerActivated:function(a){this.disable(),this._activeMode=this._modes[a.handler],L.DomUtil.addClass(this._activeMode.button,"leaflet-draw-toolbar-button-enabled"),this._showActionsToolbar(),this.fire("enable")},_handlerDeactivated:function(){this._hideActionsToolbar(),L.DomUtil.removeClass(this._activeMode.button,"leaflet-draw-toolbar-button-enabled"),this._activeMode=null,this.fire("disable")},_createActions:function(a){var b,c,d,e,f=this._actionsContainer,g=this.getActions(a),h=g.length;for(c=0,d=this._actionButtons.length;d>c;c++)this._disposeButton(this._actionButtons[c].button,this._actionButtons[c].callback);for(this._actionButtons=[];f.firstChild;)f.removeChild(f.firstChild);for(var i=0;h>i;i++)"enabled"in g[i]&&!g[i].enabled||(b=L.DomUtil.create("li","",f),e=this._createButton({title:g[i].title,text:g[i].text,container:b,callback:g[i].callback,context:g[i].context}),this._actionButtons.push({button:e,callback:g[i].callback}))},_showActionsToolbar:function(){var a=this._activeMode.buttonIndex,b=this._lastButtonIndex,c=this._activeMode.button.offsetTop-1;this._createActions(this._activeMode.handler),this._actionsContainer.style.top=c+"px",0===a&&(L.DomUtil.addClass(this._toolbarContainer,"leaflet-draw-toolbar-notop"),L.DomUtil.addClass(this._actionsContainer,"leaflet-draw-actions-top")),a===b&&(L.DomUtil.addClass(this._toolbarContainer,"leaflet-draw-toolbar-nobottom"),L.DomUtil.addClass(this._actionsContainer,"leaflet-draw-actions-bottom")),this._actionsContainer.style.display="block"},_hideActionsToolbar:function(){this._actionsContainer.style.display="none",L.DomUtil.removeClass(this._toolbarContainer,"leaflet-draw-toolbar-notop"),L.DomUtil.removeClass(this._toolbarContainer,"leaflet-draw-toolbar-nobottom"),L.DomUtil.removeClass(this._actionsContainer,"leaflet-draw-actions-top"),L.DomUtil.removeClass(this._actionsContainer,"leaflet-draw-actions-bottom")}}),L.Tooltip=L.Class.extend({initialize:function(a){this._map=a,this._popupPane=a._panes.popupPane,this._container=a.options.drawControlTooltips?L.DomUtil.create("div","leaflet-draw-tooltip",this._popupPane):null,this._singleLineLabel=!1},dispose:function(){this._container&&(this._popupPane.removeChild(this._container),this._container=null)},updateContent:function(a){return this._container?(a.subtext=a.subtext||"",0!==a.subtext.length||this._singleLineLabel?a.subtext.length>0&&this._singleLineLabel&&(L.DomUtil.removeClass(this._container,"leaflet-draw-tooltip-single"),this._singleLineLabel=!1):(L.DomUtil.addClass(this._container,"leaflet-draw-tooltip-single"),this._singleLineLabel=!0),this._container.innerHTML=(a.subtext.length>0?'<span class="leaflet-draw-tooltip-subtext">'+a.subtext+"</span><br />":"")+"<span>"+a.text+"</span>",this):this},updatePosition:function(a){var b=this._map.latLngToLayerPoint(a),c=this._container;return this._container&&(c.style.visibility="inherit",L.DomUtil.setPosition(c,b)),this},showAsError:function(){return this._container&&L.DomUtil.addClass(this._container,"leaflet-error-draw-tooltip"),this},removeError:function(){return this._container&&L.DomUtil.removeClass(this._container,"leaflet-error-draw-tooltip"),this}}),L.DrawToolbar=L.Toolbar.extend({options:{polyline:{},polygon:{},rectangle:{},circle:{},marker:{}},initialize:function(a){for(var b in this.options)this.options.hasOwnProperty(b)&&a[b]&&(a[b]=L.extend({},this.options[b],a[b]));this._toolbarClass="leaflet-draw-draw",L.Toolbar.prototype.initialize.call(this,a)},getModeHandlers:function(a){return[{enabled:this.options.polyline,handler:new L.Draw.Polyline(a,this.options.polyline),title:L.drawLocal.draw.toolbar.buttons.polyline},{enabled:this.options.polygon,handler:new L.Draw.Polygon(a,this.options.polygon),title:L.drawLocal.draw.toolbar.buttons.polygon},{enabled:this.options.rectangle,handler:new L.Draw.Rectangle(a,this.options.rectangle),title:L.drawLocal.draw.toolbar.buttons.rectangle},{enabled:this.options.circle,handler:new L.Draw.Circle(a,this.options.circle),title:L.drawLocal.draw.toolbar.buttons.circle},{enabled:this.options.marker,handler:new L.Draw.Marker(a,this.options.marker),title:L.drawLocal.draw.toolbar.buttons.marker}]},getActions:function(a){return[{enabled:a.deleteLastVertex,title:L.drawLocal.draw.toolbar.undo.title,text:L.drawLocal.draw.toolbar.undo.text,callback:a.deleteLastVertex,context:a},{title:L.drawLocal.draw.toolbar.actions.title,text:L.drawLocal.draw.toolbar.actions.text,callback:this.disable,context:this}]},setOptions:function(a){L.setOptions(this,a);for(var b in this._modes)this._modes.hasOwnProperty(b)&&a.hasOwnProperty(b)&&this._modes[b].handler.setOptions(a[b])}}),L.EditToolbar=L.Toolbar.extend({options:{edit:{selectedPathOptions:{color:"#fe57a1",opacity:.6,dashArray:"10, 10",fill:!0,fillColor:"#fe57a1",fillOpacity:.1}},remove:{},featureGroup:null},initialize:function(a){a.edit&&("undefined"==typeof a.edit.selectedPathOptions&&(a.edit.selectedPathOptions=this.options.edit.selectedPathOptions),a.edit=L.extend({},this.options.edit,a.edit)),a.remove&&(a.remove=L.extend({},this.options.remove,a.remove)),this._toolbarClass="leaflet-draw-edit",L.Toolbar.prototype.initialize.call(this,a),this._selectedFeatureCount=0},getModeHandlers:function(a){var b=this.options.featureGroup;return[{enabled:this.options.edit,handler:new L.EditToolbar.Edit(a,{featureGroup:b,selectedPathOptions:this.options.edit.selectedPathOptions}),title:L.drawLocal.edit.toolbar.buttons.edit},{enabled:this.options.remove,handler:new L.EditToolbar.Delete(a,{featureGroup:b}),title:L.drawLocal.edit.toolbar.buttons.remove}]},getActions:function(){return[{title:L.drawLocal.edit.toolbar.actions.save.title,text:L.drawLocal.edit.toolbar.actions.save.text,callback:this._save,context:this},{title:L.drawLocal.edit.toolbar.actions.cancel.title,text:L.drawLocal.edit.toolbar.actions.cancel.text,callback:this.disable,context:this}]},addToolbar:function(a){var b=L.Toolbar.prototype.addToolbar.call(this,a);return this._checkDisabled(),this.options.featureGroup.on("layeradd layerremove",this._checkDisabled,this),b},removeToolbar:function(){this.options.featureGroup.off("layeradd layerremove",this._checkDisabled,this),L.Toolbar.prototype.removeToolbar.call(this)},disable:function(){this.enabled()&&(this._activeMode.handler.revertLayers(),L.Toolbar.prototype.disable.call(this))},_save:function(){this._activeMode.handler.save(),this._activeMode.handler.disable()},_checkDisabled:function(){var a,b=this.options.featureGroup,c=0!==b.getLayers().length;this.options.edit&&(a=this._modes[L.EditToolbar.Edit.TYPE].button,c?L.DomUtil.removeClass(a,"leaflet-disabled"):L.DomUtil.addClass(a,"leaflet-disabled"),a.setAttribute("title",c?L.drawLocal.edit.toolbar.buttons.edit:L.drawLocal.edit.toolbar.buttons.editDisabled)),this.options.remove&&(a=this._modes[L.EditToolbar.Delete.TYPE].button,c?L.DomUtil.removeClass(a,"leaflet-disabled"):L.DomUtil.addClass(a,"leaflet-disabled"),a.setAttribute("title",c?L.drawLocal.edit.toolbar.buttons.remove:L.drawLocal.edit.toolbar.buttons.removeDisabled))}}),L.EditToolbar.Edit=L.Handler.extend({statics:{TYPE:"edit"},includes:L.Mixin.Events,initialize:function(a,b){if(L.Handler.prototype.initialize.call(this,a),this._selectedPathOptions=b.selectedPathOptions,this._featureGroup=b.featureGroup,!(this._featureGroup instanceof L.FeatureGroup))throw new Error("options.featureGroup must be a L.FeatureGroup");this._uneditedLayerProps={},this.type=L.EditToolbar.Edit.TYPE},enable:function(){!this._enabled&&this._hasAvailableLayers()&&(this.fire("enabled",{handler:this.type}),this._map.fire("draw:editstart",{handler:this.type}),L.Handler.prototype.enable.call(this),this._featureGroup.on("layeradd",this._enableLayerEdit,this).on("layerremove",this._disableLayerEdit,this))},disable:function(){this._enabled&&(this._featureGroup.off("layeradd",this._enableLayerEdit,this).off("layerremove",this._disableLayerEdit,this),L.Handler.prototype.disable.call(this),this._map.fire("draw:editstop",{handler:this.type}),this.fire("disabled",{handler:this.type}))},addHooks:function(){var a=this._map;a&&(a.getContainer().focus(),this._featureGroup.eachLayer(this._enableLayerEdit,this),this._tooltip=new L.Tooltip(this._map),this._tooltip.updateContent({text:L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.edit.handlers.edit.tooltip.subtext}),this._map.on("mousemove",this._onMouseMove,this))},removeHooks:function(){this._map&&(this._featureGroup.eachLayer(this._disableLayerEdit,this),this._uneditedLayerProps={},this._tooltip.dispose(),this._tooltip=null,this._map.off("mousemove",this._onMouseMove,this))},revertLayers:function(){this._featureGroup.eachLayer(function(a){this._revertLayer(a)},this)},save:function(){var a=new L.LayerGroup;this._featureGroup.eachLayer(function(b){b.edited&&(a.addLayer(b),b.edited=!1)}),this._map.fire("draw:edited",{layers:a})},_backupLayer:function(a){var b=L.Util.stamp(a);this._uneditedLayerProps[b]||(a instanceof L.Polyline||a instanceof L.Polygon||a instanceof L.Rectangle?this._uneditedLayerProps[b]={latlngs:L.LatLngUtil.cloneLatLngs(a.getLatLngs())}:a instanceof L.Circle?this._uneditedLayerProps[b]={latlng:L.LatLngUtil.cloneLatLng(a.getLatLng()),radius:a.getRadius()}:a instanceof L.Marker&&(this._uneditedLayerProps[b]={latlng:L.LatLngUtil.cloneLatLng(a.getLatLng())}))},_revertLayer:function(a){var b=L.Util.stamp(a);a.edited=!1,this._uneditedLayerProps.hasOwnProperty(b)&&(a instanceof L.Polyline||a instanceof L.Polygon||a instanceof L.Rectangle?a.setLatLngs(this._uneditedLayerProps[b].latlngs):a instanceof L.Circle?(a.setLatLng(this._uneditedLayerProps[b].latlng),a.setRadius(this._uneditedLayerProps[b].radius)):a instanceof L.Marker&&a.setLatLng(this._uneditedLayerProps[b].latlng))},_toggleMarkerHighlight:function(a){if(a._icon){var b=a._icon;b.style.display="none",L.DomUtil.hasClass(b,"leaflet-edit-marker-selected")?(L.DomUtil.removeClass(b,"leaflet-edit-marker-selected"),this._offsetMarker(b,-4)):(L.DomUtil.addClass(b,"leaflet-edit-marker-selected"),this._offsetMarker(b,4)),b.style.display=""}},_offsetMarker:function(a,b){var c=parseInt(a.style.marginTop,10)-b,d=parseInt(a.style.marginLeft,10)-b;a.style.marginTop=c+"px",a.style.marginLeft=d+"px"},_enableLayerEdit:function(a){var b,c=a.layer||a.target||a,d=c instanceof L.Marker;(!d||c._icon)&&(this._backupLayer(c),this._selectedPathOptions&&(b=L.Util.extend({},this._selectedPathOptions),d?this._toggleMarkerHighlight(c):(c.options.previousOptions=L.Util.extend({dashArray:null},c.options),c instanceof L.Circle||c instanceof L.Polygon||c instanceof L.Rectangle||(b.fill=!1),c.setStyle(b))),d?(c.dragging.enable(),c.on("dragend",this._onMarkerDragEnd)):c.editing.enable())},_disableLayerEdit:function(a){var b=a.layer||a.target||a;b.edited=!1,this._selectedPathOptions&&(b instanceof L.Marker?this._toggleMarkerHighlight(b):(b.setStyle(b.options.previousOptions),delete b.options.previousOptions)),b instanceof L.Marker?(b.dragging.disable(),b.off("dragend",this._onMarkerDragEnd,this)):b.editing.disable()},_onMarkerDragEnd:function(a){var b=a.target;b.edited=!0},_onMouseMove:function(a){this._tooltip.updatePosition(a.latlng)},_hasAvailableLayers:function(){return 0!==this._featureGroup.getLayers().length}}),L.EditToolbar.Delete=L.Handler.extend({statics:{TYPE:"remove"},includes:L.Mixin.Events,initialize:function(a,b){if(L.Handler.prototype.initialize.call(this,a),L.Util.setOptions(this,b),this._deletableLayers=this.options.featureGroup,!(this._deletableLayers instanceof L.FeatureGroup))throw new Error("options.featureGroup must be a L.FeatureGroup");this.type=L.EditToolbar.Delete.TYPE},enable:function(){!this._enabled&&this._hasAvailableLayers()&&(this.fire("enabled",{handler:this.type}),this._map.fire("draw:deletestart",{handler:this.type}),L.Handler.prototype.enable.call(this),this._deletableLayers.on("layeradd",this._enableLayerDelete,this).on("layerremove",this._disableLayerDelete,this))},disable:function(){this._enabled&&(this._deletableLayers.off("layeradd",this._enableLayerDelete,this).off("layerremove",this._disableLayerDelete,this),L.Handler.prototype.disable.call(this),this._map.fire("draw:deletestop",{handler:this.type}),this.fire("disabled",{handler:this.type}))},addHooks:function(){var a=this._map;a&&(a.getContainer().focus(),this._deletableLayers.eachLayer(this._enableLayerDelete,this),this._deletedLayers=new L.layerGroup,this._tooltip=new L.Tooltip(this._map),this._tooltip.updateContent({text:L.drawLocal.edit.handlers.remove.tooltip.text}),this._map.on("mousemove",this._onMouseMove,this))},removeHooks:function(){this._map&&(this._deletableLayers.eachLayer(this._disableLayerDelete,this),this._deletedLayers=null,this._tooltip.dispose(),this._tooltip=null,this._map.off("mousemove",this._onMouseMove,this))},revertLayers:function(){this._deletedLayers.eachLayer(function(a){this._deletableLayers.addLayer(a)},this)},save:function(){this._map.fire("draw:deleted",{layers:this._deletedLayers})},_enableLayerDelete:function(a){var b=a.layer||a.target||a;b.on("click",this._removeLayer,this)},_disableLayerDelete:function(a){var b=a.layer||a.target||a;b.off("click",this._removeLayer,this),this._deletedLayers.removeLayer(b)},_removeLayer:function(a){var b=a.layer||a.target||a;this._deletableLayers.removeLayer(b),this._deletedLayers.addLayer(b)},_onMouseMove:function(a){this._tooltip.updatePosition(a.latlng)},_hasAvailableLayers:function(){return 0!==this._deletableLayers.getLayers().length}})}(window,document)},{}],4:[function(b,c,d){!function(b,d,e){var f=b.L,g={};g.version="0.7.2","object"==typeof c&&"object"==typeof c.exports?c.exports=g:"function"==typeof a&&a.amd&&a(g),g.noConflict=function(){return b.L=f,this},b.L=g,g.Util={extend:function(a){var b,c,d,e,f=Array.prototype.slice.call(arguments,1);for(c=0,d=f.length;d>c;c++){e=f[c]||{};for(b in e)e.hasOwnProperty(b)&&(a[b]=e[b])}return a},bind:function(a,b){var c=arguments.length>2?Array.prototype.slice.call(arguments,2):null;return function(){return a.apply(b,c||arguments)}},stamp:function(){var a=0,b="_leaflet_id";return function(c){return c[b]=c[b]||++a,c[b]}}(),invokeEach:function(a,b,c){var d,e;if("object"==typeof a){e=Array.prototype.slice.call(arguments,3);for(d in a)b.apply(c,[d,a[d]].concat(e));return!0}return!1},limitExecByInterval:function(a,b,c){var d,e;return function f(){var g=arguments;return d?void(e=!0):(d=!0,setTimeout(function(){d=!1,e&&(f.apply(c,g),e=!1)},b),void a.apply(c,g))}},falseFn:function(){return!1},formatNum:function(a,b){var c=Math.pow(10,b||5);return Math.round(a*c)/c},trim:function(a){return a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")},splitWords:function(a){return g.Util.trim(a).split(/\s+/)},setOptions:function(a,b){return a.options=g.extend({},a.options,b),a.options},getParamString:function(a,b,c){var d=[];for(var e in a)d.push(encodeURIComponent(c?e.toUpperCase():e)+"="+encodeURIComponent(a[e]));return(b&&-1!==b.indexOf("?")?"&":"?")+d.join("&")},template:function(a,b){return a.replace(/\{ *([\w_]+) *\}/g,function(a,c){var d=b[c];if(d===e)throw new Error("No value provided for variable "+a);return"function"==typeof d&&(d=d(b)),d})},isArray:Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)},emptyImageUrl:"data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs="},function(){function a(a){var c,d,e=["webkit","moz","o","ms"];for(c=0;c<e.length&&!d;c++)d=b[e[c]+a];return d}function c(a){var c=+new Date,e=Math.max(0,16-(c-d));return d=c+e,b.setTimeout(a,e)}var d=0,e=b.requestAnimationFrame||a("RequestAnimationFrame")||c,f=b.cancelAnimationFrame||a("CancelAnimationFrame")||a("CancelRequestAnimationFrame")||function(a){b.clearTimeout(a)};g.Util.requestAnimFrame=function(a,d,f,h){return a=g.bind(a,d),f&&e===c?void a():e.call(b,a,h)},g.Util.cancelAnimFrame=function(a){a&&f.call(b,a)}}(),g.extend=g.Util.extend,g.bind=g.Util.bind,g.stamp=g.Util.stamp,g.setOptions=g.Util.setOptions,g.Class=function(){},g.Class.extend=function(a){var b=function(){this.initialize&&this.initialize.apply(this,arguments),this._initHooks&&this.callInitHooks()},c=function(){};c.prototype=this.prototype;var d=new c;d.constructor=b,b.prototype=d;for(var e in this)this.hasOwnProperty(e)&&"prototype"!==e&&(b[e]=this[e]);a.statics&&(g.extend(b,a.statics),delete a.statics),a.includes&&(g.Util.extend.apply(null,[d].concat(a.includes)),delete a.includes),a.options&&d.options&&(a.options=g.extend({},d.options,a.options)),g.extend(d,a),d._initHooks=[];var f=this;return b.__super__=f.prototype,d.callInitHooks=function(){if(!this._initHooksCalled){f.prototype.callInitHooks&&f.prototype.callInitHooks.call(this),this._initHooksCalled=!0;for(var a=0,b=d._initHooks.length;b>a;a++)d._initHooks[a].call(this)}},b},g.Class.include=function(a){g.extend(this.prototype,a)},g.Class.mergeOptions=function(a){g.extend(this.prototype.options,a)},g.Class.addInitHook=function(a){var b=Array.prototype.slice.call(arguments,1),c="function"==typeof a?a:function(){this[a].apply(this,b)};this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(c)};var h="_leaflet_events";g.Mixin={},g.Mixin.Events={addEventListener:function(a,b,c){if(g.Util.invokeEach(a,this.addEventListener,this,b,c))return this;var d,e,f,i,j,k,l,m=this[h]=this[h]||{},n=c&&c!==this&&g.stamp(c);for(a=g.Util.splitWords(a),d=0,e=a.length;e>d;d++)f={action:b,context:c||this},i=a[d],n?(j=i+"_idx",k=j+"_len",l=m[j]=m[j]||{},l[n]||(l[n]=[],m[k]=(m[k]||0)+1),l[n].push(f)):(m[i]=m[i]||[],m[i].push(f));return this},hasEventListeners:function(a){var b=this[h];return!!b&&(a in b&&b[a].length>0||a+"_idx"in b&&b[a+"_idx_len"]>0)},removeEventListener:function(a,b,c){if(!this[h])return this;if(!a)return this.clearAllEventListeners();if(g.Util.invokeEach(a,this.removeEventListener,this,b,c))return this;var d,e,f,i,j,k,l,m,n,o=this[h],p=c&&c!==this&&g.stamp(c);for(a=g.Util.splitWords(a),d=0,e=a.length;e>d;d++)if(f=a[d],k=f+"_idx",l=k+"_len",m=o[k],b){if(i=p&&m?m[p]:o[f]){for(j=i.length-1;j>=0;j--)i[j].action!==b||c&&i[j].context!==c||(n=i.splice(j,1),n[0].action=g.Util.falseFn);c&&m&&0===i.length&&(delete m[p],o[l]--)}}else delete o[f],delete o[k],delete o[l];return this},clearAllEventListeners:function(){return delete this[h],this},fireEvent:function(a,b){if(!this.hasEventListeners(a))return this;var c,d,e,f,i,j=g.Util.extend({},b,{type:a,target:this}),k=this[h];if(k[a])for(c=k[a].slice(),d=0,e=c.length;e>d;d++)c[d].action.call(c[d].context,j);f=k[a+"_idx"];for(i in f)if(c=f[i].slice())for(d=0,e=c.length;e>d;d++)c[d].action.call(c[d].context,j);return this},addOneTimeEventListener:function(a,b,c){if(g.Util.invokeEach(a,this.addOneTimeEventListener,this,b,c))return this;var d=g.bind(function(){this.removeEventListener(a,b,c).removeEventListener(a,d,c)},this);return this.addEventListener(a,b,c).addEventListener(a,d,c)}},g.Mixin.Events.on=g.Mixin.Events.addEventListener,g.Mixin.Events.off=g.Mixin.Events.removeEventListener,g.Mixin.Events.once=g.Mixin.Events.addOneTimeEventListener,g.Mixin.Events.fire=g.Mixin.Events.fireEvent,function(){var a="ActiveXObject"in b,c=a&&!d.addEventListener,f=navigator.userAgent.toLowerCase(),h=-1!==f.indexOf("webkit"),i=-1!==f.indexOf("chrome"),j=-1!==f.indexOf("phantom"),k=-1!==f.indexOf("android"),l=-1!==f.search("android [23]"),m=-1!==f.indexOf("gecko"),n=typeof orientation!=e+"",o=b.navigator&&b.navigator.msPointerEnabled&&b.navigator.msMaxTouchPoints&&!b.PointerEvent,p=b.PointerEvent&&b.navigator.pointerEnabled&&b.navigator.maxTouchPoints||o,q="devicePixelRatio"in b&&b.devicePixelRatio>1||"matchMedia"in b&&b.matchMedia("(min-resolution:144dpi)")&&b.matchMedia("(min-resolution:144dpi)").matches,r=d.documentElement,s=a&&"transition"in r.style,t="WebKitCSSMatrix"in b&&"m11"in new b.WebKitCSSMatrix&&!l,u="MozPerspective"in r.style,v="OTransition"in r.style,w=!b.L_DISABLE_3D&&(s||t||u||v)&&!j,x=!b.L_NO_TOUCH&&!j&&function(){var a="ontouchstart";if(p||a in r)return!0;var b=d.createElement("div"),c=!1;return b.setAttribute?(b.setAttribute(a,"return;"),"function"==typeof b[a]&&(c=!0),b.removeAttribute(a),b=null,c):!1}();g.Browser={ie:a,ielt9:c,webkit:h,gecko:m&&!h&&!b.opera&&!a,android:k,android23:l,chrome:i,ie3d:s,webkit3d:t,gecko3d:u,opera3d:v,any3d:w,mobile:n,mobileWebkit:n&&h,mobileWebkit3d:n&&t,mobileOpera:n&&b.opera,touch:x,msPointer:o,pointer:p,retina:q}}(),g.Point=function(a,b,c){this.x=c?Math.round(a):a,this.y=c?Math.round(b):b},g.Point.prototype={clone:function(){return new g.Point(this.x,this.y)},add:function(a){return this.clone()._add(g.point(a))},_add:function(a){return this.x+=a.x,this.y+=a.y,this},subtract:function(a){return this.clone()._subtract(g.point(a))},_subtract:function(a){return this.x-=a.x,this.y-=a.y,this},divideBy:function(a){return this.clone()._divideBy(a)},_divideBy:function(a){return this.x/=a,this.y/=a,this},multiplyBy:function(a){return this.clone()._multiplyBy(a)},_multiplyBy:function(a){return this.x*=a,this.y*=a,this},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},distanceTo:function(a){a=g.point(a);var b=a.x-this.x,c=a.y-this.y;return Math.sqrt(b*b+c*c)},equals:function(a){return a=g.point(a),a.x===this.x&&a.y===this.y},contains:function(a){return a=g.point(a),Math.abs(a.x)<=Math.abs(this.x)&&Math.abs(a.y)<=Math.abs(this.y)},toString:function(){return"Point("+g.Util.formatNum(this.x)+", "+g.Util.formatNum(this.y)+")"}},g.point=function(a,b,c){return a instanceof g.Point?a:g.Util.isArray(a)?new g.Point(a[0],a[1]):a===e||null===a?a:new g.Point(a,b,c)},g.Bounds=function(a,b){if(a)for(var c=b?[a,b]:a,d=0,e=c.length;e>d;d++)this.extend(c[d])},g.Bounds.prototype={extend:function(a){return a=g.point(a),this.min||this.max?(this.min.x=Math.min(a.x,this.min.x),this.max.x=Math.max(a.x,this.max.x),this.min.y=Math.min(a.y,this.min.y),this.max.y=Math.max(a.y,this.max.y)):(this.min=a.clone(),this.max=a.clone()),this},getCenter:function(a){return new g.Point((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,a)},getBottomLeft:function(){return new g.Point(this.min.x,this.max.y)},getTopRight:function(){return new g.Point(this.max.x,this.min.y)},getSize:function(){return this.max.subtract(this.min)},contains:function(a){var b,c;return a="number"==typeof a[0]||a instanceof g.Point?g.point(a):g.bounds(a),a instanceof g.Bounds?(b=a.min,c=a.max):b=c=a,b.x>=this.min.x&&c.x<=this.max.x&&b.y>=this.min.y&&c.y<=this.max.y},intersects:function(a){a=g.bounds(a);var b=this.min,c=this.max,d=a.min,e=a.max,f=e.x>=b.x&&d.x<=c.x,h=e.y>=b.y&&d.y<=c.y;return f&&h},isValid:function(){return!(!this.min||!this.max)}},g.bounds=function(a,b){return!a||a instanceof g.Bounds?a:new g.Bounds(a,b)},g.Transformation=function(a,b,c,d){this._a=a,this._b=b,this._c=c,this._d=d},g.Transformation.prototype={transform:function(a,b){return this._transform(a.clone(),b)},_transform:function(a,b){return b=b||1,a.x=b*(this._a*a.x+this._b),a.y=b*(this._c*a.y+this._d),a},untransform:function(a,b){return b=b||1,new g.Point((a.x/b-this._b)/this._a,(a.y/b-this._d)/this._c)}},g.DomUtil={get:function(a){return"string"==typeof a?d.getElementById(a):a},getStyle:function(a,b){var c=a.style[b];if(!c&&a.currentStyle&&(c=a.currentStyle[b]),(!c||"auto"===c)&&d.defaultView){var e=d.defaultView.getComputedStyle(a,null);c=e?e[b]:null}return"auto"===c?null:c},getViewportOffset:function(a){var b,c=0,e=0,f=a,h=d.body,i=d.documentElement;do{if(c+=f.offsetTop||0,e+=f.offsetLeft||0,c+=parseInt(g.DomUtil.getStyle(f,"borderTopWidth"),10)||0,e+=parseInt(g.DomUtil.getStyle(f,"borderLeftWidth"),10)||0,b=g.DomUtil.getStyle(f,"position"),f.offsetParent===h&&"absolute"===b)break;if("fixed"===b){c+=h.scrollTop||i.scrollTop||0,e+=h.scrollLeft||i.scrollLeft||0;break}if("relative"===b&&!f.offsetLeft){var j=g.DomUtil.getStyle(f,"width"),k=g.DomUtil.getStyle(f,"max-width"),l=f.getBoundingClientRect();("none"!==j||"none"!==k)&&(e+=l.left+f.clientLeft),c+=l.top+(h.scrollTop||i.scrollTop||0);break}f=f.offsetParent}while(f);f=a;do{if(f===h)break;c-=f.scrollTop||0,e-=f.scrollLeft||0,f=f.parentNode}while(f);return new g.Point(e,c)},documentIsLtr:function(){return g.DomUtil._docIsLtrCached||(g.DomUtil._docIsLtrCached=!0,g.DomUtil._docIsLtr="ltr"===g.DomUtil.getStyle(d.body,"direction")),g.DomUtil._docIsLtr},create:function(a,b,c){var e=d.createElement(a);return e.className=b,c&&c.appendChild(e),e},hasClass:function(a,b){if(a.classList!==e)return a.classList.contains(b);var c=g.DomUtil._getClass(a);return c.length>0&&new RegExp("(^|\\s)"+b+"(\\s|$)").test(c)},addClass:function(a,b){if(a.classList!==e)for(var c=g.Util.splitWords(b),d=0,f=c.length;f>d;d++)a.classList.add(c[d]);else if(!g.DomUtil.hasClass(a,b)){var h=g.DomUtil._getClass(a);g.DomUtil._setClass(a,(h?h+" ":"")+b)}},removeClass:function(a,b){a.classList!==e?a.classList.remove(b):g.DomUtil._setClass(a,g.Util.trim((" "+g.DomUtil._getClass(a)+" ").replace(" "+b+" "," ")))},_setClass:function(a,b){a.className.baseVal===e?a.className=b:a.className.baseVal=b},_getClass:function(a){return a.className.baseVal===e?a.className:a.className.baseVal},setOpacity:function(a,b){if("opacity"in a.style)a.style.opacity=b;else if("filter"in a.style){var c=!1,d="DXImageTransform.Microsoft.Alpha";try{c=a.filters.item(d)}catch(e){if(1===b)return}b=Math.round(100*b),c?(c.Enabled=100!==b,c.Opacity=b):a.style.filter+=" progid:"+d+"(opacity="+b+")"}},testProp:function(a){for(var b=d.documentElement.style,c=0;c<a.length;c++)if(a[c]in b)return a[c];return!1},getTranslateString:function(a){var b=g.Browser.webkit3d,c="translate"+(b?"3d":"")+"(",d=(b?",0":"")+")";return c+a.x+"px,"+a.y+"px"+d},getScaleString:function(a,b){var c=g.DomUtil.getTranslateString(b.add(b.multiplyBy(-1*a))),d=" scale("+a+") ";return c+d},setPosition:function(a,b,c){a._leaflet_pos=b,!c&&g.Browser.any3d?a.style[g.DomUtil.TRANSFORM]=g.DomUtil.getTranslateString(b):(a.style.left=b.x+"px",a.style.top=b.y+"px")},getPosition:function(a){return a._leaflet_pos}},g.DomUtil.TRANSFORM=g.DomUtil.testProp(["transform","WebkitTransform","OTransform","MozTransform","msTransform"]),g.DomUtil.TRANSITION=g.DomUtil.testProp(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),g.DomUtil.TRANSITION_END="webkitTransition"===g.DomUtil.TRANSITION||"OTransition"===g.DomUtil.TRANSITION?g.DomUtil.TRANSITION+"End":"transitionend",
function(){if("onselectstart"in d)g.extend(g.DomUtil,{disableTextSelection:function(){g.DomEvent.on(b,"selectstart",g.DomEvent.preventDefault)},enableTextSelection:function(){g.DomEvent.off(b,"selectstart",g.DomEvent.preventDefault)}});else{var a=g.DomUtil.testProp(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);g.extend(g.DomUtil,{disableTextSelection:function(){if(a){var b=d.documentElement.style;this._userSelect=b[a],b[a]="none"}},enableTextSelection:function(){a&&(d.documentElement.style[a]=this._userSelect,delete this._userSelect)}})}g.extend(g.DomUtil,{disableImageDrag:function(){g.DomEvent.on(b,"dragstart",g.DomEvent.preventDefault)},enableImageDrag:function(){g.DomEvent.off(b,"dragstart",g.DomEvent.preventDefault)}})}(),g.LatLng=function(a,b,c){if(a=parseFloat(a),b=parseFloat(b),isNaN(a)||isNaN(b))throw new Error("Invalid LatLng object: ("+a+", "+b+")");this.lat=a,this.lng=b,c!==e&&(this.alt=parseFloat(c))},g.extend(g.LatLng,{DEG_TO_RAD:Math.PI/180,RAD_TO_DEG:180/Math.PI,MAX_MARGIN:1e-9}),g.LatLng.prototype={equals:function(a){if(!a)return!1;a=g.latLng(a);var b=Math.max(Math.abs(this.lat-a.lat),Math.abs(this.lng-a.lng));return b<=g.LatLng.MAX_MARGIN},toString:function(a){return"LatLng("+g.Util.formatNum(this.lat,a)+", "+g.Util.formatNum(this.lng,a)+")"},distanceTo:function(a){a=g.latLng(a);var b=6378137,c=g.LatLng.DEG_TO_RAD,d=(a.lat-this.lat)*c,e=(a.lng-this.lng)*c,f=this.lat*c,h=a.lat*c,i=Math.sin(d/2),j=Math.sin(e/2),k=i*i+j*j*Math.cos(f)*Math.cos(h);return 2*b*Math.atan2(Math.sqrt(k),Math.sqrt(1-k))},wrap:function(a,b){var c=this.lng;return a=a||-180,b=b||180,c=(c+b)%(b-a)+(a>c||c===b?b:a),new g.LatLng(this.lat,c)}},g.latLng=function(a,b){return a instanceof g.LatLng?a:g.Util.isArray(a)?"number"==typeof a[0]||"string"==typeof a[0]?new g.LatLng(a[0],a[1],a[2]):null:a===e||null===a?a:"object"==typeof a&&"lat"in a?new g.LatLng(a.lat,"lng"in a?a.lng:a.lon):b===e?null:new g.LatLng(a,b)},g.LatLngBounds=function(a,b){if(a)for(var c=b?[a,b]:a,d=0,e=c.length;e>d;d++)this.extend(c[d])},g.LatLngBounds.prototype={extend:function(a){if(!a)return this;var b=g.latLng(a);return a=null!==b?b:g.latLngBounds(a),a instanceof g.LatLng?this._southWest||this._northEast?(this._southWest.lat=Math.min(a.lat,this._southWest.lat),this._southWest.lng=Math.min(a.lng,this._southWest.lng),this._northEast.lat=Math.max(a.lat,this._northEast.lat),this._northEast.lng=Math.max(a.lng,this._northEast.lng)):(this._southWest=new g.LatLng(a.lat,a.lng),this._northEast=new g.LatLng(a.lat,a.lng)):a instanceof g.LatLngBounds&&(this.extend(a._southWest),this.extend(a._northEast)),this},pad:function(a){var b=this._southWest,c=this._northEast,d=Math.abs(b.lat-c.lat)*a,e=Math.abs(b.lng-c.lng)*a;return new g.LatLngBounds(new g.LatLng(b.lat-d,b.lng-e),new g.LatLng(c.lat+d,c.lng+e))},getCenter:function(){return new g.LatLng((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new g.LatLng(this.getNorth(),this.getWest())},getSouthEast:function(){return new g.LatLng(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(a){a="number"==typeof a[0]||a instanceof g.LatLng?g.latLng(a):g.latLngBounds(a);var b,c,d=this._southWest,e=this._northEast;return a instanceof g.LatLngBounds?(b=a.getSouthWest(),c=a.getNorthEast()):b=c=a,b.lat>=d.lat&&c.lat<=e.lat&&b.lng>=d.lng&&c.lng<=e.lng},intersects:function(a){a=g.latLngBounds(a);var b=this._southWest,c=this._northEast,d=a.getSouthWest(),e=a.getNorthEast(),f=e.lat>=b.lat&&d.lat<=c.lat,h=e.lng>=b.lng&&d.lng<=c.lng;return f&&h},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(a){return a?(a=g.latLngBounds(a),this._southWest.equals(a.getSouthWest())&&this._northEast.equals(a.getNorthEast())):!1},isValid:function(){return!(!this._southWest||!this._northEast)}},g.latLngBounds=function(a,b){return!a||a instanceof g.LatLngBounds?a:new g.LatLngBounds(a,b)},g.Projection={},g.Projection.SphericalMercator={MAX_LATITUDE:85.0511287798,project:function(a){var b=g.LatLng.DEG_TO_RAD,c=this.MAX_LATITUDE,d=Math.max(Math.min(c,a.lat),-c),e=a.lng*b,f=d*b;return f=Math.log(Math.tan(Math.PI/4+f/2)),new g.Point(e,f)},unproject:function(a){var b=g.LatLng.RAD_TO_DEG,c=a.x*b,d=(2*Math.atan(Math.exp(a.y))-Math.PI/2)*b;return new g.LatLng(d,c)}},g.Projection.LonLat={project:function(a){return new g.Point(a.lng,a.lat)},unproject:function(a){return new g.LatLng(a.y,a.x)}},g.CRS={latLngToPoint:function(a,b){var c=this.projection.project(a),d=this.scale(b);return this.transformation._transform(c,d)},pointToLatLng:function(a,b){var c=this.scale(b),d=this.transformation.untransform(a,c);return this.projection.unproject(d)},project:function(a){return this.projection.project(a)},scale:function(a){return 256*Math.pow(2,a)},getSize:function(a){var b=this.scale(a);return g.point(b,b)}},g.CRS.Simple=g.extend({},g.CRS,{projection:g.Projection.LonLat,transformation:new g.Transformation(1,0,-1,0),scale:function(a){return Math.pow(2,a)}}),g.CRS.EPSG3857=g.extend({},g.CRS,{code:"EPSG:3857",projection:g.Projection.SphericalMercator,transformation:new g.Transformation(.5/Math.PI,.5,-.5/Math.PI,.5),project:function(a){var b=this.projection.project(a),c=6378137;return b.multiplyBy(c)}}),g.CRS.EPSG900913=g.extend({},g.CRS.EPSG3857,{code:"EPSG:900913"}),g.CRS.EPSG4326=g.extend({},g.CRS,{code:"EPSG:4326",projection:g.Projection.LonLat,transformation:new g.Transformation(1/360,.5,-1/360,.5)}),g.Map=g.Class.extend({includes:g.Mixin.Events,options:{crs:g.CRS.EPSG3857,fadeAnimation:g.DomUtil.TRANSITION&&!g.Browser.android23,trackResize:!0,markerZoomAnimation:g.DomUtil.TRANSITION&&g.Browser.any3d},initialize:function(a,b){b=g.setOptions(this,b),this._initContainer(a),this._initLayout(),this._onResize=g.bind(this._onResize,this),this._initEvents(),b.maxBounds&&this.setMaxBounds(b.maxBounds),b.center&&b.zoom!==e&&this.setView(g.latLng(b.center),b.zoom,{reset:!0}),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._tileLayersNum=0,this.callInitHooks(),this._addLayers(b.layers)},setView:function(a,b){return b=b===e?this.getZoom():b,this._resetView(g.latLng(a),this._limitZoom(b)),this},setZoom:function(a,b){return this._loaded?this.setView(this.getCenter(),a,{zoom:b}):(this._zoom=this._limitZoom(a),this)},zoomIn:function(a,b){return this.setZoom(this._zoom+(a||1),b)},zoomOut:function(a,b){return this.setZoom(this._zoom-(a||1),b)},setZoomAround:function(a,b,c){var d=this.getZoomScale(b),e=this.getSize().divideBy(2),f=a instanceof g.Point?a:this.latLngToContainerPoint(a),h=f.subtract(e).multiplyBy(1-1/d),i=this.containerPointToLatLng(e.add(h));return this.setView(i,b,{zoom:c})},fitBounds:function(a,b){b=b||{},a=a.getBounds?a.getBounds():g.latLngBounds(a);var c=g.point(b.paddingTopLeft||b.padding||[0,0]),d=g.point(b.paddingBottomRight||b.padding||[0,0]),e=this.getBoundsZoom(a,!1,c.add(d)),f=d.subtract(c).divideBy(2),h=this.project(a.getSouthWest(),e),i=this.project(a.getNorthEast(),e),j=this.unproject(h.add(i).divideBy(2).add(f),e);return e=b&&b.maxZoom?Math.min(b.maxZoom,e):e,this.setView(j,e,b)},fitWorld:function(a){return this.fitBounds([[-90,-180],[90,180]],a)},panTo:function(a,b){return this.setView(a,this._zoom,{pan:b})},panBy:function(a){return this.fire("movestart"),this._rawPanBy(g.point(a)),this.fire("move"),this.fire("moveend")},setMaxBounds:function(a){return a=g.latLngBounds(a),this.options.maxBounds=a,a?(this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds,this)):this.off("moveend",this._panInsideMaxBounds,this)},panInsideBounds:function(a,b){var c=this.getCenter(),d=this._limitCenter(c,this._zoom,a);return c.equals(d)?this:this.panTo(d,b)},addLayer:function(a){var b=g.stamp(a);return this._layers[b]?this:(this._layers[b]=a,!a.options||isNaN(a.options.maxZoom)&&isNaN(a.options.minZoom)||(this._zoomBoundLayers[b]=a,this._updateZoomLevels()),this.options.zoomAnimation&&g.TileLayer&&a instanceof g.TileLayer&&(this._tileLayersNum++,this._tileLayersToLoad++,a.on("load",this._onTileLayerLoad,this)),this._loaded&&this._layerAdd(a),this)},removeLayer:function(a){var b=g.stamp(a);return this._layers[b]?(this._loaded&&a.onRemove(this),delete this._layers[b],this._loaded&&this.fire("layerremove",{layer:a}),this._zoomBoundLayers[b]&&(delete this._zoomBoundLayers[b],this._updateZoomLevels()),this.options.zoomAnimation&&g.TileLayer&&a instanceof g.TileLayer&&(this._tileLayersNum--,this._tileLayersToLoad--,a.off("load",this._onTileLayerLoad,this)),this):this},hasLayer:function(a){return a?g.stamp(a)in this._layers:!1},eachLayer:function(a,b){for(var c in this._layers)a.call(b,this._layers[c]);return this},invalidateSize:function(a){if(!this._loaded)return this;a=g.extend({animate:!1,pan:!0},a===!0?{animate:!0}:a);var b=this.getSize();this._sizeChanged=!0,this._initialCenter=null;var c=this.getSize(),d=b.divideBy(2).round(),e=c.divideBy(2).round(),f=d.subtract(e);return f.x||f.y?(a.animate&&a.pan?this.panBy(f):(a.pan&&this._rawPanBy(f),this.fire("move"),a.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(g.bind(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:b,newSize:c})):this},addHandler:function(a,b){if(!b)return this;var c=this[a]=new b(this);return this._handlers.push(c),this.options[a]&&c.enable(),this},remove:function(){this._loaded&&this.fire("unload"),this._initEvents("off");try{delete this._container._leaflet}catch(a){this._container._leaflet=e}return this._clearPanes(),this._clearControlPos&&this._clearControlPos(),this._clearHandlers(),this},getCenter:function(){return this._checkIfLoaded(),this._initialCenter&&!this._moved()?this._initialCenter:this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var a=this.getPixelBounds(),b=this.unproject(a.getBottomLeft()),c=this.unproject(a.getTopRight());return new g.LatLngBounds(b,c)},getMinZoom:function(){return this.options.minZoom===e?this._layersMinZoom===e?0:this._layersMinZoom:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===e?this._layersMaxZoom===e?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(a,b,c){a=g.latLngBounds(a);var d,e=this.getMinZoom()-(b?1:0),f=this.getMaxZoom(),h=this.getSize(),i=a.getNorthWest(),j=a.getSouthEast(),k=!0;c=g.point(c||[0,0]);do e++,d=this.project(j,e).subtract(this.project(i,e)).add(c),k=b?d.x<h.x||d.y<h.y:h.contains(d);while(k&&f>=e);return k&&b?null:b?e:e-1},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new g.Point(this._container.clientWidth,this._container.clientHeight),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(){var a=this._getTopLeftPoint();return new g.Bounds(a,a.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._initialTopLeftPoint},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(a){var b=this.options.crs;return b.scale(a)/b.scale(this._zoom)},getScaleZoom:function(a){return this._zoom+Math.log(a)/Math.LN2},project:function(a,b){return b=b===e?this._zoom:b,this.options.crs.latLngToPoint(g.latLng(a),b)},unproject:function(a,b){return b=b===e?this._zoom:b,this.options.crs.pointToLatLng(g.point(a),b)},layerPointToLatLng:function(a){var b=g.point(a).add(this.getPixelOrigin());return this.unproject(b)},latLngToLayerPoint:function(a){var b=this.project(g.latLng(a))._round();return b._subtract(this.getPixelOrigin())},containerPointToLayerPoint:function(a){return g.point(a).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(a){return g.point(a).add(this._getMapPanePos())},containerPointToLatLng:function(a){var b=this.containerPointToLayerPoint(g.point(a));return this.layerPointToLatLng(b)},latLngToContainerPoint:function(a){return this.layerPointToContainerPoint(this.latLngToLayerPoint(g.latLng(a)))},mouseEventToContainerPoint:function(a){return g.DomEvent.getMousePosition(a,this._container)},mouseEventToLayerPoint:function(a){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(a))},mouseEventToLatLng:function(a){return this.layerPointToLatLng(this.mouseEventToLayerPoint(a))},_initContainer:function(a){var b=this._container=g.DomUtil.get(a);if(!b)throw new Error("Map container not found.");if(b._leaflet)throw new Error("Map container is already initialized.");b._leaflet=!0},_initLayout:function(){var a=this._container;g.DomUtil.addClass(a,"leaflet-container"+(g.Browser.touch?" leaflet-touch":"")+(g.Browser.retina?" leaflet-retina":"")+(g.Browser.ielt9?" leaflet-oldie":"")+(this.options.fadeAnimation?" leaflet-fade-anim":""));var b=g.DomUtil.getStyle(a,"position");"absolute"!==b&&"relative"!==b&&"fixed"!==b&&(a.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var a=this._panes={};this._mapPane=a.mapPane=this._createPane("leaflet-map-pane",this._container),this._tilePane=a.tilePane=this._createPane("leaflet-tile-pane",this._mapPane),a.objectsPane=this._createPane("leaflet-objects-pane",this._mapPane),a.shadowPane=this._createPane("leaflet-shadow-pane"),a.overlayPane=this._createPane("leaflet-overlay-pane"),a.markerPane=this._createPane("leaflet-marker-pane"),a.popupPane=this._createPane("leaflet-popup-pane");var b=" leaflet-zoom-hide";this.options.markerZoomAnimation||(g.DomUtil.addClass(a.markerPane,b),g.DomUtil.addClass(a.shadowPane,b),g.DomUtil.addClass(a.popupPane,b))},_createPane:function(a,b){return g.DomUtil.create("div",a,b||this._panes.objectsPane)},_clearPanes:function(){this._container.removeChild(this._mapPane)},_addLayers:function(a){a=a?g.Util.isArray(a)?a:[a]:[];for(var b=0,c=a.length;c>b;b++)this.addLayer(a[b])},_resetView:function(a,b,c,d){var e=this._zoom!==b;d||(this.fire("movestart"),e&&this.fire("zoomstart")),this._zoom=b,this._initialCenter=a,this._initialTopLeftPoint=this._getNewTopLeftPoint(a),c?this._initialTopLeftPoint._add(this._getMapPanePos()):g.DomUtil.setPosition(this._mapPane,new g.Point(0,0)),this._tileLayersToLoad=this._tileLayersNum;var f=!this._loaded;this._loaded=!0,this.fire("viewreset",{hard:!c}),f&&(this.fire("load"),this.eachLayer(this._layerAdd,this)),this.fire("move"),(e||d)&&this.fire("zoomend"),this.fire("moveend",{hard:!c})},_rawPanBy:function(a){g.DomUtil.setPosition(this._mapPane,this._getMapPanePos().subtract(a))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_updateZoomLevels:function(){var a,b=1/0,c=-(1/0),d=this._getZoomSpan();for(a in this._zoomBoundLayers){var f=this._zoomBoundLayers[a];isNaN(f.options.minZoom)||(b=Math.min(b,f.options.minZoom)),isNaN(f.options.maxZoom)||(c=Math.max(c,f.options.maxZoom))}a===e?this._layersMaxZoom=this._layersMinZoom=e:(this._layersMaxZoom=c,this._layersMinZoom=b),d!==this._getZoomSpan()&&this.fire("zoomlevelschange")},_panInsideMaxBounds:function(){this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(a){if(g.DomEvent){a=a||"on",g.DomEvent[a](this._container,"click",this._onMouseClick,this);var c,d,e=["dblclick","mousedown","mouseup","mouseenter","mouseleave","mousemove","contextmenu"];for(c=0,d=e.length;d>c;c++)g.DomEvent[a](this._container,e[c],this._fireMouseEvent,this);this.options.trackResize&&g.DomEvent[a](b,"resize",this._onResize,this)}},_onResize:function(){g.Util.cancelAnimFrame(this._resizeRequest),this._resizeRequest=g.Util.requestAnimFrame(function(){this.invalidateSize({debounceMoveend:!0})},this,!1,this._container)},_onMouseClick:function(a){!this._loaded||!a._simulated&&(this.dragging&&this.dragging.moved()||this.boxZoom&&this.boxZoom.moved())||g.DomEvent._skipped(a)||(this.fire("preclick"),this._fireMouseEvent(a))},_fireMouseEvent:function(a){if(this._loaded&&!g.DomEvent._skipped(a)){var b=a.type;if(b="mouseenter"===b?"mouseover":"mouseleave"===b?"mouseout":b,this.hasEventListeners(b)){"contextmenu"===b&&g.DomEvent.preventDefault(a);var c=this.mouseEventToContainerPoint(a),d=this.containerPointToLayerPoint(c),e=this.layerPointToLatLng(d);this.fire(b,{latlng:e,layerPoint:d,containerPoint:c,originalEvent:a})}}},_onTileLayerLoad:function(){this._tileLayersToLoad--,this._tileLayersNum&&!this._tileLayersToLoad&&this.fire("tilelayersload")},_clearHandlers:function(){for(var a=0,b=this._handlers.length;b>a;a++)this._handlers[a].disable()},whenReady:function(a,b){return this._loaded?a.call(b||this,this):this.on("load",a,b),this},_layerAdd:function(a){a.onAdd(this),this.fire("layeradd",{layer:a})},_getMapPanePos:function(){return g.DomUtil.getPosition(this._mapPane)},_moved:function(){var a=this._getMapPanePos();return a&&!a.equals([0,0])},_getTopLeftPoint:function(){return this.getPixelOrigin().subtract(this._getMapPanePos())},_getNewTopLeftPoint:function(a,b){var c=this.getSize()._divideBy(2);return this.project(a,b)._subtract(c)._round()},_latLngToNewLayerPoint:function(a,b,c){var d=this._getNewTopLeftPoint(c,b).add(this._getMapPanePos());return this.project(a,b)._subtract(d)},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(a){return this.latLngToLayerPoint(a).subtract(this._getCenterLayerPoint())},_limitCenter:function(a,b,c){if(!c)return a;var d=this.project(a,b),e=this.getSize().divideBy(2),f=new g.Bounds(d.subtract(e),d.add(e)),h=this._getBoundsOffset(f,c,b);return this.unproject(d.add(h),b)},_limitOffset:function(a,b){if(!b)return a;var c=this.getPixelBounds(),d=new g.Bounds(c.min.add(a),c.max.add(a));return a.add(this._getBoundsOffset(d,b))},_getBoundsOffset:function(a,b,c){var d=this.project(b.getNorthWest(),c).subtract(a.min),e=this.project(b.getSouthEast(),c).subtract(a.max),f=this._rebound(d.x,-e.x),h=this._rebound(d.y,-e.y);return new g.Point(f,h)},_rebound:function(a,b){return a+b>0?Math.round(a-b)/2:Math.max(0,Math.ceil(a))-Math.max(0,Math.floor(b))},_limitZoom:function(a){var b=this.getMinZoom(),c=this.getMaxZoom();return Math.max(b,Math.min(c,a))}}),g.map=function(a,b){return new g.Map(a,b)},g.Projection.Mercator={MAX_LATITUDE:85.0840591556,R_MINOR:6356752.314245179,R_MAJOR:6378137,project:function(a){var b=g.LatLng.DEG_TO_RAD,c=this.MAX_LATITUDE,d=Math.max(Math.min(c,a.lat),-c),e=this.R_MAJOR,f=this.R_MINOR,h=a.lng*b*e,i=d*b,j=f/e,k=Math.sqrt(1-j*j),l=k*Math.sin(i);l=Math.pow((1-l)/(1+l),.5*k);var m=Math.tan(.5*(.5*Math.PI-i))/l;return i=-e*Math.log(m),new g.Point(h,i)},unproject:function(a){for(var b,c=g.LatLng.RAD_TO_DEG,d=this.R_MAJOR,e=this.R_MINOR,f=a.x*c/d,h=e/d,i=Math.sqrt(1-h*h),j=Math.exp(-a.y/d),k=Math.PI/2-2*Math.atan(j),l=15,m=1e-7,n=l,o=.1;Math.abs(o)>m&&--n>0;)b=i*Math.sin(k),o=Math.PI/2-2*Math.atan(j*Math.pow((1-b)/(1+b),.5*i))-k,k+=o;return new g.LatLng(k*c,f)}},g.CRS.EPSG3395=g.extend({},g.CRS,{code:"EPSG:3395",projection:g.Projection.Mercator,transformation:function(){var a=g.Projection.Mercator,b=a.R_MAJOR,c=.5/(Math.PI*b);return new g.Transformation(c,.5,-c,.5)}()}),g.TileLayer=g.Class.extend({includes:g.Mixin.Events,options:{minZoom:0,maxZoom:18,tileSize:256,subdomains:"abc",errorTileUrl:"",attribution:"",zoomOffset:0,opacity:1,unloadInvisibleTiles:g.Browser.mobile,updateWhenIdle:g.Browser.mobile},initialize:function(a,b){b=g.setOptions(this,b),b.detectRetina&&g.Browser.retina&&b.maxZoom>0&&(b.tileSize=Math.floor(b.tileSize/2),b.zoomOffset++,b.minZoom>0&&b.minZoom--,this.options.maxZoom--),b.bounds&&(b.bounds=g.latLngBounds(b.bounds)),this._url=a;var c=this.options.subdomains;"string"==typeof c&&(this.options.subdomains=c.split(""))},onAdd:function(a){this._map=a,this._animated=a._zoomAnimated,this._initContainer(),a.on({viewreset:this._reset,moveend:this._update},this),this._animated&&a.on({zoomanim:this._animateZoom,zoomend:this._endZoomAnim},this),this.options.updateWhenIdle||(this._limitedUpdate=g.Util.limitExecByInterval(this._update,150,this),a.on("move",this._limitedUpdate,this)),this._reset(),this._update()},addTo:function(a){return a.addLayer(this),this},onRemove:function(a){this._container.parentNode.removeChild(this._container),a.off({viewreset:this._reset,moveend:this._update},this),this._animated&&a.off({zoomanim:this._animateZoom,zoomend:this._endZoomAnim},this),this.options.updateWhenIdle||a.off("move",this._limitedUpdate,this),this._container=null,this._map=null},bringToFront:function(){var a=this._map._panes.tilePane;return this._container&&(a.appendChild(this._container),this._setAutoZIndex(a,Math.max)),this},bringToBack:function(){var a=this._map._panes.tilePane;return this._container&&(a.insertBefore(this._container,a.firstChild),this._setAutoZIndex(a,Math.min)),this},getAttribution:function(){return this.options.attribution},getContainer:function(){return this._container},setOpacity:function(a){return this.options.opacity=a,this._map&&this._updateOpacity(),this},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},setUrl:function(a,b){return this._url=a,b||this.redraw(),this},redraw:function(){return this._map&&(this._reset({hard:!0}),this._update()),this},_updateZIndex:function(){this._container&&this.options.zIndex!==e&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(a,b){var c,d,e,f=a.children,g=-b(1/0,-(1/0));for(d=0,e=f.length;e>d;d++)f[d]!==this._container&&(c=parseInt(f[d].style.zIndex,10),isNaN(c)||(g=b(g,c)));this.options.zIndex=this._container.style.zIndex=(isFinite(g)?g:0)+b(1,-1)},_updateOpacity:function(){var a,b=this._tiles;if(g.Browser.ielt9)for(a in b)g.DomUtil.setOpacity(b[a],this.options.opacity);else g.DomUtil.setOpacity(this._container,this.options.opacity)},_initContainer:function(){var a=this._map._panes.tilePane;if(!this._container){if(this._container=g.DomUtil.create("div","leaflet-layer"),this._updateZIndex(),this._animated){var b="leaflet-tile-container";this._bgBuffer=g.DomUtil.create("div",b,this._container),this._tileContainer=g.DomUtil.create("div",b,this._container)}else this._tileContainer=this._container;a.appendChild(this._container),this.options.opacity<1&&this._updateOpacity()}},_reset:function(a){for(var b in this._tiles)this.fire("tileunload",{tile:this._tiles[b]});this._tiles={},this._tilesToLoad=0,this.options.reuseTiles&&(this._unusedTiles=[]),this._tileContainer.innerHTML="",this._animated&&a&&a.hard&&this._clearBgBuffer(),this._initContainer()},_getTileSize:function(){var a=this._map,b=a.getZoom()+this.options.zoomOffset,c=this.options.maxNativeZoom,d=this.options.tileSize;return c&&b>c&&(d=Math.round(a.getZoomScale(b)/a.getZoomScale(c)*d)),d},_update:function(){if(this._map){var a=this._map,b=a.getPixelBounds(),c=a.getZoom(),d=this._getTileSize();if(!(c>this.options.maxZoom||c<this.options.minZoom)){var e=g.bounds(b.min.divideBy(d)._floor(),b.max.divideBy(d)._floor());this._addTilesFromCenterOut(e),(this.options.unloadInvisibleTiles||this.options.reuseTiles)&&this._removeOtherTiles(e)}}},_addTilesFromCenterOut:function(a){var b,c,e,f=[],h=a.getCenter();for(b=a.min.y;b<=a.max.y;b++)for(c=a.min.x;c<=a.max.x;c++)e=new g.Point(c,b),this._tileShouldBeLoaded(e)&&f.push(e);var i=f.length;if(0!==i){f.sort(function(a,b){return a.distanceTo(h)-b.distanceTo(h)});var j=d.createDocumentFragment();for(this._tilesToLoad||this.fire("loading"),this._tilesToLoad+=i,c=0;i>c;c++)this._addTile(f[c],j);this._tileContainer.appendChild(j)}},_tileShouldBeLoaded:function(a){if(a.x+":"+a.y in this._tiles)return!1;var b=this.options;if(!b.continuousWorld){var c=this._getWrapTileNum();if(b.noWrap&&(a.x<0||a.x>=c.x)||a.y<0||a.y>=c.y)return!1}if(b.bounds){var d=b.tileSize,e=a.multiplyBy(d),f=e.add([d,d]),g=this._map.unproject(e),h=this._map.unproject(f);if(b.continuousWorld||b.noWrap||(g=g.wrap(),h=h.wrap()),!b.bounds.intersects([g,h]))return!1}return!0},_removeOtherTiles:function(a){var b,c,d,e;for(e in this._tiles)b=e.split(":"),c=parseInt(b[0],10),d=parseInt(b[1],10),(c<a.min.x||c>a.max.x||d<a.min.y||d>a.max.y)&&this._removeTile(e)},_removeTile:function(a){var b=this._tiles[a];this.fire("tileunload",{tile:b,url:b.src}),this.options.reuseTiles?(g.DomUtil.removeClass(b,"leaflet-tile-loaded"),this._unusedTiles.push(b)):b.parentNode===this._tileContainer&&this._tileContainer.removeChild(b),g.Browser.android||(b.onload=null,b.src=g.Util.emptyImageUrl),delete this._tiles[a]},_addTile:function(a,b){var c=this._getTilePos(a),d=this._getTile();g.DomUtil.setPosition(d,c,g.Browser.chrome),this._tiles[a.x+":"+a.y]=d,this._loadTile(d,a),d.parentNode!==this._tileContainer&&b.appendChild(d)},_getZoomForUrl:function(){var a=this.options,b=this._map.getZoom();return a.zoomReverse&&(b=a.maxZoom-b),b+=a.zoomOffset,a.maxNativeZoom?Math.min(b,a.maxNativeZoom):b},_getTilePos:function(a){var b=this._map.getPixelOrigin(),c=this._getTileSize();return a.multiplyBy(c).subtract(b)},getTileUrl:function(a){return g.Util.template(this._url,g.extend({s:this._getSubdomain(a),z:a.z,x:a.x,y:a.y},this.options))},_getWrapTileNum:function(){var a=this._map.options.crs,b=a.getSize(this._map.getZoom());return b.divideBy(this._getTileSize())._floor()},_adjustTilePoint:function(a){var b=this._getWrapTileNum();this.options.continuousWorld||this.options.noWrap||(a.x=(a.x%b.x+b.x)%b.x),this.options.tms&&(a.y=b.y-a.y-1),a.z=this._getZoomForUrl()},_getSubdomain:function(a){var b=Math.abs(a.x+a.y)%this.options.subdomains.length;return this.options.subdomains[b]},_getTile:function(){if(this.options.reuseTiles&&this._unusedTiles.length>0){var a=this._unusedTiles.pop();return this._resetTile(a),a}return this._createTile()},_resetTile:function(){},_createTile:function(){var a=g.DomUtil.create("img","leaflet-tile");return a.style.width=a.style.height=this._getTileSize()+"px",a.galleryimg="no",a.onselectstart=a.onmousemove=g.Util.falseFn,g.Browser.ielt9&&this.options.opacity!==e&&g.DomUtil.setOpacity(a,this.options.opacity),g.Browser.mobileWebkit3d&&(a.style.WebkitBackfaceVisibility="hidden"),a},_loadTile:function(a,b){a._layer=this,a.onload=this._tileOnLoad,a.onerror=this._tileOnError,this._adjustTilePoint(b),a.src=this.getTileUrl(b),this.fire("tileloadstart",{tile:a,url:a.src})},_tileLoaded:function(){this._tilesToLoad--,this._animated&&g.DomUtil.addClass(this._tileContainer,"leaflet-zoom-animated"),this._tilesToLoad||(this.fire("load"),this._animated&&(clearTimeout(this._clearBgBufferTimer),this._clearBgBufferTimer=setTimeout(g.bind(this._clearBgBuffer,this),500)))},_tileOnLoad:function(){var a=this._layer;this.src!==g.Util.emptyImageUrl&&(g.DomUtil.addClass(this,"leaflet-tile-loaded"),a.fire("tileload",{tile:this,url:this.src})),a._tileLoaded()},_tileOnError:function(){var a=this._layer;a.fire("tileerror",{tile:this,url:this.src});var b=a.options.errorTileUrl;b&&(this.src=b),a._tileLoaded()}}),g.tileLayer=function(a,b){return new g.TileLayer(a,b)},g.TileLayer.WMS=g.TileLayer.extend({defaultWmsParams:{service:"WMS",request:"GetMap",version:"1.1.1",layers:"",styles:"",format:"image/jpeg",transparent:!1},initialize:function(a,b){this._url=a;var c=g.extend({},this.defaultWmsParams),d=b.tileSize||this.options.tileSize;b.detectRetina&&g.Browser.retina?c.width=c.height=2*d:c.width=c.height=d;for(var e in b)this.options.hasOwnProperty(e)||"crs"===e||(c[e]=b[e]);this.wmsParams=c,g.setOptions(this,b)},onAdd:function(a){this._crs=this.options.crs||a.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var b=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[b]=this._crs.code,g.TileLayer.prototype.onAdd.call(this,a)},getTileUrl:function(a){var b=this._map,c=this.options.tileSize,d=a.multiplyBy(c),e=d.add([c,c]),f=this._crs.project(b.unproject(d,a.z)),h=this._crs.project(b.unproject(e,a.z)),i=this._wmsVersion>=1.3&&this._crs===g.CRS.EPSG4326?[h.y,f.x,f.y,h.x].join(","):[f.x,h.y,h.x,f.y].join(","),j=g.Util.template(this._url,{s:this._getSubdomain(a)});return j+g.Util.getParamString(this.wmsParams,j,!0)+"&BBOX="+i},setParams:function(a,b){return g.extend(this.wmsParams,a),b||this.redraw(),this}}),g.tileLayer.wms=function(a,b){return new g.TileLayer.WMS(a,b)},g.TileLayer.Canvas=g.TileLayer.extend({options:{async:!1},initialize:function(a){g.setOptions(this,a)},redraw:function(){this._map&&(this._reset({hard:!0}),this._update());for(var a in this._tiles)this._redrawTile(this._tiles[a]);return this},_redrawTile:function(a){this.drawTile(a,a._tilePoint,this._map._zoom)},_createTile:function(){var a=g.DomUtil.create("canvas","leaflet-tile");return a.width=a.height=this.options.tileSize,a.onselectstart=a.onmousemove=g.Util.falseFn,a},_loadTile:function(a,b){a._layer=this,a._tilePoint=b,this._redrawTile(a),this.options.async||this.tileDrawn(a)},drawTile:function(){},tileDrawn:function(a){this._tileOnLoad.call(a)}}),g.tileLayer.canvas=function(a){return new g.TileLayer.Canvas(a)},g.ImageOverlay=g.Class.extend({includes:g.Mixin.Events,options:{opacity:1},initialize:function(a,b,c){this._url=a,this._bounds=g.latLngBounds(b),g.setOptions(this,c)},onAdd:function(a){this._map=a,this._image||this._initImage(),a._panes.overlayPane.appendChild(this._image),a.on("viewreset",this._reset,this),a.options.zoomAnimation&&g.Browser.any3d&&a.on("zoomanim",this._animateZoom,this),this._reset()},onRemove:function(a){a.getPanes().overlayPane.removeChild(this._image),a.off("viewreset",this._reset,this),a.options.zoomAnimation&&a.off("zoomanim",this._animateZoom,this)},addTo:function(a){return a.addLayer(this),this},setOpacity:function(a){return this.options.opacity=a,this._updateOpacity(),this},bringToFront:function(){return this._image&&this._map._panes.overlayPane.appendChild(this._image),this},bringToBack:function(){var a=this._map._panes.overlayPane;return this._image&&a.insertBefore(this._image,a.firstChild),this},setUrl:function(a){this._url=a,this._image.src=this._url},getAttribution:function(){return this.options.attribution},_initImage:function(){this._image=g.DomUtil.create("img","leaflet-image-layer"),this._map.options.zoomAnimation&&g.Browser.any3d?g.DomUtil.addClass(this._image,"leaflet-zoom-animated"):g.DomUtil.addClass(this._image,"leaflet-zoom-hide"),this._updateOpacity(),g.extend(this._image,{galleryimg:"no",onselectstart:g.Util.falseFn,onmousemove:g.Util.falseFn,onload:g.bind(this._onImageLoad,this),src:this._url})},_animateZoom:function(a){var b=this._map,c=this._image,d=b.getZoomScale(a.zoom),e=this._bounds.getNorthWest(),f=this._bounds.getSouthEast(),h=b._latLngToNewLayerPoint(e,a.zoom,a.center),i=b._latLngToNewLayerPoint(f,a.zoom,a.center)._subtract(h),j=h._add(i._multiplyBy(.5*(1-1/d)));c.style[g.DomUtil.TRANSFORM]=g.DomUtil.getTranslateString(j)+" scale("+d+") "},_reset:function(){var a=this._image,b=this._map.latLngToLayerPoint(this._bounds.getNorthWest()),c=this._map.latLngToLayerPoint(this._bounds.getSouthEast())._subtract(b);g.DomUtil.setPosition(a,b),a.style.width=c.x+"px",a.style.height=c.y+"px"},_onImageLoad:function(){this.fire("load")},_updateOpacity:function(){g.DomUtil.setOpacity(this._image,this.options.opacity)}}),g.imageOverlay=function(a,b,c){return new g.ImageOverlay(a,b,c)},g.Icon=g.Class.extend({options:{className:""},initialize:function(a){g.setOptions(this,a)},createIcon:function(a){return this._createIcon("icon",a)},createShadow:function(a){return this._createIcon("shadow",a)},_createIcon:function(a,b){var c=this._getIconUrl(a);if(!c){if("icon"===a)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var d;return d=b&&"IMG"===b.tagName?this._createImg(c,b):this._createImg(c),this._setIconStyles(d,a),d},_setIconStyles:function(a,b){var c,d=this.options,e=g.point(d[b+"Size"]);c="shadow"===b?g.point(d.shadowAnchor||d.iconAnchor):g.point(d.iconAnchor),!c&&e&&(c=e.divideBy(2,!0)),
a.className="leaflet-marker-"+b+" "+d.className,c&&(a.style.marginLeft=-c.x+"px",a.style.marginTop=-c.y+"px"),e&&(a.style.width=e.x+"px",a.style.height=e.y+"px")},_createImg:function(a,b){return b=b||d.createElement("img"),b.src=a,b},_getIconUrl:function(a){return g.Browser.retina&&this.options[a+"RetinaUrl"]?this.options[a+"RetinaUrl"]:this.options[a+"Url"]}}),g.icon=function(a){return new g.Icon(a)},g.Icon.Default=g.Icon.extend({options:{iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]},_getIconUrl:function(a){var b=a+"Url";if(this.options[b])return this.options[b];g.Browser.retina&&"icon"===a&&(a+="-2x");var c=g.Icon.Default.imagePath;if(!c)throw new Error("Couldn't autodetect L.Icon.Default.imagePath, set it manually.");return c+"/marker-"+a+".png"}}),g.Icon.Default.imagePath=function(){var a,b,c,e,f,g=d.getElementsByTagName("script"),h=/[\/^]leaflet[\-\._]?([\w\-\._]*)\.js\??/;for(a=0,b=g.length;b>a;a++)if(c=g[a].src,e=c.match(h))return f=c.split(h)[0],(f?f+"/":"")+"images"}(),g.Marker=g.Class.extend({includes:g.Mixin.Events,options:{icon:new g.Icon.Default,title:"",alt:"",clickable:!0,draggable:!1,keyboard:!0,zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250},initialize:function(a,b){g.setOptions(this,b),this._latlng=g.latLng(a)},onAdd:function(a){this._map=a,a.on("viewreset",this.update,this),this._initIcon(),this.update(),this.fire("add"),a.options.zoomAnimation&&a.options.markerZoomAnimation&&a.on("zoomanim",this._animateZoom,this)},addTo:function(a){return a.addLayer(this),this},onRemove:function(a){this.dragging&&this.dragging.disable(),this._removeIcon(),this._removeShadow(),this.fire("remove"),a.off({viewreset:this.update,zoomanim:this._animateZoom},this),this._map=null},getLatLng:function(){return this._latlng},setLatLng:function(a){return this._latlng=g.latLng(a),this.update(),this.fire("move",{latlng:this._latlng})},setZIndexOffset:function(a){return this.options.zIndexOffset=a,this.update(),this},setIcon:function(a){return this.options.icon=a,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup),this},update:function(){if(this._icon){var a=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(a)}return this},_initIcon:function(){var a=this.options,b=this._map,c=b.options.zoomAnimation&&b.options.markerZoomAnimation,d=c?"leaflet-zoom-animated":"leaflet-zoom-hide",e=a.icon.createIcon(this._icon),f=!1;e!==this._icon&&(this._icon&&this._removeIcon(),f=!0,a.title&&(e.title=a.title),a.alt&&(e.alt=a.alt)),g.DomUtil.addClass(e,d),a.keyboard&&(e.tabIndex="0"),this._icon=e,this._initInteraction(),a.riseOnHover&&g.DomEvent.on(e,"mouseover",this._bringToFront,this).on(e,"mouseout",this._resetZIndex,this);var h=a.icon.createShadow(this._shadow),i=!1;h!==this._shadow&&(this._removeShadow(),i=!0),h&&g.DomUtil.addClass(h,d),this._shadow=h,a.opacity<1&&this._updateOpacity();var j=this._map._panes;f&&j.markerPane.appendChild(this._icon),h&&i&&j.shadowPane.appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&g.DomEvent.off(this._icon,"mouseover",this._bringToFront).off(this._icon,"mouseout",this._resetZIndex),this._map._panes.markerPane.removeChild(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&this._map._panes.shadowPane.removeChild(this._shadow),this._shadow=null},_setPos:function(a){g.DomUtil.setPosition(this._icon,a),this._shadow&&g.DomUtil.setPosition(this._shadow,a),this._zIndex=a.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(a){this._icon.style.zIndex=this._zIndex+a},_animateZoom:function(a){var b=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center).round();this._setPos(b)},_initInteraction:function(){if(this.options.clickable){var a=this._icon,b=["dblclick","mousedown","mouseover","mouseout","contextmenu"];g.DomUtil.addClass(a,"leaflet-clickable"),g.DomEvent.on(a,"click",this._onMouseClick,this),g.DomEvent.on(a,"keypress",this._onKeyPress,this);for(var c=0;c<b.length;c++)g.DomEvent.on(a,b[c],this._fireMouseEvent,this);g.Handler.MarkerDrag&&(this.dragging=new g.Handler.MarkerDrag(this),this.options.draggable&&this.dragging.enable())}},_onMouseClick:function(a){var b=this.dragging&&this.dragging.moved();(this.hasEventListeners(a.type)||b)&&g.DomEvent.stopPropagation(a),b||(this.dragging&&this.dragging._enabled||!this._map.dragging||!this._map.dragging.moved())&&this.fire(a.type,{originalEvent:a,latlng:this._latlng})},_onKeyPress:function(a){13===a.keyCode&&this.fire("click",{originalEvent:a,latlng:this._latlng})},_fireMouseEvent:function(a){this.fire(a.type,{originalEvent:a,latlng:this._latlng}),"contextmenu"===a.type&&this.hasEventListeners(a.type)&&g.DomEvent.preventDefault(a),"mousedown"!==a.type?g.DomEvent.stopPropagation(a):g.DomEvent.preventDefault(a)},setOpacity:function(a){return this.options.opacity=a,this._map&&this._updateOpacity(),this},_updateOpacity:function(){g.DomUtil.setOpacity(this._icon,this.options.opacity),this._shadow&&g.DomUtil.setOpacity(this._shadow,this.options.opacity)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)}}),g.marker=function(a,b){return new g.Marker(a,b)},g.DivIcon=g.Icon.extend({options:{iconSize:[12,12],className:"leaflet-div-icon",html:!1},createIcon:function(a){var b=a&&"DIV"===a.tagName?a:d.createElement("div"),c=this.options;return c.html!==!1?b.innerHTML=c.html:b.innerHTML="",c.bgPos&&(b.style.backgroundPosition=-c.bgPos.x+"px "+-c.bgPos.y+"px"),this._setIconStyles(b,"icon"),b},createShadow:function(){return null}}),g.divIcon=function(a){return new g.DivIcon(a)},g.Map.mergeOptions({closePopupOnClick:!0}),g.Popup=g.Class.extend({includes:g.Mixin.Events,options:{minWidth:50,maxWidth:300,autoPan:!0,closeButton:!0,offset:[0,7],autoPanPadding:[5,5],keepInView:!1,className:"",zoomAnimation:!0},initialize:function(a,b){g.setOptions(this,a),this._source=b,this._animated=g.Browser.any3d&&this.options.zoomAnimation,this._isOpen=!1},onAdd:function(a){this._map=a,this._container||this._initLayout();var b=a.options.fadeAnimation;b&&g.DomUtil.setOpacity(this._container,0),a._panes.popupPane.appendChild(this._container),a.on(this._getEvents(),this),this.update(),b&&g.DomUtil.setOpacity(this._container,1),this.fire("open"),a.fire("popupopen",{popup:this}),this._source&&this._source.fire("popupopen",{popup:this})},addTo:function(a){return a.addLayer(this),this},openOn:function(a){return a.openPopup(this),this},onRemove:function(a){a._panes.popupPane.removeChild(this._container),g.Util.falseFn(this._container.offsetWidth),a.off(this._getEvents(),this),a.options.fadeAnimation&&g.DomUtil.setOpacity(this._container,0),this._map=null,this.fire("close"),a.fire("popupclose",{popup:this}),this._source&&this._source.fire("popupclose",{popup:this})},getLatLng:function(){return this._latlng},setLatLng:function(a){return this._latlng=g.latLng(a),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(a){return this._content=a,this.update(),this},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},_getEvents:function(){var a={viewreset:this._updatePosition};return this._animated&&(a.zoomanim=this._zoomAnimation),("closeOnClick"in this.options?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(a.preclick=this._close),this.options.keepInView&&(a.moveend=this._adjustPan),a},_close:function(){this._map&&this._map.closePopup(this)},_initLayout:function(){var a,b="leaflet-popup",c=b+" "+this.options.className+" leaflet-zoom-"+(this._animated?"animated":"hide"),d=this._container=g.DomUtil.create("div",c);this.options.closeButton&&(a=this._closeButton=g.DomUtil.create("a",b+"-close-button",d),a.href="#close",a.innerHTML="&#215;",g.DomEvent.disableClickPropagation(a),g.DomEvent.on(a,"click",this._onCloseButtonClick,this));var e=this._wrapper=g.DomUtil.create("div",b+"-content-wrapper",d);g.DomEvent.disableClickPropagation(e),this._contentNode=g.DomUtil.create("div",b+"-content",e),g.DomEvent.disableScrollPropagation(this._contentNode),g.DomEvent.on(e,"contextmenu",g.DomEvent.stopPropagation),this._tipContainer=g.DomUtil.create("div",b+"-tip-container",d),this._tip=g.DomUtil.create("div",b+"-tip",this._tipContainer)},_updateContent:function(){if(this._content){if("string"==typeof this._content)this._contentNode.innerHTML=this._content;else{for(;this._contentNode.hasChildNodes();)this._contentNode.removeChild(this._contentNode.firstChild);this._contentNode.appendChild(this._content)}this.fire("contentupdate")}},_updateLayout:function(){var a=this._contentNode,b=a.style;b.width="",b.whiteSpace="nowrap";var c=a.offsetWidth;c=Math.min(c,this.options.maxWidth),c=Math.max(c,this.options.minWidth),b.width=c+1+"px",b.whiteSpace="",b.height="";var d=a.offsetHeight,e=this.options.maxHeight,f="leaflet-popup-scrolled";e&&d>e?(b.height=e+"px",g.DomUtil.addClass(a,f)):g.DomUtil.removeClass(a,f),this._containerWidth=this._container.offsetWidth},_updatePosition:function(){if(this._map){var a=this._map.latLngToLayerPoint(this._latlng),b=this._animated,c=g.point(this.options.offset);b&&g.DomUtil.setPosition(this._container,a),this._containerBottom=-c.y-(b?0:a.y),this._containerLeft=-Math.round(this._containerWidth/2)+c.x+(b?0:a.x),this._container.style.bottom=this._containerBottom+"px",this._container.style.left=this._containerLeft+"px"}},_zoomAnimation:function(a){var b=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center);g.DomUtil.setPosition(this._container,b)},_adjustPan:function(){if(this.options.autoPan){var a=this._map,b=this._container.offsetHeight,c=this._containerWidth,d=new g.Point(this._containerLeft,-b-this._containerBottom);this._animated&&d._add(g.DomUtil.getPosition(this._container));var e=a.layerPointToContainerPoint(d),f=g.point(this.options.autoPanPadding),h=g.point(this.options.autoPanPaddingTopLeft||f),i=g.point(this.options.autoPanPaddingBottomRight||f),j=a.getSize(),k=0,l=0;e.x+c+i.x>j.x&&(k=e.x+c-j.x+i.x),e.x-k-h.x<0&&(k=e.x-h.x),e.y+b+i.y>j.y&&(l=e.y+b-j.y+i.y),e.y-l-h.y<0&&(l=e.y-h.y),(k||l)&&a.fire("autopanstart").panBy([k,l])}},_onCloseButtonClick:function(a){this._close(),g.DomEvent.stop(a)}}),g.popup=function(a,b){return new g.Popup(a,b)},g.Map.include({openPopup:function(a,b,c){if(this.closePopup(),!(a instanceof g.Popup)){var d=a;a=new g.Popup(c).setLatLng(b).setContent(d)}return a._isOpen=!0,this._popup=a,this.addLayer(a)},closePopup:function(a){return a&&a!==this._popup||(a=this._popup,this._popup=null),a&&(this.removeLayer(a),a._isOpen=!1),this}}),g.Marker.include({openPopup:function(){return this._popup&&this._map&&!this._map.hasLayer(this._popup)&&(this._popup.setLatLng(this._latlng),this._map.openPopup(this._popup)),this},closePopup:function(){return this._popup&&this._popup._close(),this},togglePopup:function(){return this._popup&&(this._popup._isOpen?this.closePopup():this.openPopup()),this},bindPopup:function(a,b){var c=g.point(this.options.icon.options.popupAnchor||[0,0]);return c=c.add(g.Popup.prototype.options.offset),b&&b.offset&&(c=c.add(b.offset)),b=g.extend({offset:c},b),this._popupHandlersAdded||(this.on("click",this.togglePopup,this).on("remove",this.closePopup,this).on("move",this._movePopup,this),this._popupHandlersAdded=!0),a instanceof g.Popup?(g.setOptions(a,b),this._popup=a):this._popup=new g.Popup(b,this).setContent(a),this},setPopupContent:function(a){return this._popup&&this._popup.setContent(a),this},unbindPopup:function(){return this._popup&&(this._popup=null,this.off("click",this.togglePopup,this).off("remove",this.closePopup,this).off("move",this._movePopup,this),this._popupHandlersAdded=!1),this},getPopup:function(){return this._popup},_movePopup:function(a){this._popup.setLatLng(a.latlng)}}),g.LayerGroup=g.Class.extend({initialize:function(a){this._layers={};var b,c;if(a)for(b=0,c=a.length;c>b;b++)this.addLayer(a[b])},addLayer:function(a){var b=this.getLayerId(a);return this._layers[b]=a,this._map&&this._map.addLayer(a),this},removeLayer:function(a){var b=a in this._layers?a:this.getLayerId(a);return this._map&&this._layers[b]&&this._map.removeLayer(this._layers[b]),delete this._layers[b],this},hasLayer:function(a){return a?a in this._layers||this.getLayerId(a)in this._layers:!1},clearLayers:function(){return this.eachLayer(this.removeLayer,this),this},invoke:function(a){var b,c,d=Array.prototype.slice.call(arguments,1);for(b in this._layers)c=this._layers[b],c[a]&&c[a].apply(c,d);return this},onAdd:function(a){this._map=a,this.eachLayer(a.addLayer,a)},onRemove:function(a){this.eachLayer(a.removeLayer,a),this._map=null},addTo:function(a){return a.addLayer(this),this},eachLayer:function(a,b){for(var c in this._layers)a.call(b,this._layers[c]);return this},getLayer:function(a){return this._layers[a]},getLayers:function(){var a=[];for(var b in this._layers)a.push(this._layers[b]);return a},setZIndex:function(a){return this.invoke("setZIndex",a)},getLayerId:function(a){return g.stamp(a)}}),g.layerGroup=function(a){return new g.LayerGroup(a)},g.FeatureGroup=g.LayerGroup.extend({includes:g.Mixin.Events,statics:{EVENTS:"click dblclick mouseover mouseout mousemove contextmenu popupopen popupclose"},addLayer:function(a){return this.hasLayer(a)?this:("on"in a&&a.on(g.FeatureGroup.EVENTS,this._propagateEvent,this),g.LayerGroup.prototype.addLayer.call(this,a),this._popupContent&&a.bindPopup&&a.bindPopup(this._popupContent,this._popupOptions),this.fire("layeradd",{layer:a}))},removeLayer:function(a){return this.hasLayer(a)?(a in this._layers&&(a=this._layers[a]),a.off(g.FeatureGroup.EVENTS,this._propagateEvent,this),g.LayerGroup.prototype.removeLayer.call(this,a),this._popupContent&&this.invoke("unbindPopup"),this.fire("layerremove",{layer:a})):this},bindPopup:function(a,b){return this._popupContent=a,this._popupOptions=b,this.invoke("bindPopup",a,b)},openPopup:function(a){for(var b in this._layers){this._layers[b].openPopup(a);break}return this},setStyle:function(a){return this.invoke("setStyle",a)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var a=new g.LatLngBounds;return this.eachLayer(function(b){a.extend(b instanceof g.Marker?b.getLatLng():b.getBounds())}),a},_propagateEvent:function(a){a=g.extend({layer:a.target,target:this},a),this.fire(a.type,a)}}),g.featureGroup=function(a){return new g.FeatureGroup(a)},g.Path=g.Class.extend({includes:[g.Mixin.Events],statics:{CLIP_PADDING:function(){var a=g.Browser.mobile?1280:2e3,c=(a/Math.max(b.outerWidth,b.outerHeight)-1)/2;return Math.max(0,Math.min(.5,c))}()},options:{stroke:!0,color:"#0033ff",dashArray:null,lineCap:null,lineJoin:null,weight:5,opacity:.5,fill:!1,fillColor:null,fillOpacity:.2,clickable:!0},initialize:function(a){g.setOptions(this,a)},onAdd:function(a){this._map=a,this._container||(this._initElements(),this._initEvents()),this.projectLatlngs(),this._updatePath(),this._container&&this._map._pathRoot.appendChild(this._container),this.fire("add"),a.on({viewreset:this.projectLatlngs,moveend:this._updatePath},this)},addTo:function(a){return a.addLayer(this),this},onRemove:function(a){a._pathRoot.removeChild(this._container),this.fire("remove"),this._map=null,g.Browser.vml&&(this._container=null,this._stroke=null,this._fill=null),a.off({viewreset:this.projectLatlngs,moveend:this._updatePath},this)},projectLatlngs:function(){},setStyle:function(a){return g.setOptions(this,a),this._container&&this._updateStyle(),this},redraw:function(){return this._map&&(this.projectLatlngs(),this._updatePath()),this}}),g.Map.include({_updatePathViewport:function(){var a=g.Path.CLIP_PADDING,b=this.getSize(),c=g.DomUtil.getPosition(this._mapPane),d=c.multiplyBy(-1)._subtract(b.multiplyBy(a)._round()),e=d.add(b.multiplyBy(1+2*a)._round());this._pathViewport=new g.Bounds(d,e)}}),g.Path.SVG_NS="http://www.w3.org/2000/svg",g.Browser.svg=!(!d.createElementNS||!d.createElementNS(g.Path.SVG_NS,"svg").createSVGRect),g.Path=g.Path.extend({statics:{SVG:g.Browser.svg},bringToFront:function(){var a=this._map._pathRoot,b=this._container;return b&&a.lastChild!==b&&a.appendChild(b),this},bringToBack:function(){var a=this._map._pathRoot,b=this._container,c=a.firstChild;return b&&c!==b&&a.insertBefore(b,c),this},getPathString:function(){},_createElement:function(a){return d.createElementNS(g.Path.SVG_NS,a)},_initElements:function(){this._map._initPathRoot(),this._initPath(),this._initStyle()},_initPath:function(){this._container=this._createElement("g"),this._path=this._createElement("path"),this.options.className&&g.DomUtil.addClass(this._path,this.options.className),this._container.appendChild(this._path)},_initStyle:function(){this.options.stroke&&(this._path.setAttribute("stroke-linejoin","round"),this._path.setAttribute("stroke-linecap","round")),this.options.fill&&this._path.setAttribute("fill-rule","evenodd"),this.options.pointerEvents&&this._path.setAttribute("pointer-events",this.options.pointerEvents),this.options.clickable||this.options.pointerEvents||this._path.setAttribute("pointer-events","none"),this._updateStyle()},_updateStyle:function(){this.options.stroke?(this._path.setAttribute("stroke",this.options.color),this._path.setAttribute("stroke-opacity",this.options.opacity),this._path.setAttribute("stroke-width",this.options.weight),this.options.dashArray?this._path.setAttribute("stroke-dasharray",this.options.dashArray):this._path.removeAttribute("stroke-dasharray"),this.options.lineCap&&this._path.setAttribute("stroke-linecap",this.options.lineCap),this.options.lineJoin&&this._path.setAttribute("stroke-linejoin",this.options.lineJoin)):this._path.setAttribute("stroke","none"),this.options.fill?(this._path.setAttribute("fill",this.options.fillColor||this.options.color),this._path.setAttribute("fill-opacity",this.options.fillOpacity)):this._path.setAttribute("fill","none")},_updatePath:function(){var a=this.getPathString();a||(a="M0 0"),this._path.setAttribute("d",a)},_initEvents:function(){if(this.options.clickable){(g.Browser.svg||!g.Browser.vml)&&g.DomUtil.addClass(this._path,"leaflet-clickable"),g.DomEvent.on(this._container,"click",this._onMouseClick,this);for(var a=["dblclick","mousedown","mouseover","mouseout","mousemove","contextmenu"],b=0;b<a.length;b++)g.DomEvent.on(this._container,a[b],this._fireMouseEvent,this)}},_onMouseClick:function(a){this._map.dragging&&this._map.dragging.moved()||this._fireMouseEvent(a)},_fireMouseEvent:function(a){if(this.hasEventListeners(a.type)){var b=this._map,c=b.mouseEventToContainerPoint(a),d=b.containerPointToLayerPoint(c),e=b.layerPointToLatLng(d);this.fire(a.type,{latlng:e,layerPoint:d,containerPoint:c,originalEvent:a}),"contextmenu"===a.type&&g.DomEvent.preventDefault(a),"mousemove"!==a.type&&g.DomEvent.stopPropagation(a)}}}),g.Map.include({_initPathRoot:function(){this._pathRoot||(this._pathRoot=g.Path.prototype._createElement("svg"),this._panes.overlayPane.appendChild(this._pathRoot),this.options.zoomAnimation&&g.Browser.any3d?(g.DomUtil.addClass(this._pathRoot,"leaflet-zoom-animated"),this.on({zoomanim:this._animatePathZoom,zoomend:this._endPathZoom})):g.DomUtil.addClass(this._pathRoot,"leaflet-zoom-hide"),this.on("moveend",this._updateSvgViewport),this._updateSvgViewport())},_animatePathZoom:function(a){var b=this.getZoomScale(a.zoom),c=this._getCenterOffset(a.center)._multiplyBy(-b)._add(this._pathViewport.min);this._pathRoot.style[g.DomUtil.TRANSFORM]=g.DomUtil.getTranslateString(c)+" scale("+b+") ",this._pathZooming=!0},_endPathZoom:function(){this._pathZooming=!1},_updateSvgViewport:function(){if(!this._pathZooming){this._updatePathViewport();var a=this._pathViewport,b=a.min,c=a.max,d=c.x-b.x,e=c.y-b.y,f=this._pathRoot,h=this._panes.overlayPane;g.Browser.mobileWebkit&&h.removeChild(f),g.DomUtil.setPosition(f,b),f.setAttribute("width",d),f.setAttribute("height",e),f.setAttribute("viewBox",[b.x,b.y,d,e].join(" ")),g.Browser.mobileWebkit&&h.appendChild(f)}}}),g.Path.include({bindPopup:function(a,b){return a instanceof g.Popup?this._popup=a:((!this._popup||b)&&(this._popup=new g.Popup(b,this)),this._popup.setContent(a)),this._popupHandlersAdded||(this.on("click",this._openPopup,this).on("remove",this.closePopup,this),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this._popup=null,this.off("click",this._openPopup).off("remove",this.closePopup),this._popupHandlersAdded=!1),this},openPopup:function(a){return this._popup&&(a=a||this._latlng||this._latlngs[Math.floor(this._latlngs.length/2)],this._openPopup({latlng:a})),this},closePopup:function(){return this._popup&&this._popup._close(),this},_openPopup:function(a){this._popup.setLatLng(a.latlng),this._map.openPopup(this._popup)}}),g.Browser.vml=!g.Browser.svg&&function(){try{var a=d.createElement("div");a.innerHTML='<v:shape adj="1"/>';var b=a.firstChild;return b.style.behavior="url(#default#VML)",b&&"object"==typeof b.adj}catch(c){return!1}}(),g.Path=g.Browser.svg||!g.Browser.vml?g.Path:g.Path.extend({statics:{VML:!0,CLIP_PADDING:.02},_createElement:function(){try{return d.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(a){return d.createElement("<lvml:"+a+' class="lvml">')}}catch(a){return function(a){return d.createElement("<"+a+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}}(),_initPath:function(){var a=this._container=this._createElement("shape");g.DomUtil.addClass(a,"leaflet-vml-shape"+(this.options.className?" "+this.options.className:"")),this.options.clickable&&g.DomUtil.addClass(a,"leaflet-clickable"),a.coordsize="1 1",this._path=this._createElement("path"),a.appendChild(this._path),this._map._pathRoot.appendChild(a)},_initStyle:function(){this._updateStyle()},_updateStyle:function(){var a=this._stroke,b=this._fill,c=this.options,d=this._container;d.stroked=c.stroke,d.filled=c.fill,c.stroke?(a||(a=this._stroke=this._createElement("stroke"),a.endcap="round",d.appendChild(a)),a.weight=c.weight+"px",a.color=c.color,a.opacity=c.opacity,c.dashArray?a.dashStyle=g.Util.isArray(c.dashArray)?c.dashArray.join(" "):c.dashArray.replace(/( *, *)/g," "):a.dashStyle="",c.lineCap&&(a.endcap=c.lineCap.replace("butt","flat")),c.lineJoin&&(a.joinstyle=c.lineJoin)):a&&(d.removeChild(a),this._stroke=null),c.fill?(b||(b=this._fill=this._createElement("fill"),d.appendChild(b)),b.color=c.fillColor||c.color,b.opacity=c.fillOpacity):b&&(d.removeChild(b),this._fill=null)},_updatePath:function(){var a=this._container.style;a.display="none",this._path.v=this.getPathString()+" ",a.display=""}}),g.Map.include(g.Browser.svg||!g.Browser.vml?{}:{_initPathRoot:function(){if(!this._pathRoot){var a=this._pathRoot=d.createElement("div");a.className="leaflet-vml-container",this._panes.overlayPane.appendChild(a),this.on("moveend",this._updatePathViewport),this._updatePathViewport()}}}),g.Browser.canvas=function(){return!!d.createElement("canvas").getContext}(),g.Path=g.Path.SVG&&!b.L_PREFER_CANVAS||!g.Browser.canvas?g.Path:g.Path.extend({statics:{CANVAS:!0,SVG:!1},redraw:function(){return this._map&&(this.projectLatlngs(),this._requestUpdate()),this},setStyle:function(a){return g.setOptions(this,a),this._map&&(this._updateStyle(),this._requestUpdate()),this},onRemove:function(a){a.off("viewreset",this.projectLatlngs,this).off("moveend",this._updatePath,this),this.options.clickable&&(this._map.off("click",this._onClick,this),this._map.off("mousemove",this._onMouseMove,this)),this._requestUpdate(),this.fire("remove"),this._map=null},_requestUpdate:function(){this._map&&!g.Path._updateRequest&&(g.Path._updateRequest=g.Util.requestAnimFrame(this._fireMapMoveEnd,this._map))},_fireMapMoveEnd:function(){g.Path._updateRequest=null,this.fire("moveend")},_initElements:function(){this._map._initPathRoot(),this._ctx=this._map._canvasCtx},_updateStyle:function(){var a=this.options;a.stroke&&(this._ctx.lineWidth=a.weight,this._ctx.strokeStyle=a.color),a.fill&&(this._ctx.fillStyle=a.fillColor||a.color)},_drawPath:function(){var a,b,c,d,e,f;for(this._ctx.beginPath(),a=0,c=this._parts.length;c>a;a++){for(b=0,d=this._parts[a].length;d>b;b++)e=this._parts[a][b],f=(0===b?"move":"line")+"To",this._ctx[f](e.x,e.y);this instanceof g.Polygon&&this._ctx.closePath()}},_checkIfEmpty:function(){return!this._parts.length},_updatePath:function(){if(!this._checkIfEmpty()){var a=this._ctx,b=this.options;this._drawPath(),a.save(),this._updateStyle(),b.fill&&(a.globalAlpha=b.fillOpacity,a.fill()),b.stroke&&(a.globalAlpha=b.opacity,a.stroke()),a.restore()}},_initEvents:function(){this.options.clickable&&(this._map.on("mousemove",this._onMouseMove,this),this._map.on("click",this._onClick,this))},_onClick:function(a){this._containsPoint(a.layerPoint)&&this.fire("click",a)},_onMouseMove:function(a){this._map&&!this._map._animatingZoom&&(this._containsPoint(a.layerPoint)?(this._ctx.canvas.style.cursor="pointer",this._mouseInside=!0,this.fire("mouseover",a)):this._mouseInside&&(this._ctx.canvas.style.cursor="",this._mouseInside=!1,this.fire("mouseout",a)))}}),g.Map.include(g.Path.SVG&&!b.L_PREFER_CANVAS||!g.Browser.canvas?{}:{_initPathRoot:function(){var a,b=this._pathRoot;b||(b=this._pathRoot=d.createElement("canvas"),b.style.position="absolute",a=this._canvasCtx=b.getContext("2d"),a.lineCap="round",a.lineJoin="round",this._panes.overlayPane.appendChild(b),this.options.zoomAnimation&&(this._pathRoot.className="leaflet-zoom-animated",this.on("zoomanim",this._animatePathZoom),this.on("zoomend",this._endPathZoom)),this.on("moveend",this._updateCanvasViewport),this._updateCanvasViewport())},_updateCanvasViewport:function(){if(!this._pathZooming){this._updatePathViewport();var a=this._pathViewport,b=a.min,c=a.max.subtract(b),d=this._pathRoot;g.DomUtil.setPosition(d,b),d.width=c.x,d.height=c.y,d.getContext("2d").translate(-b.x,-b.y)}}}),g.LineUtil={simplify:function(a,b){if(!b||!a.length)return a.slice();var c=b*b;return a=this._reducePoints(a,c),a=this._simplifyDP(a,c)},pointToSegmentDistance:function(a,b,c){return Math.sqrt(this._sqClosestPointOnSegment(a,b,c,!0))},closestPointOnSegment:function(a,b,c){return this._sqClosestPointOnSegment(a,b,c)},_simplifyDP:function(a,b){var c=a.length,d=typeof Uint8Array!=e+""?Uint8Array:Array,f=new d(c);f[0]=f[c-1]=1,this._simplifyDPStep(a,f,b,0,c-1);var g,h=[];for(g=0;c>g;g++)f[g]&&h.push(a[g]);return h},_simplifyDPStep:function(a,b,c,d,e){var f,g,h,i=0;for(g=d+1;e-1>=g;g++)h=this._sqClosestPointOnSegment(a[g],a[d],a[e],!0),h>i&&(f=g,i=h);i>c&&(b[f]=1,this._simplifyDPStep(a,b,c,d,f),this._simplifyDPStep(a,b,c,f,e))},_reducePoints:function(a,b){for(var c=[a[0]],d=1,e=0,f=a.length;f>d;d++)this._sqDist(a[d],a[e])>b&&(c.push(a[d]),e=d);return f-1>e&&c.push(a[f-1]),c},clipSegment:function(a,b,c,d){var e,f,g,h=d?this._lastCode:this._getBitCode(a,c),i=this._getBitCode(b,c);for(this._lastCode=i;;){if(!(h|i))return[a,b];if(h&i)return!1;e=h||i,f=this._getEdgeIntersection(a,b,e,c),g=this._getBitCode(f,c),e===h?(a=f,h=g):(b=f,i=g)}},_getEdgeIntersection:function(a,b,c,d){var e=b.x-a.x,f=b.y-a.y,h=d.min,i=d.max;return 8&c?new g.Point(a.x+e*(i.y-a.y)/f,i.y):4&c?new g.Point(a.x+e*(h.y-a.y)/f,h.y):2&c?new g.Point(i.x,a.y+f*(i.x-a.x)/e):1&c?new g.Point(h.x,a.y+f*(h.x-a.x)/e):void 0},_getBitCode:function(a,b){var c=0;return a.x<b.min.x?c|=1:a.x>b.max.x&&(c|=2),a.y<b.min.y?c|=4:a.y>b.max.y&&(c|=8),c},_sqDist:function(a,b){var c=b.x-a.x,d=b.y-a.y;return c*c+d*d},_sqClosestPointOnSegment:function(a,b,c,d){var e,f=b.x,h=b.y,i=c.x-f,j=c.y-h,k=i*i+j*j;return k>0&&(e=((a.x-f)*i+(a.y-h)*j)/k,e>1?(f=c.x,h=c.y):e>0&&(f+=i*e,h+=j*e)),i=a.x-f,j=a.y-h,d?i*i+j*j:new g.Point(f,h)}},g.Polyline=g.Path.extend({initialize:function(a,b){g.Path.prototype.initialize.call(this,b),this._latlngs=this._convertLatLngs(a)},options:{smoothFactor:1,noClip:!1},projectLatlngs:function(){this._originalPoints=[];for(var a=0,b=this._latlngs.length;b>a;a++)this._originalPoints[a]=this._map.latLngToLayerPoint(this._latlngs[a])},getPathString:function(){for(var a=0,b=this._parts.length,c="";b>a;a++)c+=this._getPathPartStr(this._parts[a]);return c},getLatLngs:function(){return this._latlngs},setLatLngs:function(a){return this._latlngs=this._convertLatLngs(a),this.redraw()},addLatLng:function(a){return this._latlngs.push(g.latLng(a)),this.redraw()},spliceLatLngs:function(){var a=[].splice.apply(this._latlngs,arguments);return this._convertLatLngs(this._latlngs,!0),this.redraw(),a},closestLayerPoint:function(a){for(var b,c,d=1/0,e=this._parts,f=null,h=0,i=e.length;i>h;h++)for(var j=e[h],k=1,l=j.length;l>k;k++){b=j[k-1],c=j[k];var m=g.LineUtil._sqClosestPointOnSegment(a,b,c,!0);d>m&&(d=m,f=g.LineUtil._sqClosestPointOnSegment(a,b,c))}return f&&(f.distance=Math.sqrt(d)),f},getBounds:function(){return new g.LatLngBounds(this.getLatLngs())},_convertLatLngs:function(a,b){var c,d,e=b?a:[];for(c=0,d=a.length;d>c;c++){if(g.Util.isArray(a[c])&&"number"!=typeof a[c][0])return;e[c]=g.latLng(a[c])}return e},_initEvents:function(){g.Path.prototype._initEvents.call(this)},_getPathPartStr:function(a){for(var b,c=g.Path.VML,d=0,e=a.length,f="";e>d;d++)b=a[d],c&&b._round(),f+=(d?"L":"M")+b.x+" "+b.y;return f},_clipPoints:function(){var a,b,c,d=this._originalPoints,e=d.length;if(this.options.noClip)return void(this._parts=[d]);this._parts=[];var f=this._parts,h=this._map._pathViewport,i=g.LineUtil;for(a=0,b=0;e-1>a;a++)c=i.clipSegment(d[a],d[a+1],h,a),c&&(f[b]=f[b]||[],f[b].push(c[0]),(c[1]!==d[a+1]||a===e-2)&&(f[b].push(c[1]),b++))},_simplifyPoints:function(){for(var a=this._parts,b=g.LineUtil,c=0,d=a.length;d>c;c++)a[c]=b.simplify(a[c],this.options.smoothFactor)},_updatePath:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),g.Path.prototype._updatePath.call(this))}}),g.polyline=function(a,b){return new g.Polyline(a,b)},g.PolyUtil={},g.PolyUtil.clipPolygon=function(a,b){var c,d,e,f,h,i,j,k,l,m=[1,4,2,8],n=g.LineUtil;for(d=0,j=a.length;j>d;d++)a[d]._code=n._getBitCode(a[d],b);for(f=0;4>f;f++){for(k=m[f],c=[],d=0,j=a.length,e=j-1;j>d;e=d++)h=a[d],i=a[e],h._code&k?i._code&k||(l=n._getEdgeIntersection(i,h,k,b),l._code=n._getBitCode(l,b),c.push(l)):(i._code&k&&(l=n._getEdgeIntersection(i,h,k,b),l._code=n._getBitCode(l,b),c.push(l)),c.push(h));a=c}return a},g.Polygon=g.Polyline.extend({options:{fill:!0},initialize:function(a,b){g.Polyline.prototype.initialize.call(this,a,b),this._initWithHoles(a)},_initWithHoles:function(a){var b,c,d;if(a&&g.Util.isArray(a[0])&&"number"!=typeof a[0][0])for(this._latlngs=this._convertLatLngs(a[0]),this._holes=a.slice(1),b=0,c=this._holes.length;c>b;b++)d=this._holes[b]=this._convertLatLngs(this._holes[b]),d[0].equals(d[d.length-1])&&d.pop();a=this._latlngs,a.length>=2&&a[0].equals(a[a.length-1])&&a.pop()},projectLatlngs:function(){if(g.Polyline.prototype.projectLatlngs.call(this),this._holePoints=[],this._holes){var a,b,c,d;for(a=0,c=this._holes.length;c>a;a++)for(this._holePoints[a]=[],b=0,d=this._holes[a].length;d>b;b++)this._holePoints[a][b]=this._map.latLngToLayerPoint(this._holes[a][b])}},setLatLngs:function(a){return a&&g.Util.isArray(a[0])&&"number"!=typeof a[0][0]?(this._initWithHoles(a),this.redraw()):g.Polyline.prototype.setLatLngs.call(this,a)},_clipPoints:function(){var a=this._originalPoints,b=[];if(this._parts=[a].concat(this._holePoints),!this.options.noClip){for(var c=0,d=this._parts.length;d>c;c++){var e=g.PolyUtil.clipPolygon(this._parts[c],this._map._pathViewport);e.length&&b.push(e)}this._parts=b}},_getPathPartStr:function(a){var b=g.Polyline.prototype._getPathPartStr.call(this,a);return b+(g.Browser.svg?"z":"x")}}),g.polygon=function(a,b){return new g.Polygon(a,b)},function(){function a(a){return g.FeatureGroup.extend({initialize:function(a,b){this._layers={},this._options=b,this.setLatLngs(a)},setLatLngs:function(b){var c=0,d=b.length;for(this.eachLayer(function(a){d>c?a.setLatLngs(b[c++]):this.removeLayer(a)},this);d>c;)this.addLayer(new a(b[c++],this._options));
return this},getLatLngs:function(){var a=[];return this.eachLayer(function(b){a.push(b.getLatLngs())}),a}})}g.MultiPolyline=a(g.Polyline),g.MultiPolygon=a(g.Polygon),g.multiPolyline=function(a,b){return new g.MultiPolyline(a,b)},g.multiPolygon=function(a,b){return new g.MultiPolygon(a,b)}}(),g.Rectangle=g.Polygon.extend({initialize:function(a,b){g.Polygon.prototype.initialize.call(this,this._boundsToLatLngs(a),b)},setBounds:function(a){this.setLatLngs(this._boundsToLatLngs(a))},_boundsToLatLngs:function(a){return a=g.latLngBounds(a),[a.getSouthWest(),a.getNorthWest(),a.getNorthEast(),a.getSouthEast()]}}),g.rectangle=function(a,b){return new g.Rectangle(a,b)},g.Circle=g.Path.extend({initialize:function(a,b,c){g.Path.prototype.initialize.call(this,c),this._latlng=g.latLng(a),this._mRadius=b},options:{fill:!0},setLatLng:function(a){return this._latlng=g.latLng(a),this.redraw()},setRadius:function(a){return this._mRadius=a,this.redraw()},projectLatlngs:function(){var a=this._getLngRadius(),b=this._latlng,c=this._map.latLngToLayerPoint([b.lat,b.lng-a]);this._point=this._map.latLngToLayerPoint(b),this._radius=Math.max(this._point.x-c.x,1)},getBounds:function(){var a=this._getLngRadius(),b=this._mRadius/40075017*360,c=this._latlng;return new g.LatLngBounds([c.lat-b,c.lng-a],[c.lat+b,c.lng+a])},getLatLng:function(){return this._latlng},getPathString:function(){var a=this._point,b=this._radius;return this._checkIfEmpty()?"":g.Browser.svg?"M"+a.x+","+(a.y-b)+"A"+b+","+b+",0,1,1,"+(a.x-.1)+","+(a.y-b)+" z":(a._round(),b=Math.round(b),"AL "+a.x+","+a.y+" "+b+","+b+" 0,23592600")},getRadius:function(){return this._mRadius},_getLatRadius:function(){return this._mRadius/40075017*360},_getLngRadius:function(){return this._getLatRadius()/Math.cos(g.LatLng.DEG_TO_RAD*this._latlng.lat)},_checkIfEmpty:function(){if(!this._map)return!1;var a=this._map._pathViewport,b=this._radius,c=this._point;return c.x-b>a.max.x||c.y-b>a.max.y||c.x+b<a.min.x||c.y+b<a.min.y}}),g.circle=function(a,b,c){return new g.Circle(a,b,c)},g.CircleMarker=g.Circle.extend({options:{radius:10,weight:2},initialize:function(a,b){g.Circle.prototype.initialize.call(this,a,null,b),this._radius=this.options.radius},projectLatlngs:function(){this._point=this._map.latLngToLayerPoint(this._latlng)},_updateStyle:function(){g.Circle.prototype._updateStyle.call(this),this.setRadius(this.options.radius)},setLatLng:function(a){return g.Circle.prototype.setLatLng.call(this,a),this._popup&&this._popup._isOpen&&this._popup.setLatLng(a),this},setRadius:function(a){return this.options.radius=this._radius=a,this.redraw()},getRadius:function(){return this._radius}}),g.circleMarker=function(a,b){return new g.CircleMarker(a,b)},g.Polyline.include(g.Path.CANVAS?{_containsPoint:function(a,b){var c,d,e,f,h,i,j,k=this.options.weight/2;for(g.Browser.touch&&(k+=10),c=0,f=this._parts.length;f>c;c++)for(j=this._parts[c],d=0,h=j.length,e=h-1;h>d;e=d++)if((b||0!==d)&&(i=g.LineUtil.pointToSegmentDistance(a,j[e],j[d]),k>=i))return!0;return!1}}:{}),g.Polygon.include(g.Path.CANVAS?{_containsPoint:function(a){var b,c,d,e,f,h,i,j,k=!1;if(g.Polyline.prototype._containsPoint.call(this,a,!0))return!0;for(e=0,i=this._parts.length;i>e;e++)for(b=this._parts[e],f=0,j=b.length,h=j-1;j>f;h=f++)c=b[f],d=b[h],c.y>a.y!=d.y>a.y&&a.x<(d.x-c.x)*(a.y-c.y)/(d.y-c.y)+c.x&&(k=!k);return k}}:{}),g.Circle.include(g.Path.CANVAS?{_drawPath:function(){var a=this._point;this._ctx.beginPath(),this._ctx.arc(a.x,a.y,this._radius,0,2*Math.PI,!1)},_containsPoint:function(a){var b=this._point,c=this.options.stroke?this.options.weight/2:0;return a.distanceTo(b)<=this._radius+c}}:{}),g.CircleMarker.include(g.Path.CANVAS?{_updateStyle:function(){g.Path.prototype._updateStyle.call(this)}}:{}),g.GeoJSON=g.FeatureGroup.extend({initialize:function(a,b){g.setOptions(this,b),this._layers={},a&&this.addData(a)},addData:function(a){var b,c,d,e=g.Util.isArray(a)?a:a.features;if(e){for(b=0,c=e.length;c>b;b++)d=e[b],(d.geometries||d.geometry||d.features||d.coordinates)&&this.addData(e[b]);return this}var f=this.options;if(!f.filter||f.filter(a)){var h=g.GeoJSON.geometryToLayer(a,f.pointToLayer,f.coordsToLatLng,f);return h.feature=g.GeoJSON.asFeature(a),h.defaultOptions=h.options,this.resetStyle(h),f.onEachFeature&&f.onEachFeature(a,h),this.addLayer(h)}},resetStyle:function(a){var b=this.options.style;b&&(g.Util.extend(a.options,a.defaultOptions),this._setLayerStyle(a,b))},setStyle:function(a){this.eachLayer(function(b){this._setLayerStyle(b,a)},this)},_setLayerStyle:function(a,b){"function"==typeof b&&(b=b(a.feature)),a.setStyle&&a.setStyle(b)}}),g.extend(g.GeoJSON,{geometryToLayer:function(a,b,c,d){var e,f,h,i,j="Feature"===a.type?a.geometry:a,k=j.coordinates,l=[];switch(c=c||this.coordsToLatLng,j.type){case"Point":return e=c(k),b?b(a,e):new g.Marker(e);case"MultiPoint":for(h=0,i=k.length;i>h;h++)e=c(k[h]),l.push(b?b(a,e):new g.Marker(e));return new g.FeatureGroup(l);case"LineString":return f=this.coordsToLatLngs(k,0,c),new g.Polyline(f,d);case"Polygon":if(2===k.length&&!k[1].length)throw new Error("Invalid GeoJSON object.");return f=this.coordsToLatLngs(k,1,c),new g.Polygon(f,d);case"MultiLineString":return f=this.coordsToLatLngs(k,1,c),new g.MultiPolyline(f,d);case"MultiPolygon":return f=this.coordsToLatLngs(k,2,c),new g.MultiPolygon(f,d);case"GeometryCollection":for(h=0,i=j.geometries.length;i>h;h++)l.push(this.geometryToLayer({geometry:j.geometries[h],type:"Feature",properties:a.properties},b,c,d));return new g.FeatureGroup(l);default:throw new Error("Invalid GeoJSON object.")}},coordsToLatLng:function(a){return new g.LatLng(a[1],a[0],a[2])},coordsToLatLngs:function(a,b,c){var d,e,f,g=[];for(e=0,f=a.length;f>e;e++)d=b?this.coordsToLatLngs(a[e],b-1,c):(c||this.coordsToLatLng)(a[e]),g.push(d);return g},latLngToCoords:function(a){var b=[a.lng,a.lat];return a.alt!==e&&b.push(a.alt),b},latLngsToCoords:function(a){for(var b=[],c=0,d=a.length;d>c;c++)b.push(g.GeoJSON.latLngToCoords(a[c]));return b},getFeature:function(a,b){return a.feature?g.extend({},a.feature,{geometry:b}):g.GeoJSON.asFeature(b)},asFeature:function(a){return"Feature"===a.type?a:{type:"Feature",properties:{},geometry:a}}});var i={toGeoJSON:function(){return g.GeoJSON.getFeature(this,{type:"Point",coordinates:g.GeoJSON.latLngToCoords(this.getLatLng())})}};g.Marker.include(i),g.Circle.include(i),g.CircleMarker.include(i),g.Polyline.include({toGeoJSON:function(){return g.GeoJSON.getFeature(this,{type:"LineString",coordinates:g.GeoJSON.latLngsToCoords(this.getLatLngs())})}}),g.Polygon.include({toGeoJSON:function(){var a,b,c,d=[g.GeoJSON.latLngsToCoords(this.getLatLngs())];if(d[0].push(d[0][0]),this._holes)for(a=0,b=this._holes.length;b>a;a++)c=g.GeoJSON.latLngsToCoords(this._holes[a]),c.push(c[0]),d.push(c);return g.GeoJSON.getFeature(this,{type:"Polygon",coordinates:d})}}),function(){function a(a){return function(){var b=[];return this.eachLayer(function(a){b.push(a.toGeoJSON().geometry.coordinates)}),g.GeoJSON.getFeature(this,{type:a,coordinates:b})}}g.MultiPolyline.include({toGeoJSON:a("MultiLineString")}),g.MultiPolygon.include({toGeoJSON:a("MultiPolygon")}),g.LayerGroup.include({toGeoJSON:function(){var b,c=this.feature&&this.feature.geometry,d=[];if(c&&"MultiPoint"===c.type)return a("MultiPoint").call(this);var e=c&&"GeometryCollection"===c.type;return this.eachLayer(function(a){a.toGeoJSON&&(b=a.toGeoJSON(),d.push(e?b.geometry:g.GeoJSON.asFeature(b)))}),e?g.GeoJSON.getFeature(this,{geometries:d,type:"GeometryCollection"}):{type:"FeatureCollection",features:d}}})}(),g.geoJson=function(a,b){return new g.GeoJSON(a,b)},g.DomEvent={addListener:function(a,b,c,d){var e,f,h,i=g.stamp(c),j="_leaflet_"+b+i;return a[j]?this:(e=function(b){return c.call(d||a,b||g.DomEvent._getEvent())},g.Browser.pointer&&0===b.indexOf("touch")?this.addPointerListener(a,b,e,i):(g.Browser.touch&&"dblclick"===b&&this.addDoubleTapListener&&this.addDoubleTapListener(a,e,i),"addEventListener"in a?"mousewheel"===b?(a.addEventListener("DOMMouseScroll",e,!1),a.addEventListener(b,e,!1)):"mouseenter"===b||"mouseleave"===b?(f=e,h="mouseenter"===b?"mouseover":"mouseout",e=function(b){return g.DomEvent._checkMouse(a,b)?f(b):void 0},a.addEventListener(h,e,!1)):"click"===b&&g.Browser.android?(f=e,e=function(a){return g.DomEvent._filterClick(a,f)},a.addEventListener(b,e,!1)):a.addEventListener(b,e,!1):"attachEvent"in a&&a.attachEvent("on"+b,e),a[j]=e,this))},removeListener:function(a,b,c){var d=g.stamp(c),e="_leaflet_"+b+d,f=a[e];return f?(g.Browser.pointer&&0===b.indexOf("touch")?this.removePointerListener(a,b,d):g.Browser.touch&&"dblclick"===b&&this.removeDoubleTapListener?this.removeDoubleTapListener(a,d):"removeEventListener"in a?"mousewheel"===b?(a.removeEventListener("DOMMouseScroll",f,!1),a.removeEventListener(b,f,!1)):"mouseenter"===b||"mouseleave"===b?a.removeEventListener("mouseenter"===b?"mouseover":"mouseout",f,!1):a.removeEventListener(b,f,!1):"detachEvent"in a&&a.detachEvent("on"+b,f),a[e]=null,this):this},stopPropagation:function(a){return a.stopPropagation?a.stopPropagation():a.cancelBubble=!0,g.DomEvent._skipped(a),this},disableScrollPropagation:function(a){var b=g.DomEvent.stopPropagation;return g.DomEvent.on(a,"mousewheel",b).on(a,"MozMousePixelScroll",b)},disableClickPropagation:function(a){for(var b=g.DomEvent.stopPropagation,c=g.Draggable.START.length-1;c>=0;c--)g.DomEvent.on(a,g.Draggable.START[c],b);return g.DomEvent.on(a,"click",g.DomEvent._fakeStop).on(a,"dblclick",b)},preventDefault:function(a){return a.preventDefault?a.preventDefault():a.returnValue=!1,this},stop:function(a){return g.DomEvent.preventDefault(a).stopPropagation(a)},getMousePosition:function(a,b){if(!b)return new g.Point(a.clientX,a.clientY);var c=b.getBoundingClientRect();return new g.Point(a.clientX-c.left-b.clientLeft,a.clientY-c.top-b.clientTop)},getWheelDelta:function(a){var b=0;return a.wheelDelta&&(b=a.wheelDelta/120),a.detail&&(b=-a.detail/3),b},_skipEvents:{},_fakeStop:function(a){g.DomEvent._skipEvents[a.type]=!0},_skipped:function(a){var b=this._skipEvents[a.type];return this._skipEvents[a.type]=!1,b},_checkMouse:function(a,b){var c=b.relatedTarget;if(!c)return!0;try{for(;c&&c!==a;)c=c.parentNode}catch(d){return!1}return c!==a},_getEvent:function(){var a=b.event;if(!a)for(var c=arguments.callee.caller;c&&(a=c.arguments[0],!a||b.Event!==a.constructor);)c=c.caller;return a},_filterClick:function(a,b){var c=a.timeStamp||a.originalEvent.timeStamp,d=g.DomEvent._lastClick&&c-g.DomEvent._lastClick;return d&&d>100&&500>d||a.target._simulatedClick&&!a._simulated?void g.DomEvent.stop(a):(g.DomEvent._lastClick=c,b(a))}},g.DomEvent.on=g.DomEvent.addListener,g.DomEvent.off=g.DomEvent.removeListener,g.Draggable=g.Class.extend({includes:g.Mixin.Events,statics:{START:g.Browser.touch?["touchstart","mousedown"]:["mousedown"],END:{mousedown:"mouseup",touchstart:"touchend",pointerdown:"touchend",MSPointerDown:"touchend"},MOVE:{mousedown:"mousemove",touchstart:"touchmove",pointerdown:"touchmove",MSPointerDown:"touchmove"}},initialize:function(a,b){this._element=a,this._dragStartTarget=b||a},enable:function(){if(!this._enabled){for(var a=g.Draggable.START.length-1;a>=0;a--)g.DomEvent.on(this._dragStartTarget,g.Draggable.START[a],this._onDown,this);this._enabled=!0}},disable:function(){if(this._enabled){for(var a=g.Draggable.START.length-1;a>=0;a--)g.DomEvent.off(this._dragStartTarget,g.Draggable.START[a],this._onDown,this);this._enabled=!1,this._moved=!1}},_onDown:function(a){if(this._moved=!1,!a.shiftKey&&(1===a.which||1===a.button||a.touches)&&(g.DomEvent.stopPropagation(a),!g.Draggable._disabled&&(g.DomUtil.disableImageDrag(),g.DomUtil.disableTextSelection(),!this._moving))){var b=a.touches?a.touches[0]:a;this._startPoint=new g.Point(b.clientX,b.clientY),this._startPos=this._newPos=g.DomUtil.getPosition(this._element),g.DomEvent.on(d,g.Draggable.MOVE[a.type],this._onMove,this).on(d,g.Draggable.END[a.type],this._onUp,this)}},_onMove:function(a){if(a.touches&&a.touches.length>1)return void(this._moved=!0);var b=a.touches&&1===a.touches.length?a.touches[0]:a,c=new g.Point(b.clientX,b.clientY),e=c.subtract(this._startPoint);(e.x||e.y)&&(g.Browser.touch&&Math.abs(e.x)+Math.abs(e.y)<3||(g.DomEvent.preventDefault(a),this._moved||(this.fire("dragstart"),this._moved=!0,this._startPos=g.DomUtil.getPosition(this._element).subtract(e),g.DomUtil.addClass(d.body,"leaflet-dragging"),this._lastTarget=a.target||a.srcElement,g.DomUtil.addClass(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(e),this._moving=!0,g.Util.cancelAnimFrame(this._animRequest),this._animRequest=g.Util.requestAnimFrame(this._updatePosition,this,!0,this._dragStartTarget)))},_updatePosition:function(){this.fire("predrag"),g.DomUtil.setPosition(this._element,this._newPos),this.fire("drag")},_onUp:function(){g.DomUtil.removeClass(d.body,"leaflet-dragging"),this._lastTarget&&(g.DomUtil.removeClass(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null);for(var a in g.Draggable.MOVE)g.DomEvent.off(d,g.Draggable.MOVE[a],this._onMove).off(d,g.Draggable.END[a],this._onUp);g.DomUtil.enableImageDrag(),g.DomUtil.enableTextSelection(),this._moved&&this._moving&&(g.Util.cancelAnimFrame(this._animRequest),this.fire("dragend",{distance:this._newPos.distanceTo(this._startPos)})),this._moving=!1}}),g.Handler=g.Class.extend({initialize:function(a){this._map=a},enable:function(){this._enabled||(this._enabled=!0,this.addHooks())},disable:function(){this._enabled&&(this._enabled=!1,this.removeHooks())},enabled:function(){return!!this._enabled}}),g.Map.mergeOptions({dragging:!0,inertia:!g.Browser.android23,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,inertiaThreshold:g.Browser.touch?32:18,easeLinearity:.25,worldCopyJump:!1}),g.Map.Drag=g.Handler.extend({addHooks:function(){if(!this._draggable){var a=this._map;this._draggable=new g.Draggable(a._mapPane,a._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),a.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDrag,this),a.on("viewreset",this._onViewReset,this),a.whenReady(this._onViewReset,this))}this._draggable.enable()},removeHooks:function(){this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},_onDragStart:function(){var a=this._map;a._panAnim&&a._panAnim.stop(),a.fire("movestart").fire("dragstart"),a.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(){if(this._map.options.inertia){var a=this._lastTime=+new Date,b=this._lastPos=this._draggable._newPos;this._positions.push(b),this._times.push(a),a-this._times[0]>200&&(this._positions.shift(),this._times.shift())}this._map.fire("move").fire("drag")},_onViewReset:function(){var a=this._map.getSize()._divideBy(2),b=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=b.subtract(a).x,this._worldWidth=this._map.project([0,180]).x},_onPreDrag:function(){var a=this._worldWidth,b=Math.round(a/2),c=this._initialWorldOffset,d=this._draggable._newPos.x,e=(d-b+c)%a+b-c,f=(d+b+c)%a-b-c,g=Math.abs(e+c)<Math.abs(f+c)?e:f;this._draggable._newPos.x=g},_onDragEnd:function(a){var b=this._map,c=b.options,d=+new Date-this._lastTime,e=!c.inertia||d>c.inertiaThreshold||!this._positions[0];if(b.fire("dragend",a),e)b.fire("moveend");else{var f=this._lastPos.subtract(this._positions[0]),h=(this._lastTime+d-this._times[0])/1e3,i=c.easeLinearity,j=f.multiplyBy(i/h),k=j.distanceTo([0,0]),l=Math.min(c.inertiaMaxSpeed,k),m=j.multiplyBy(l/k),n=l/(c.inertiaDeceleration*i),o=m.multiplyBy(-n/2).round();o.x&&o.y?(o=b._limitOffset(o,b.options.maxBounds),g.Util.requestAnimFrame(function(){b.panBy(o,{duration:n,easeLinearity:i,noMoveStart:!0})})):b.fire("moveend")}}}),g.Map.addInitHook("addHandler","dragging",g.Map.Drag),g.Map.mergeOptions({doubleClickZoom:!0}),g.Map.DoubleClickZoom=g.Handler.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(a){var b=this._map,c=b.getZoom()+(a.originalEvent.shiftKey?-1:1);"center"===b.options.doubleClickZoom?b.setZoom(c):b.setZoomAround(a.containerPoint,c)}}),g.Map.addInitHook("addHandler","doubleClickZoom",g.Map.DoubleClickZoom),g.Map.mergeOptions({scrollWheelZoom:!0}),g.Map.ScrollWheelZoom=g.Handler.extend({addHooks:function(){g.DomEvent.on(this._map._container,"mousewheel",this._onWheelScroll,this),g.DomEvent.on(this._map._container,"MozMousePixelScroll",g.DomEvent.preventDefault),this._delta=0},removeHooks:function(){g.DomEvent.off(this._map._container,"mousewheel",this._onWheelScroll),g.DomEvent.off(this._map._container,"MozMousePixelScroll",g.DomEvent.preventDefault)},_onWheelScroll:function(a){var b=g.DomEvent.getWheelDelta(a);this._delta+=b,this._lastMousePos=this._map.mouseEventToContainerPoint(a),this._startTime||(this._startTime=+new Date);var c=Math.max(40-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(g.bind(this._performZoom,this),c),g.DomEvent.preventDefault(a),g.DomEvent.stopPropagation(a)},_performZoom:function(){var a=this._map,b=this._delta,c=a.getZoom();b=b>0?Math.ceil(b):Math.floor(b),b=Math.max(Math.min(b,4),-4),b=a._limitZoom(c+b)-c,this._delta=0,this._startTime=null,b&&("center"===a.options.scrollWheelZoom?a.setZoom(c+b):a.setZoomAround(this._lastMousePos,c+b))}}),g.Map.addInitHook("addHandler","scrollWheelZoom",g.Map.ScrollWheelZoom),g.extend(g.DomEvent,{_touchstart:g.Browser.msPointer?"MSPointerDown":g.Browser.pointer?"pointerdown":"touchstart",_touchend:g.Browser.msPointer?"MSPointerUp":g.Browser.pointer?"pointerup":"touchend",addDoubleTapListener:function(a,b,c){function e(a){var b;if(g.Browser.pointer?(o.push(a.pointerId),b=o.length):b=a.touches.length,!(b>1)){var c=Date.now(),d=c-(h||c);i=a.touches?a.touches[0]:a,j=d>0&&k>=d,h=c}}function f(a){if(g.Browser.pointer){var c=o.indexOf(a.pointerId);if(-1===c)return;o.splice(c,1)}if(j){if(g.Browser.pointer){var d,e={};for(var f in i)d=i[f],"function"==typeof d?e[f]=d.bind(i):e[f]=d;i=e}i.type="dblclick",b(i),h=null}}var h,i,j=!1,k=250,l="_leaflet_",m=this._touchstart,n=this._touchend,o=[];a[l+m+c]=e,a[l+n+c]=f;var p=g.Browser.pointer?d.documentElement:a;return a.addEventListener(m,e,!1),p.addEventListener(n,f,!1),g.Browser.pointer&&p.addEventListener(g.DomEvent.POINTER_CANCEL,f,!1),this},removeDoubleTapListener:function(a,b){var c="_leaflet_";return a.removeEventListener(this._touchstart,a[c+this._touchstart+b],!1),(g.Browser.pointer?d.documentElement:a).removeEventListener(this._touchend,a[c+this._touchend+b],!1),g.Browser.pointer&&d.documentElement.removeEventListener(g.DomEvent.POINTER_CANCEL,a[c+this._touchend+b],!1),this}}),g.extend(g.DomEvent,{POINTER_DOWN:g.Browser.msPointer?"MSPointerDown":"pointerdown",POINTER_MOVE:g.Browser.msPointer?"MSPointerMove":"pointermove",POINTER_UP:g.Browser.msPointer?"MSPointerUp":"pointerup",POINTER_CANCEL:g.Browser.msPointer?"MSPointerCancel":"pointercancel",_pointers:[],_pointerDocumentListener:!1,addPointerListener:function(a,b,c,d){switch(b){case"touchstart":return this.addPointerListenerStart(a,b,c,d);case"touchend":return this.addPointerListenerEnd(a,b,c,d);case"touchmove":return this.addPointerListenerMove(a,b,c,d);default:throw"Unknown touch event type"}},addPointerListenerStart:function(a,b,c,e){var f="_leaflet_",h=this._pointers,i=function(a){g.DomEvent.preventDefault(a);for(var b=!1,d=0;d<h.length;d++)if(h[d].pointerId===a.pointerId){b=!0;break}b||h.push(a),a.touches=h.slice(),a.changedTouches=[a],c(a)};if(a[f+"touchstart"+e]=i,a.addEventListener(this.POINTER_DOWN,i,!1),!this._pointerDocumentListener){var j=function(a){for(var b=0;b<h.length;b++)if(h[b].pointerId===a.pointerId){h.splice(b,1);break}};d.documentElement.addEventListener(this.POINTER_UP,j,!1),d.documentElement.addEventListener(this.POINTER_CANCEL,j,!1),this._pointerDocumentListener=!0}return this},addPointerListenerMove:function(a,b,c,d){function e(a){if(a.pointerType!==a.MSPOINTER_TYPE_MOUSE&&"mouse"!==a.pointerType||0!==a.buttons){for(var b=0;b<g.length;b++)if(g[b].pointerId===a.pointerId){g[b]=a;break}a.touches=g.slice(),a.changedTouches=[a],c(a)}}var f="_leaflet_",g=this._pointers;return a[f+"touchmove"+d]=e,a.addEventListener(this.POINTER_MOVE,e,!1),this},addPointerListenerEnd:function(a,b,c,d){var e="_leaflet_",f=this._pointers,g=function(a){for(var b=0;b<f.length;b++)if(f[b].pointerId===a.pointerId){f.splice(b,1);break}a.touches=f.slice(),a.changedTouches=[a],c(a)};return a[e+"touchend"+d]=g,a.addEventListener(this.POINTER_UP,g,!1),a.addEventListener(this.POINTER_CANCEL,g,!1),this},removePointerListener:function(a,b,c){var d="_leaflet_",e=a[d+b+c];switch(b){case"touchstart":a.removeEventListener(this.POINTER_DOWN,e,!1);break;case"touchmove":a.removeEventListener(this.POINTER_MOVE,e,!1);break;case"touchend":a.removeEventListener(this.POINTER_UP,e,!1),a.removeEventListener(this.POINTER_CANCEL,e,!1)}return this}}),g.Map.mergeOptions({touchZoom:g.Browser.touch&&!g.Browser.android23,bounceAtZoomLimits:!0}),g.Map.TouchZoom=g.Handler.extend({addHooks:function(){g.DomEvent.on(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){g.DomEvent.off(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(a){var b=this._map;if(a.touches&&2===a.touches.length&&!b._animatingZoom&&!this._zooming){var c=b.mouseEventToLayerPoint(a.touches[0]),e=b.mouseEventToLayerPoint(a.touches[1]),f=b._getCenterLayerPoint();this._startCenter=c.add(e)._divideBy(2),this._startDist=c.distanceTo(e),this._moved=!1,this._zooming=!0,this._centerOffset=f.subtract(this._startCenter),b._panAnim&&b._panAnim.stop(),g.DomEvent.on(d,"touchmove",this._onTouchMove,this).on(d,"touchend",this._onTouchEnd,this),g.DomEvent.preventDefault(a)}},_onTouchMove:function(a){var b=this._map;if(a.touches&&2===a.touches.length&&this._zooming){var c=b.mouseEventToLayerPoint(a.touches[0]),d=b.mouseEventToLayerPoint(a.touches[1]);this._scale=c.distanceTo(d)/this._startDist,this._delta=c._add(d)._divideBy(2)._subtract(this._startCenter),1!==this._scale&&(b.options.bounceAtZoomLimits||!(b.getZoom()===b.getMinZoom()&&this._scale<1||b.getZoom()===b.getMaxZoom()&&this._scale>1))&&(this._moved||(g.DomUtil.addClass(b._mapPane,"leaflet-touching"),b.fire("movestart").fire("zoomstart"),this._moved=!0),g.Util.cancelAnimFrame(this._animRequest),this._animRequest=g.Util.requestAnimFrame(this._updateOnMove,this,!0,this._map._container),g.DomEvent.preventDefault(a))}},_updateOnMove:function(){var a=this._map,b=this._getScaleOrigin(),c=a.layerPointToLatLng(b),d=a.getScaleZoom(this._scale);a._animateZoom(c,d,this._startCenter,this._scale,this._delta,!1,!0)},_onTouchEnd:function(){if(!this._moved||!this._zooming)return void(this._zooming=!1);var a=this._map;this._zooming=!1,g.DomUtil.removeClass(a._mapPane,"leaflet-touching"),g.Util.cancelAnimFrame(this._animRequest),g.DomEvent.off(d,"touchmove",this._onTouchMove).off(d,"touchend",this._onTouchEnd);var b=this._getScaleOrigin(),c=a.layerPointToLatLng(b),e=a.getZoom(),f=a.getScaleZoom(this._scale)-e,h=f>0?Math.ceil(f):Math.floor(f),i=a._limitZoom(e+h),j=a.getZoomScale(i)/this._scale;a._animateZoom(c,i,b,j)},_getScaleOrigin:function(){var a=this._centerOffset.subtract(this._delta).divideBy(this._scale);return this._startCenter.add(a)}}),g.Map.addInitHook("addHandler","touchZoom",g.Map.TouchZoom),g.Map.mergeOptions({tap:!0,tapTolerance:15}),g.Map.Tap=g.Handler.extend({addHooks:function(){g.DomEvent.on(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){g.DomEvent.off(this._map._container,"touchstart",this._onDown,this)},_onDown:function(a){if(a.touches){if(g.DomEvent.preventDefault(a),this._fireClick=!0,a.touches.length>1)return this._fireClick=!1,void clearTimeout(this._holdTimeout);var b=a.touches[0],c=b.target;this._startPos=this._newPos=new g.Point(b.clientX,b.clientY),c.tagName&&"a"===c.tagName.toLowerCase()&&g.DomUtil.addClass(c,"leaflet-active"),this._holdTimeout=setTimeout(g.bind(function(){this._isTapValid()&&(this._fireClick=!1,this._onUp(),this._simulateEvent("contextmenu",b))},this),1e3),g.DomEvent.on(d,"touchmove",this._onMove,this).on(d,"touchend",this._onUp,this)}},_onUp:function(a){if(clearTimeout(this._holdTimeout),g.DomEvent.off(d,"touchmove",this._onMove,this).off(d,"touchend",this._onUp,this),this._fireClick&&a&&a.changedTouches){var b=a.changedTouches[0],c=b.target;c&&c.tagName&&"a"===c.tagName.toLowerCase()&&g.DomUtil.removeClass(c,"leaflet-active"),this._isTapValid()&&this._simulateEvent("click",b)}},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_onMove:function(a){var b=a.touches[0];this._newPos=new g.Point(b.clientX,b.clientY)},_simulateEvent:function(a,c){var e=d.createEvent("MouseEvents");e._simulated=!0,c.target._simulatedClick=!0,e.initMouseEvent(a,!0,!0,b,1,c.screenX,c.screenY,c.clientX,c.clientY,!1,!1,!1,!1,0,null),c.target.dispatchEvent(e)}}),g.Browser.touch&&!g.Browser.pointer&&g.Map.addInitHook("addHandler","tap",g.Map.Tap),g.Map.mergeOptions({boxZoom:!0}),g.Map.BoxZoom=g.Handler.extend({initialize:function(a){this._map=a,this._container=a._container,this._pane=a._panes.overlayPane,this._moved=!1},addHooks:function(){g.DomEvent.on(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){g.DomEvent.off(this._container,"mousedown",this._onMouseDown),this._moved=!1},moved:function(){return this._moved},_onMouseDown:function(a){return this._moved=!1,!a.shiftKey||1!==a.which&&1!==a.button?!1:(g.DomUtil.disableTextSelection(),g.DomUtil.disableImageDrag(),this._startLayerPoint=this._map.mouseEventToLayerPoint(a),void g.DomEvent.on(d,"mousemove",this._onMouseMove,this).on(d,"mouseup",this._onMouseUp,this).on(d,"keydown",this._onKeyDown,this))},_onMouseMove:function(a){this._moved||(this._box=g.DomUtil.create("div","leaflet-zoom-box",this._pane),g.DomUtil.setPosition(this._box,this._startLayerPoint),this._container.style.cursor="crosshair",this._map.fire("boxzoomstart"));var b=this._startLayerPoint,c=this._box,d=this._map.mouseEventToLayerPoint(a),e=d.subtract(b),f=new g.Point(Math.min(d.x,b.x),Math.min(d.y,b.y));g.DomUtil.setPosition(c,f),this._moved=!0,c.style.width=Math.max(0,Math.abs(e.x)-4)+"px",c.style.height=Math.max(0,Math.abs(e.y)-4)+"px"},_finish:function(){this._moved&&(this._pane.removeChild(this._box),this._container.style.cursor=""),g.DomUtil.enableTextSelection(),g.DomUtil.enableImageDrag(),g.DomEvent.off(d,"mousemove",this._onMouseMove).off(d,"mouseup",this._onMouseUp).off(d,"keydown",this._onKeyDown)},_onMouseUp:function(a){this._finish();var b=this._map,c=b.mouseEventToLayerPoint(a);if(!this._startLayerPoint.equals(c)){var d=new g.LatLngBounds(b.layerPointToLatLng(this._startLayerPoint),b.layerPointToLatLng(c));b.fitBounds(d),b.fire("boxzoomend",{boxZoomBounds:d})}},_onKeyDown:function(a){27===a.keyCode&&this._finish()}}),g.Map.addInitHook("addHandler","boxZoom",g.Map.BoxZoom),g.Map.mergeOptions({keyboard:!0,keyboardPanOffset:80,keyboardZoomOffset:1}),g.Map.Keyboard=g.Handler.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,173]},initialize:function(a){this._map=a,this._setPanOffset(a.options.keyboardPanOffset),this._setZoomOffset(a.options.keyboardZoomOffset)},addHooks:function(){var a=this._map._container;-1===a.tabIndex&&(a.tabIndex="0"),g.DomEvent.on(a,"focus",this._onFocus,this).on(a,"blur",this._onBlur,this).on(a,"mousedown",this._onMouseDown,this),this._map.on("focus",this._addHooks,this).on("blur",this._removeHooks,this)},removeHooks:function(){this._removeHooks();var a=this._map._container;g.DomEvent.off(a,"focus",this._onFocus,this).off(a,"blur",this._onBlur,this).off(a,"mousedown",this._onMouseDown,this),this._map.off("focus",this._addHooks,this).off("blur",this._removeHooks,this)},_onMouseDown:function(){if(!this._focused){var a=d.body,c=d.documentElement,e=a.scrollTop||c.scrollTop,f=a.scrollLeft||c.scrollLeft;this._map._container.focus(),b.scrollTo(f,e)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanOffset:function(a){var b,c,d=this._panKeys={},e=this.keyCodes;for(b=0,c=e.left.length;c>b;b++)d[e.left[b]]=[-1*a,0];for(b=0,c=e.right.length;c>b;b++)d[e.right[b]]=[a,0];for(b=0,c=e.down.length;c>b;b++)d[e.down[b]]=[0,a];for(b=0,c=e.up.length;c>b;b++)d[e.up[b]]=[0,-1*a]},_setZoomOffset:function(a){var b,c,d=this._zoomKeys={},e=this.keyCodes;for(b=0,c=e.zoomIn.length;c>b;b++)d[e.zoomIn[b]]=a;for(b=0,c=e.zoomOut.length;c>b;b++)d[e.zoomOut[b]]=-a},_addHooks:function(){g.DomEvent.on(d,"keydown",this._onKeyDown,this)},_removeHooks:function(){g.DomEvent.off(d,"keydown",this._onKeyDown,this)},_onKeyDown:function(a){var b=a.keyCode,c=this._map;if(b in this._panKeys){if(c._panAnim&&c._panAnim._inProgress)return;c.panBy(this._panKeys[b]),c.options.maxBounds&&c.panInsideBounds(c.options.maxBounds)}else{if(!(b in this._zoomKeys))return;c.setZoom(c.getZoom()+this._zoomKeys[b])}g.DomEvent.stop(a)}}),g.Map.addInitHook("addHandler","keyboard",g.Map.Keyboard),g.Handler.MarkerDrag=g.Handler.extend({initialize:function(a){this._marker=a},addHooks:function(){var a=this._marker._icon;this._draggable||(this._draggable=new g.Draggable(a,a)),this._draggable.on("dragstart",this._onDragStart,this).on("drag",this._onDrag,this).on("dragend",this._onDragEnd,this),this._draggable.enable(),g.DomUtil.addClass(this._marker._icon,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off("dragstart",this._onDragStart,this).off("drag",this._onDrag,this).off("dragend",this._onDragEnd,this),this._draggable.disable(),g.DomUtil.removeClass(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_onDragStart:function(){this._marker.closePopup().fire("movestart").fire("dragstart")},_onDrag:function(){var a=this._marker,b=a._shadow,c=g.DomUtil.getPosition(a._icon),d=a._map.layerPointToLatLng(c);b&&g.DomUtil.setPosition(b,c),a._latlng=d,a.fire("move",{latlng:d}).fire("drag")},_onDragEnd:function(a){this._marker.fire("moveend").fire("dragend",a)}}),g.Control=g.Class.extend({options:{position:"topright"},initialize:function(a){g.setOptions(this,a)},getPosition:function(){return this.options.position},setPosition:function(a){var b=this._map;return b&&b.removeControl(this),this.options.position=a,b&&b.addControl(this),this},getContainer:function(){return this._container},addTo:function(a){this._map=a;var b=this._container=this.onAdd(a),c=this.getPosition(),d=a._controlCorners[c];return g.DomUtil.addClass(b,"leaflet-control"),-1!==c.indexOf("bottom")?d.insertBefore(b,d.firstChild):d.appendChild(b),this},removeFrom:function(a){var b=this.getPosition(),c=a._controlCorners[b];return c.removeChild(this._container),this._map=null,this.onRemove&&this.onRemove(a),this},_refocusOnMap:function(){this._map&&this._map.getContainer().focus()}}),g.control=function(a){return new g.Control(a)},g.Map.include({addControl:function(a){return a.addTo(this),this},removeControl:function(a){return a.removeFrom(this),this},_initControlPos:function(){function a(a,e){var f=c+a+" "+c+e;b[a+e]=g.DomUtil.create("div",f,d)}var b=this._controlCorners={},c="leaflet-",d=this._controlContainer=g.DomUtil.create("div",c+"control-container",this._container);a("top","left"),a("top","right"),a("bottom","left"),a("bottom","right")},_clearControlPos:function(){this._container.removeChild(this._controlContainer)}}),g.Control.Zoom=g.Control.extend({options:{position:"topleft",zoomInText:"+",zoomInTitle:"Zoom in",zoomOutText:"-",zoomOutTitle:"Zoom out"},onAdd:function(a){var b="leaflet-control-zoom",c=g.DomUtil.create("div",b+" leaflet-bar");return this._map=a,this._zoomInButton=this._createButton(this.options.zoomInText,this.options.zoomInTitle,b+"-in",c,this._zoomIn,this),this._zoomOutButton=this._createButton(this.options.zoomOutText,this.options.zoomOutTitle,b+"-out",c,this._zoomOut,this),
this._updateDisabled(),a.on("zoomend zoomlevelschange",this._updateDisabled,this),c},onRemove:function(a){a.off("zoomend zoomlevelschange",this._updateDisabled,this)},_zoomIn:function(a){this._map.zoomIn(a.shiftKey?3:1)},_zoomOut:function(a){this._map.zoomOut(a.shiftKey?3:1)},_createButton:function(a,b,c,d,e,f){var h=g.DomUtil.create("a",c,d);h.innerHTML=a,h.href="#",h.title=b;var i=g.DomEvent.stopPropagation;return g.DomEvent.on(h,"click",i).on(h,"mousedown",i).on(h,"dblclick",i).on(h,"click",g.DomEvent.preventDefault).on(h,"click",e,f).on(h,"click",this._refocusOnMap,f),h},_updateDisabled:function(){var a=this._map,b="leaflet-disabled";g.DomUtil.removeClass(this._zoomInButton,b),g.DomUtil.removeClass(this._zoomOutButton,b),a._zoom===a.getMinZoom()&&g.DomUtil.addClass(this._zoomOutButton,b),a._zoom===a.getMaxZoom()&&g.DomUtil.addClass(this._zoomInButton,b)}}),g.Map.mergeOptions({zoomControl:!0}),g.Map.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new g.Control.Zoom,this.addControl(this.zoomControl))}),g.control.zoom=function(a){return new g.Control.Zoom(a)},g.Control.Attribution=g.Control.extend({options:{position:"bottomright",prefix:'<a href="http://leafletjs.com" title="A JS library for interactive maps">Leaflet</a>'},initialize:function(a){g.setOptions(this,a),this._attributions={}},onAdd:function(a){this._container=g.DomUtil.create("div","leaflet-control-attribution"),g.DomEvent.disableClickPropagation(this._container);for(var b in a._layers)a._layers[b].getAttribution&&this.addAttribution(a._layers[b].getAttribution());return a.on("layeradd",this._onLayerAdd,this).on("layerremove",this._onLayerRemove,this),this._update(),this._container},onRemove:function(a){a.off("layeradd",this._onLayerAdd).off("layerremove",this._onLayerRemove)},setPrefix:function(a){return this.options.prefix=a,this._update(),this},addAttribution:function(a){return a?(this._attributions[a]||(this._attributions[a]=0),this._attributions[a]++,this._update(),this):void 0},removeAttribution:function(a){return a?(this._attributions[a]&&(this._attributions[a]--,this._update()),this):void 0},_update:function(){if(this._map){var a=[];for(var b in this._attributions)this._attributions[b]&&a.push(b);var c=[];this.options.prefix&&c.push(this.options.prefix),a.length&&c.push(a.join(", ")),this._container.innerHTML=c.join(" | ")}},_onLayerAdd:function(a){a.layer.getAttribution&&this.addAttribution(a.layer.getAttribution())},_onLayerRemove:function(a){a.layer.getAttribution&&this.removeAttribution(a.layer.getAttribution())}}),g.Map.mergeOptions({attributionControl:!0}),g.Map.addInitHook(function(){this.options.attributionControl&&(this.attributionControl=(new g.Control.Attribution).addTo(this))}),g.control.attribution=function(a){return new g.Control.Attribution(a)},g.Control.Scale=g.Control.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0,updateWhenIdle:!1},onAdd:function(a){this._map=a;var b="leaflet-control-scale",c=g.DomUtil.create("div",b),d=this.options;return this._addScales(d,b,c),a.on(d.updateWhenIdle?"moveend":"move",this._update,this),a.whenReady(this._update,this),c},onRemove:function(a){a.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(a,b,c){a.metric&&(this._mScale=g.DomUtil.create("div",b+"-line",c)),a.imperial&&(this._iScale=g.DomUtil.create("div",b+"-line",c))},_update:function(){var a=this._map.getBounds(),b=a.getCenter().lat,c=6378137*Math.PI*Math.cos(b*Math.PI/180),d=c*(a.getNorthEast().lng-a.getSouthWest().lng)/180,e=this._map.getSize(),f=this.options,g=0;e.x>0&&(g=d*(f.maxWidth/e.x)),this._updateScales(f,g)},_updateScales:function(a,b){a.metric&&b&&this._updateMetric(b),a.imperial&&b&&this._updateImperial(b)},_updateMetric:function(a){var b=this._getRoundNum(a);this._mScale.style.width=this._getScaleWidth(b/a)+"px",this._mScale.innerHTML=1e3>b?b+" m":b/1e3+" km"},_updateImperial:function(a){var b,c,d,e=3.2808399*a,f=this._iScale;e>5280?(b=e/5280,c=this._getRoundNum(b),f.style.width=this._getScaleWidth(c/b)+"px",f.innerHTML=c+" mi"):(d=this._getRoundNum(e),f.style.width=this._getScaleWidth(d/e)+"px",f.innerHTML=d+" ft")},_getScaleWidth:function(a){return Math.round(this.options.maxWidth*a)-10},_getRoundNum:function(a){var b=Math.pow(10,(Math.floor(a)+"").length-1),c=a/b;return c=c>=10?10:c>=5?5:c>=3?3:c>=2?2:1,b*c}}),g.control.scale=function(a){return new g.Control.Scale(a)},g.Control.Layers=g.Control.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0},initialize:function(a,b,c){g.setOptions(this,c),this._layers={},this._lastZIndex=0,this._handlingClick=!1;for(var d in a)this._addLayer(a[d],d);for(d in b)this._addLayer(b[d],d,!0)},onAdd:function(a){return this._initLayout(),this._update(),a.on("layeradd",this._onLayerChange,this).on("layerremove",this._onLayerChange,this),this._container},onRemove:function(a){a.off("layeradd",this._onLayerChange,this).off("layerremove",this._onLayerChange,this)},addBaseLayer:function(a,b){return this._addLayer(a,b),this._update(),this},addOverlay:function(a,b){return this._addLayer(a,b,!0),this._update(),this},removeLayer:function(a){var b=g.stamp(a);return delete this._layers[b],this._update(),this},_initLayout:function(){var a="leaflet-control-layers",b=this._container=g.DomUtil.create("div",a);b.setAttribute("aria-haspopup",!0),g.Browser.touch?g.DomEvent.on(b,"click",g.DomEvent.stopPropagation):g.DomEvent.disableClickPropagation(b).disableScrollPropagation(b);var c=this._form=g.DomUtil.create("form",a+"-list");if(this.options.collapsed){g.Browser.android||g.DomEvent.on(b,"mouseover",this._expand,this).on(b,"mouseout",this._collapse,this);var d=this._layersLink=g.DomUtil.create("a",a+"-toggle",b);d.href="#",d.title="Layers",g.Browser.touch?g.DomEvent.on(d,"click",g.DomEvent.stop).on(d,"click",this._expand,this):g.DomEvent.on(d,"focus",this._expand,this),g.DomEvent.on(c,"click",function(){setTimeout(g.bind(this._onInputClick,this),0)},this),this._map.on("click",this._collapse,this)}else this._expand();this._baseLayersList=g.DomUtil.create("div",a+"-base",c),this._separator=g.DomUtil.create("div",a+"-separator",c),this._overlaysList=g.DomUtil.create("div",a+"-overlays",c),b.appendChild(c)},_addLayer:function(a,b,c){var d=g.stamp(a);this._layers[d]={layer:a,name:b,overlay:c},this.options.autoZIndex&&a.setZIndex&&(this._lastZIndex++,a.setZIndex(this._lastZIndex))},_update:function(){if(this._container){this._baseLayersList.innerHTML="",this._overlaysList.innerHTML="";var a,b,c=!1,d=!1;for(a in this._layers)b=this._layers[a],this._addItem(b),d=d||b.overlay,c=c||!b.overlay;this._separator.style.display=d&&c?"":"none"}},_onLayerChange:function(a){var b=this._layers[g.stamp(a.layer)];if(b){this._handlingClick||this._update();var c=b.overlay?"layeradd"===a.type?"overlayadd":"overlayremove":"layeradd"===a.type?"baselayerchange":null;c&&this._map.fire(c,b)}},_createRadioElement:function(a,b){var c='<input type="radio" class="leaflet-control-layers-selector" name="'+a+'"';b&&(c+=' checked="checked"'),c+="/>";var e=d.createElement("div");return e.innerHTML=c,e.firstChild},_addItem:function(a){var b,c=d.createElement("label"),e=this._map.hasLayer(a.layer);a.overlay?(b=d.createElement("input"),b.type="checkbox",b.className="leaflet-control-layers-selector",b.defaultChecked=e):b=this._createRadioElement("leaflet-base-layers",e),b.layerId=g.stamp(a.layer),g.DomEvent.on(b,"click",this._onInputClick,this);var f=d.createElement("span");f.innerHTML=" "+a.name,c.appendChild(b),c.appendChild(f);var h=a.overlay?this._overlaysList:this._baseLayersList;return h.appendChild(c),c},_onInputClick:function(){var a,b,c,d=this._form.getElementsByTagName("input"),e=d.length;for(this._handlingClick=!0,a=0;e>a;a++)b=d[a],c=this._layers[b.layerId],b.checked&&!this._map.hasLayer(c.layer)?this._map.addLayer(c.layer):!b.checked&&this._map.hasLayer(c.layer)&&this._map.removeLayer(c.layer);this._handlingClick=!1,this._refocusOnMap()},_expand:function(){g.DomUtil.addClass(this._container,"leaflet-control-layers-expanded")},_collapse:function(){this._container.className=this._container.className.replace(" leaflet-control-layers-expanded","")}}),g.control.layers=function(a,b,c){return new g.Control.Layers(a,b,c)},g.PosAnimation=g.Class.extend({includes:g.Mixin.Events,run:function(a,b,c,d){this.stop(),this._el=a,this._inProgress=!0,this._newPos=b,this.fire("start"),a.style[g.DomUtil.TRANSITION]="all "+(c||.25)+"s cubic-bezier(0,0,"+(d||.5)+",1)",g.DomEvent.on(a,g.DomUtil.TRANSITION_END,this._onTransitionEnd,this),g.DomUtil.setPosition(a,b),g.Util.falseFn(a.offsetWidth),this._stepTimer=setInterval(g.bind(this._onStep,this),50)},stop:function(){this._inProgress&&(g.DomUtil.setPosition(this._el,this._getPos()),this._onTransitionEnd(),g.Util.falseFn(this._el.offsetWidth))},_onStep:function(){var a=this._getPos();return a?(this._el._leaflet_pos=a,void this.fire("step")):void this._onTransitionEnd()},_transformRe:/([-+]?(?:\d*\.)?\d+)\D*, ([-+]?(?:\d*\.)?\d+)\D*\)/,_getPos:function(){var a,c,d,e=this._el,f=b.getComputedStyle(e);if(g.Browser.any3d){if(d=f[g.DomUtil.TRANSFORM].match(this._transformRe),!d)return;a=parseFloat(d[1]),c=parseFloat(d[2])}else a=parseFloat(f.left),c=parseFloat(f.top);return new g.Point(a,c,!0)},_onTransitionEnd:function(){g.DomEvent.off(this._el,g.DomUtil.TRANSITION_END,this._onTransitionEnd,this),this._inProgress&&(this._inProgress=!1,this._el.style[g.DomUtil.TRANSITION]="",this._el._leaflet_pos=this._newPos,clearInterval(this._stepTimer),this.fire("step").fire("end"))}}),g.Map.include({setView:function(a,b,c){if(b=b===e?this._zoom:this._limitZoom(b),a=this._limitCenter(g.latLng(a),b,this.options.maxBounds),c=c||{},this._panAnim&&this._panAnim.stop(),this._loaded&&!c.reset&&c!==!0){c.animate!==e&&(c.zoom=g.extend({animate:c.animate},c.zoom),c.pan=g.extend({animate:c.animate},c.pan));var d=this._zoom!==b?this._tryAnimatedZoom&&this._tryAnimatedZoom(a,b,c.zoom):this._tryAnimatedPan(a,c.pan);if(d)return clearTimeout(this._sizeTimer),this}return this._resetView(a,b),this},panBy:function(a,b){if(a=g.point(a).round(),b=b||{},!a.x&&!a.y)return this;if(this._panAnim||(this._panAnim=new g.PosAnimation,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),b.noMoveStart||this.fire("movestart"),b.animate!==!1){g.DomUtil.addClass(this._mapPane,"leaflet-pan-anim");var c=this._getMapPanePos().subtract(a);this._panAnim.run(this._mapPane,c,b.duration||.25,b.easeLinearity)}else this._rawPanBy(a),this.fire("move").fire("moveend");return this},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){g.DomUtil.removeClass(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(a,b){var c=this._getCenterOffset(a)._floor();return(b&&b.animate)===!0||this.getSize().contains(c)?(this.panBy(c,b),!0):!1}}),g.PosAnimation=g.DomUtil.TRANSITION?g.PosAnimation:g.PosAnimation.extend({run:function(a,b,c,d){this.stop(),this._el=a,this._inProgress=!0,this._duration=c||.25,this._easeOutPower=1/Math.max(d||.5,.2),this._startPos=g.DomUtil.getPosition(a),this._offset=b.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(),this._complete())},_animate:function(){this._animId=g.Util.requestAnimFrame(this._animate,this),this._step()},_step:function(){var a=+new Date-this._startTime,b=1e3*this._duration;b>a?this._runFrame(this._easeOut(a/b)):(this._runFrame(1),this._complete())},_runFrame:function(a){var b=this._startPos.add(this._offset.multiplyBy(a));g.DomUtil.setPosition(this._el,b),this.fire("step")},_complete:function(){g.Util.cancelAnimFrame(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(a){return 1-Math.pow(1-a,this._easeOutPower)}}),g.Map.mergeOptions({zoomAnimation:!0,zoomAnimationThreshold:4}),g.DomUtil.TRANSITION&&g.Map.addInitHook(function(){this._zoomAnimated=this.options.zoomAnimation&&g.DomUtil.TRANSITION&&g.Browser.any3d&&!g.Browser.android23&&!g.Browser.mobileOpera,this._zoomAnimated&&g.DomEvent.on(this._mapPane,g.DomUtil.TRANSITION_END,this._catchTransitionEnd,this)}),g.Map.include(g.DomUtil.TRANSITION?{_catchTransitionEnd:function(a){this._animatingZoom&&a.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(a,b,c){if(this._animatingZoom)return!0;if(c=c||{},!this._zoomAnimated||c.animate===!1||this._nothingToAnimate()||Math.abs(b-this._zoom)>this.options.zoomAnimationThreshold)return!1;var d=this.getZoomScale(b),e=this._getCenterOffset(a)._divideBy(1-1/d),f=this._getCenterLayerPoint()._add(e);return c.animate===!0||this.getSize().contains(e)?(this.fire("movestart").fire("zoomstart"),this._animateZoom(a,b,f,d,null,!0),!0):!1},_animateZoom:function(a,b,c,d,e,f,h){h||(this._animatingZoom=!0),g.DomUtil.addClass(this._mapPane,"leaflet-zoom-anim"),this._animateToCenter=a,this._animateToZoom=b,g.Draggable&&(g.Draggable._disabled=!0),g.Util.requestAnimFrame(function(){this.fire("zoomanim",{center:a,zoom:b,origin:c,scale:d,delta:e,backwards:f})},this)},_onZoomTransitionEnd:function(){this._animatingZoom=!1,g.DomUtil.removeClass(this._mapPane,"leaflet-zoom-anim"),this._resetView(this._animateToCenter,this._animateToZoom,!0,!0),g.Draggable&&(g.Draggable._disabled=!1)}}:{}),g.TileLayer.include({_animateZoom:function(a){this._animating||(this._animating=!0,this._prepareBgBuffer());var b=this._bgBuffer,c=g.DomUtil.TRANSFORM,d=a.delta?g.DomUtil.getTranslateString(a.delta):b.style[c],e=g.DomUtil.getScaleString(a.scale,a.origin);b.style[c]=a.backwards?e+" "+d:d+" "+e},_endZoomAnim:function(){var a=this._tileContainer,b=this._bgBuffer;a.style.visibility="",a.parentNode.appendChild(a),g.Util.falseFn(b.offsetWidth),this._animating=!1},_clearBgBuffer:function(){var a=this._map;!a||a._animatingZoom||a.touchZoom._zooming||(this._bgBuffer.innerHTML="",this._bgBuffer.style[g.DomUtil.TRANSFORM]="")},_prepareBgBuffer:function(){var a=this._tileContainer,b=this._bgBuffer,c=this._getLoadedTilesPercentage(b),d=this._getLoadedTilesPercentage(a);return b&&c>.5&&.5>d?(a.style.visibility="hidden",void this._stopLoadingImages(a)):(b.style.visibility="hidden",b.style[g.DomUtil.TRANSFORM]="",this._tileContainer=b,b=this._bgBuffer=a,this._stopLoadingImages(b),void clearTimeout(this._clearBgBufferTimer))},_getLoadedTilesPercentage:function(a){var b,c,d=a.getElementsByTagName("img"),e=0;for(b=0,c=d.length;c>b;b++)d[b].complete&&e++;return e/c},_stopLoadingImages:function(a){var b,c,d,e=Array.prototype.slice.call(a.getElementsByTagName("img"));for(b=0,c=e.length;c>b;b++)d=e[b],d.complete||(d.onload=g.Util.falseFn,d.onerror=g.Util.falseFn,d.src=g.Util.emptyImageUrl,d.parentNode.removeChild(d))}}),g.Map.include({_defaultLocateOptions:{watch:!1,setView:!1,maxZoom:1/0,timeout:1e4,maximumAge:0,enableHighAccuracy:!1},locate:function(a){if(a=this._locateOptions=g.extend(this._defaultLocateOptions,a),!navigator.geolocation)return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var b=g.bind(this._handleGeolocationResponse,this),c=g.bind(this._handleGeolocationError,this);return a.watch?this._locationWatchId=navigator.geolocation.watchPosition(b,c,a):navigator.geolocation.getCurrentPosition(b,c,a),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(a){var b=a.code,c=a.message||(1===b?"permission denied":2===b?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:b,message:"Geolocation error: "+c+"."})},_handleGeolocationResponse:function(a){var b=a.coords.latitude,c=a.coords.longitude,d=new g.LatLng(b,c),e=180*a.coords.accuracy/40075017,f=e/Math.cos(g.LatLng.DEG_TO_RAD*b),h=g.latLngBounds([b-e,c-f],[b+e,c+f]),i=this._locateOptions;if(i.setView){var j=Math.min(this.getBoundsZoom(h),i.maxZoom);this.setView(d,j)}var k={latlng:d,bounds:h,timestamp:a.timestamp};for(var l in a.coords)"number"==typeof a.coords[l]&&(k[l]=a.coords[l]);this.fire("locationfound",k)}})}(window,document)},{}],5:[function(a,b,c){function d(a,b,c){var d=!0,h=!0;if("function"!=typeof a)throw new TypeError(g);return c===!1?d=!1:e(c)&&(d="leading"in c?!!c.leading:d,h="trailing"in c?!!c.trailing:h),f(a,b,{leading:d,maxWait:+b,trailing:h})}function e(a){var b=typeof a;return!!a&&("object"==b||"function"==b)}var f=a("lodash.debounce"),g="Expected a function";b.exports=d},{"lodash.debounce":6}],6:[function(a,b,c){function d(a,b,c){function d(){r&&clearTimeout(r),n&&clearTimeout(n),t=0,n=r=s=void 0}function f(b,c){c&&clearTimeout(c),n=r=s=void 0,b&&(t=j(),o=a.apply(q,m),r||n||(m=q=void 0))}function i(){var a=b-(j()-p);0>=a||a>b?f(s,n):r=setTimeout(i,a)}function k(){f(v,r)}function l(){if(m=arguments,p=j(),q=this,s=v&&(r||!w),u===!1)var c=w&&!r;else{n||w||(t=p);var d=u-(p-t),e=0>=d||d>u;e?(n&&(n=clearTimeout(n)),t=p,o=a.apply(q,m)):n||(n=setTimeout(k,d))}return e&&r?r=clearTimeout(r):r||b===u||(r=setTimeout(i,b)),c&&(e=!0,o=a.apply(q,m)),!e||r||n||(m=q=void 0),o}var m,n,o,p,q,r,s,t=0,u=!1,v=!0;if("function"!=typeof a)throw new TypeError(g);if(b=0>b?0:+b||0,c===!0){var w=!0;v=!1}else e(c)&&(w=!!c.leading,u="maxWait"in c&&h(+c.maxWait||0,b),v="trailing"in c?!!c.trailing:v);return l.cancel=d,l}function e(a){var b=typeof a;return!!a&&("object"==b||"function"==b)}var f=a("lodash._getnative"),g="Expected a function",h=Math.max,i=f(Date,"now"),j=i||function(){return(new Date).getTime()};b.exports=d},{"lodash._getnative":7}],7:[function(a,b,c){function d(a){return!!a&&"object"==typeof a}function e(a,b){var c=null==a?void 0:a[b];return h(c)?c:void 0}function f(a){return g(a)&&n.call(a)==i}function g(a){var b=typeof a;return!!a&&("object"==b||"function"==b)}function h(a){return null==a?!1:f(a)?o.test(l.call(a)):d(a)&&j.test(a)}var i="[object Function]",j=/^\[object .+?Constructor\]$/,k=Object.prototype,l=Function.prototype.toString,m=k.hasOwnProperty,n=k.toString,o=RegExp("^"+l.call(m).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");b.exports=e},{}],8:[function(a,b,c){function d(a){var b;a&&a.length&&(b=a,a=b.length);var c=new Uint8Array(a||0);return b&&c.set(b),c.readUInt32LE=f.readUInt32LE,c.writeUInt32LE=f.writeUInt32LE,c.readInt32LE=f.readInt32LE,c.writeInt32LE=f.writeInt32LE,c.readFloatLE=f.readFloatLE,c.writeFloatLE=f.writeFloatLE,c.readDoubleLE=f.readDoubleLE,c.writeDoubleLE=f.writeDoubleLE,c.toString=f.toString,c.write=f.write,c.slice=f.slice,c.copy=f.copy,c._isBuffer=!0,c}function e(a){for(var b,c,d=a.length,e=[],f=0;d>f;f++){if(b=a.charCodeAt(f),b>55295&&57344>b){if(!c){b>56319||f+1===d?e.push(239,191,189):c=b;continue}if(56320>b){e.push(239,191,189),c=b;continue}b=c-55296<<10|b-56320|65536,c=null}else c&&(e.push(239,191,189),c=null);128>b?e.push(b):2048>b?e.push(b>>6|192,63&b|128):65536>b?e.push(b>>12|224,b>>6&63|128,63&b|128):e.push(b>>18|240,b>>12&63|128,b>>6&63|128,63&b|128)}return e}b.exports=d;var f,g,h,i=a("ieee754");f={readUInt32LE:function(a){return(this[a]|this[a+1]<<8|this[a+2]<<16)+16777216*this[a+3]},writeUInt32LE:function(a,b){this[b]=a,this[b+1]=a>>>8,this[b+2]=a>>>16,this[b+3]=a>>>24},readInt32LE:function(a){return(this[a]|this[a+1]<<8|this[a+2]<<16)+(this[a+3]<<24)},readFloatLE:function(a){return i.read(this,a,!0,23,4)},readDoubleLE:function(a){return i.read(this,a,!0,52,8)},writeFloatLE:function(a,b){return i.write(this,a,b,!0,23,4)},writeDoubleLE:function(a,b){return i.write(this,a,b,!0,52,8)},toString:function(a,b,c){var d="",e="";b=b||0,c=Math.min(this.length,c||this.length);for(var f=b;c>f;f++){var g=this[f];127>=g?(d+=decodeURIComponent(e)+String.fromCharCode(g),e=""):e+="%"+g.toString(16)}return d+=decodeURIComponent(e)},write:function(a,b){for(var c=a===g?h:e(a),d=0;d<c.length;d++)this[b+d]=c[d]},slice:function(a,b){return this.subarray(a,b)},copy:function(a,b){b=b||0;for(var c=0;c<this.length;c++)a[b+c]=this[c]}},f.writeInt32LE=f.writeUInt32LE,d.byteLength=function(a){return g=a,h=e(a),h.length},d.isBuffer=function(a){return!(!a||!a._isBuffer)}},{ieee754:10}],9:[function(a,b,c){(function(c){function d(a){this.buf=n.isBuffer(a)?a:new n(a||0),this.pos=0,this.length=this.buf.length}function e(a,b){for(var c=0;c<a.length;c++)b.writeVarint(a[c])}function f(a,b){for(var c=0;c<a.length;c++)b.writeSVarint(a[c])}function g(a,b){for(var c=0;c<a.length;c++)b.writeFloat(a[c])}function h(a,b){for(var c=0;c<a.length;c++)b.writeDouble(a[c])}function i(a,b){for(var c=0;c<a.length;c++)b.writeBoolean(a[c])}function j(a,b){for(var c=0;c<a.length;c++)b.writeFixed32(a[c])}function k(a,b){for(var c=0;c<a.length;c++)b.writeSFixed32(a[c])}function l(a,b){for(var c=0;c<a.length;c++)b.writeFixed64(a[c])}function m(a,b){for(var c=0;c<a.length;c++)b.writeSFixed64(a[c])}b.exports=d;var n=c.Buffer||a("./buffer");d.Varint=0,d.Fixed64=1,d.Bytes=2,d.Fixed32=5;var o=4294967296,p=1/o,q=Math.pow(2,63);d.prototype={destroy:function(){this.buf=null},readFields:function(a,b,c){for(c=c||this.length;this.pos<c;){var d=this.readVarint(),e=d>>3,f=this.pos;a(e,b,this),this.pos===f&&this.skip(d)}return b},readMessage:function(a,b){return this.readFields(a,b,this.readVarint()+this.pos)},readFixed32:function(){var a=this.buf.readUInt32LE(this.pos);return this.pos+=4,a},readSFixed32:function(){var a=this.buf.readInt32LE(this.pos);return this.pos+=4,a},readFixed64:function(){var a=this.buf.readUInt32LE(this.pos)+this.buf.readUInt32LE(this.pos+4)*o;return this.pos+=8,a},readSFixed64:function(){var a=this.buf.readUInt32LE(this.pos)+this.buf.readInt32LE(this.pos+4)*o;return this.pos+=8,a},readFloat:function(){var a=this.buf.readFloatLE(this.pos);return this.pos+=4,a},readDouble:function(){var a=this.buf.readDoubleLE(this.pos);return this.pos+=8,a},readVarint:function(){var a,b,c,d,e,f,g=this.buf;if(c=g[this.pos++],128>c)return c;if(c=127&c,d=g[this.pos++],128>d)return c|d<<7;if(d=(127&d)<<7,e=g[this.pos++],128>e)return c|d|e<<14;if(e=(127&e)<<14,f=g[this.pos++],128>f)return c|d|e|f<<21;if(a=c|d|e|(127&f)<<21,b=g[this.pos++],a+=268435456*(127&b),128>b)return a;if(b=g[this.pos++],a+=34359738368*(127&b),128>b)return a;if(b=g[this.pos++],a+=4398046511104*(127&b),128>b)return a;if(b=g[this.pos++],a+=562949953421312*(127&b),128>b)return a;if(b=g[this.pos++],a+=72057594037927940*(127&b),128>b)return a;if(b=g[this.pos++],a+=0x8000000000000000*(127&b),128>b)return a;throw new Error("Expected varint not more than 10 bytes")},readVarint64:function(){var a=this.pos,b=this.readVarint();if(q>b)return b;for(var c=this.pos-2;255===this.buf[c];)c--;a>c&&(c=a),b=0;for(var d=0;c-a+1>d;d++){var e=127&~this.buf[a+d];b+=4>d?e<<7*d:e*Math.pow(2,7*d)}return-b-1},readSVarint:function(){var a=this.readVarint();return a%2===1?(a+1)/-2:a/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var a=this.readVarint()+this.pos,b=this.buf.toString("utf8",this.pos,a);return this.pos=a,b},readBytes:function(){var a=this.readVarint()+this.pos,b=this.buf.slice(this.pos,a);return this.pos=a,b},readPackedVarint:function(){for(var a=this.readVarint()+this.pos,b=[];this.pos<a;)b.push(this.readVarint());return b},readPackedSVarint:function(){for(var a=this.readVarint()+this.pos,b=[];this.pos<a;)b.push(this.readSVarint());return b},readPackedBoolean:function(){for(var a=this.readVarint()+this.pos,b=[];this.pos<a;)b.push(this.readBoolean());return b},readPackedFloat:function(){for(var a=this.readVarint()+this.pos,b=[];this.pos<a;)b.push(this.readFloat());return b},readPackedDouble:function(){for(var a=this.readVarint()+this.pos,b=[];this.pos<a;)b.push(this.readDouble());return b},readPackedFixed32:function(){for(var a=this.readVarint()+this.pos,b=[];this.pos<a;)b.push(this.readFixed32());return b},readPackedSFixed32:function(){for(var a=this.readVarint()+this.pos,b=[];this.pos<a;)b.push(this.readSFixed32());return b},readPackedFixed64:function(){for(var a=this.readVarint()+this.pos,b=[];this.pos<a;)b.push(this.readFixed64());return b},readPackedSFixed64:function(){for(var a=this.readVarint()+this.pos,b=[];this.pos<a;)b.push(this.readSFixed64());return b},skip:function(a){var b=7&a;if(b===d.Varint)for(;this.buf[this.pos++]>127;);else if(b===d.Bytes)this.pos=this.readVarint()+this.pos;else if(b===d.Fixed32)this.pos+=4;else{if(b!==d.Fixed64)throw new Error("Unimplemented type: "+b);this.pos+=8}},writeTag:function(a,b){this.writeVarint(a<<3|b)},realloc:function(a){for(var b=this.length||16;b<this.pos+a;)b*=2;if(b!==this.length){var c=new n(b);this.buf.copy(c),this.buf=c,this.length=b}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.slice(0,this.length)},writeFixed32:function(a){this.realloc(4),this.buf.writeUInt32LE(a,this.pos),this.pos+=4},writeSFixed32:function(a){this.realloc(4),this.buf.writeInt32LE(a,this.pos),this.pos+=4},writeFixed64:function(a){this.realloc(8),this.buf.writeInt32LE(-1&a,this.pos),this.buf.writeUInt32LE(Math.floor(a*p),this.pos+4),this.pos+=8},writeSFixed64:function(a){this.realloc(8),this.buf.writeInt32LE(-1&a,this.pos),this.buf.writeInt32LE(Math.floor(a*p),this.pos+4),this.pos+=8},writeVarint:function(a){if(a=+a,127>=a)this.realloc(1),this.buf[this.pos++]=a;else if(16383>=a)this.realloc(2),this.buf[this.pos++]=a>>>0&127|128,this.buf[this.pos++]=a>>>7&127;else if(2097151>=a)this.realloc(3),this.buf[this.pos++]=a>>>0&127|128,this.buf[this.pos++]=a>>>7&127|128,this.buf[this.pos++]=a>>>14&127;else if(268435455>=a)this.realloc(4),this.buf[this.pos++]=a>>>0&127|128,this.buf[this.pos++]=a>>>7&127|128,this.buf[this.pos++]=a>>>14&127|128,this.buf[this.pos++]=a>>>21&127;else{for(var b=this.pos;a>=128;)this.realloc(1),this.buf[this.pos++]=255&a|128,a/=128;if(this.realloc(1),this.buf[this.pos++]=0|a,this.pos-b>10)throw new Error("Given varint doesn't fit into 10 bytes")}},writeSVarint:function(a){this.writeVarint(0>a?2*-a-1:2*a)},writeBoolean:function(a){this.writeVarint(Boolean(a))},writeString:function(a){a=String(a);var b=n.byteLength(a);this.writeVarint(b),this.realloc(b),this.buf.write(a,this.pos),this.pos+=b},writeFloat:function(a){this.realloc(4),this.buf.writeFloatLE(a,this.pos),this.pos+=4},writeDouble:function(a){this.realloc(8),this.buf.writeDoubleLE(a,this.pos),this.pos+=8},writeBytes:function(a){var b=a.length;this.writeVarint(b),this.realloc(b);for(var c=0;b>c;c++)this.buf[this.pos++]=a[c]},writeRawMessage:function(a,b){this.pos++;var c=this.pos;a(b,this);var d=this.pos-c,e=127>=d?1:16383>=d?2:2097151>=d?3:268435455>=d?4:Math.ceil(Math.log(d)/(7*Math.LN2));if(e>1){this.realloc(e-1);for(var f=this.pos-1;f>=c;f--)this.buf[f+e-1]=this.buf[f]}this.pos=c-1,this.writeVarint(d),this.pos+=d},writeMessage:function(a,b,c){this.writeTag(a,d.Bytes),this.writeRawMessage(b,c)},writePackedVarint:function(a,b){this.writeMessage(a,e,b)},writePackedSVarint:function(a,b){this.writeMessage(a,f,b)},writePackedBoolean:function(a,b){this.writeMessage(a,i,b)},writePackedFloat:function(a,b){this.writeMessage(a,g,b)},writePackedDouble:function(a,b){this.writeMessage(a,h,b)},writePackedFixed32:function(a,b){this.writeMessage(a,j,b)},writePackedSFixed32:function(a,b){this.writeMessage(a,k,b)},writePackedFixed64:function(a,b){this.writeMessage(a,l,b)},writePackedSFixed64:function(a,b){this.writeMessage(a,m,b)},writeBytesField:function(a,b){this.writeTag(a,d.Bytes),this.writeBytes(b)},writeFixed32Field:function(a,b){this.writeTag(a,d.Fixed32),this.writeFixed32(b)},writeSFixed32Field:function(a,b){this.writeTag(a,d.Fixed32),this.writeSFixed32(b)},writeFixed64Field:function(a,b){this.writeTag(a,d.Fixed64),this.writeFixed64(b)},writeSFixed64Field:function(a,b){this.writeTag(a,d.Fixed64),this.writeSFixed64(b)},writeVarintField:function(a,b){this.writeTag(a,d.Varint),this.writeVarint(b)},writeSVarintField:function(a,b){this.writeTag(a,d.Varint),this.writeSVarint(b)},writeStringField:function(a,b){this.writeTag(a,d.Bytes),this.writeString(b)},writeFloatField:function(a,b){this.writeTag(a,d.Fixed32),this.writeFloat(b)},writeDoubleField:function(a,b){this.writeTag(a,d.Fixed64),this.writeDouble(b)},writeBooleanField:function(a,b){this.writeVarintField(a,Boolean(b))}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./buffer":8}],10:[function(a,b,c){c.read=function(a,b,c,d,e){var f,g,h=8*e-d-1,i=(1<<h)-1,j=i>>1,k=-7,l=c?e-1:0,m=c?-1:1,n=a[b+l];for(l+=m,f=n&(1<<-k)-1,n>>=-k,k+=h;k>0;f=256*f+a[b+l],l+=m,k-=8);for(g=f&(1<<-k)-1,f>>=-k,k+=d;k>0;g=256*g+a[b+l],l+=m,k-=8);if(0===f)f=1-j;else{if(f===i)return g?NaN:(n?-1:1)*(1/0);g+=Math.pow(2,d),f-=j}return(n?-1:1)*g*Math.pow(2,f-d)},c.write=function(a,b,c,d,e,f){var g,h,i,j=8*f-e-1,k=(1<<j)-1,l=k>>1,m=23===e?Math.pow(2,-24)-Math.pow(2,-77):0,n=d?0:f-1,o=d?1:-1,p=0>b||0===b&&0>1/b?1:0;for(b=Math.abs(b),isNaN(b)||b===1/0?(h=isNaN(b)?1:0,g=k):(g=Math.floor(Math.log(b)/Math.LN2),b*(i=Math.pow(2,-g))<1&&(g--,i*=2),b+=g+l>=1?m/i:m*Math.pow(2,1-l),b*i>=2&&(g++,i/=2),g+l>=k?(h=0,g=k):g+l>=1?(h=(b*i-1)*Math.pow(2,e),g+=l):(h=b*Math.pow(2,l-1)*Math.pow(2,e),g=0));e>=8;a[c+n]=255&h,n+=o,h/=256,e-=8);for(g=g<<e|h,j+=e;j>0;a[c+n]=255&g,n+=o,g/=256,j-=8);a[c+n-o]|=128*p}},{}],11:[function(a,b,c){b.exports=function(a,b){for(var c=a[0],d=a[1],e=!1,f=0,g=b.length-1;f<b.length;g=f++){var h=b[f][0],i=b[f][1],j=b[g][0],k=b[g][1],l=i>d!=k>d&&(j-h)*(d-i)/(k-i)+h>c;l&&(e=!e)}return e}},{}],12:[function(a,b,c){b.exports.VectorTile=a("./lib/vectortile.js"),b.exports.VectorTileFeature=a("./lib/vectortilefeature.js"),b.exports.VectorTileLayer=a("./lib/vectortilelayer.js")},{"./lib/vectortile.js":13,"./lib/vectortilefeature.js":14,"./lib/vectortilelayer.js":15}],13:[function(a,b,c){function d(a,b){this.layers=a.readFields(e,{},b)}function e(a,b,c){if(3===a){var d=new f(c,c.readVarint()+c.pos);d.length&&(b[d.name]=d)}}var f=a("./vectortilelayer");b.exports=d},{"./vectortilelayer":15}],14:[function(a,b,c){function d(a,b,c,d,f){this.properties={},this.extent=c,this.type=0,this._pbf=a,this._geometry=-1,this._keys=d,this._values=f,a.readFields(e,this,b)}function e(a,b,c){1==a?b._id=c.readVarint():2==a?f(c,b):3==a?b.type=c.readVarint():4==a&&(b._geometry=c.pos)}function f(a,b){for(var c=a.readVarint()+a.pos;a.pos<c;){var d=b._keys[a.readVarint()],e=b._values[a.readVarint()];b.properties[d]=e}}var g=a("point-geometry");b.exports=d,d.types=["Unknown","Point","LineString","Polygon"],d.prototype.loadGeometry=function(){var a=this._pbf;a.pos=this._geometry;for(var b,c=a.readVarint()+a.pos,d=1,e=0,f=0,h=0,i=[];a.pos<c;){if(!e){var j=a.readVarint();d=7&j,e=j>>3}if(e--,1===d||2===d)f+=a.readSVarint(),h+=a.readSVarint(),1===d&&(b&&i.push(b),b=[]),b.push(new g(f,h));else{if(7!==d)throw new Error("unknown command "+d);b&&b.push(b[0].clone())}}return b&&i.push(b),i},d.prototype.bbox=function(){var a=this._pbf;a.pos=this._geometry;for(var b=a.readVarint()+a.pos,c=1,d=0,e=0,f=0,g=1/0,h=-(1/0),i=1/0,j=-(1/0);a.pos<b;){if(!d){var k=a.readVarint();c=7&k,d=k>>3}if(d--,1===c||2===c)e+=a.readSVarint(),f+=a.readSVarint(),g>e&&(g=e),e>h&&(h=e),i>f&&(i=f),f>j&&(j=f);else if(7!==c)throw new Error("unknown command "+c)}return[g,i,h,j]},d.prototype.toGeoJSON=function(a,b,c){for(var e=this.extent*Math.pow(2,c),f=this.extent*a,g=this.extent*b,h=this.loadGeometry(),i=d.types[this.type],j=0;j<h.length;j++)for(var k=h[j],l=0;l<k.length;l++){var m=k[l],n=180-360*(m.y+g)/e;k[l]=[360*(m.x+f)/e-180,360/Math.PI*Math.atan(Math.exp(n*Math.PI/180))-90]}return"Point"===i&&1===h.length?h=h[0][0]:"Point"===i?(h=h[0],i="MultiPoint"):"LineString"===i&&1===h.length?h=h[0]:"LineString"===i&&(i="MultiLineString"),{type:"Feature",geometry:{type:i,coordinates:h},properties:this.properties}}},{"point-geometry":16}],15:[function(a,b,c){function d(a,b){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=a,this._keys=[],this._values=[],this._features=[],
a.readFields(e,this,b),this.length=this._features.length}function e(a,b,c){15===a?b.version=c.readVarint():1===a?b.name=c.readString():5===a?b.extent=c.readVarint():2===a?b._features.push(c.pos):3===a?b._keys.push(c.readString()):4===a&&b._values.push(f(c))}function f(a){for(var b=null,c=a.readVarint()+a.pos;a.pos<c;){var d=a.readVarint()>>3;b=1===d?a.readString():2===d?a.readFloat():3===d?a.readDouble():4===d?a.readVarint64():5===d?a.readVarint():6===d?a.readSVarint():7===d?a.readBoolean():null}return b}var g=a("./vectortilefeature.js");b.exports=d,d.prototype.feature=function(a){if(0>a||a>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[a];var b=this._pbf.readVarint()+this._pbf.pos;return new g(this._pbf,b,this.extent,this._keys,this._values)}},{"./vectortilefeature.js":14}],16:[function(a,b,c){function d(a,b){this.x=a,this.y=b}b.exports=d,d.prototype={clone:function(){return new d(this.x,this.y)},add:function(a){return this.clone()._add(a)},sub:function(a){return this.clone()._sub(a)},mult:function(a){return this.clone()._mult(a)},div:function(a){return this.clone()._div(a)},rotate:function(a){return this.clone()._rotate(a)},matMult:function(a){return this.clone()._matMult(a)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(a){return this.x===a.x&&this.y===a.y},dist:function(a){return Math.sqrt(this.distSqr(a))},distSqr:function(a){var b=a.x-this.x,c=a.y-this.y;return b*b+c*c},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(a){return Math.atan2(this.y-a.y,this.x-a.x)},angleWith:function(a){return this.angleWithSep(a.x,a.y)},angleWithSep:function(a,b){return Math.atan2(this.x*b-this.y*a,this.x*a+this.y*b)},_matMult:function(a){var b=a[0]*this.x+a[1]*this.y,c=a[2]*this.x+a[3]*this.y;return this.x=b,this.y=c,this},_add:function(a){return this.x+=a.x,this.y+=a.y,this},_sub:function(a){return this.x-=a.x,this.y-=a.y,this},_mult:function(a){return this.x*=a,this.y*=a,this},_div:function(a){return this.x/=a,this.y/=a,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var a=this.y;return this.y=this.x,this.x=-a,this},_rotate:function(a){var b=Math.cos(a),c=Math.sin(a),d=b*this.x-c*this.y,e=c*this.x+b*this.y;return this.x=d,this.y=e,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},d.convert=function(a){return a instanceof d?a:Array.isArray(a)?new d(a[0],a[1]):a}},{}],17:[function(a,b,c){var d=a("leaflet"),e=a("lodash.throttle"),f=a("point-in-polygon"),g=a("./specieLayer"),h=a("./groupMethods"),i=a("vector-tile").VectorTile,j=a("pbf");b.exports=d.TileLayer.Canvas.extend({options:{opacity:.5,async:!0,species:[],size:.0083333333,factors:[128,128,64,64,32,16,16,8,4,2],probRange:[0,100],visibleSpecies:[],groupMethod:"max"},initialize:function(a){d.Util.setOptions(this,a),this._initColors(),this.options.visibleSpecies=this.options.species.slice(),this.specieLayers={},this.on("loading",function(){this.status="loading"},this),this.on("load",function(){this.status="loaded"},this),this.selectedRectangles=[]},setProbRange:function(a){this.options.probRange=a,this.rerender()},setSelection:function(a){var b,c,d,e,f,g;if(this.options.selection=null,this.selectedRectangles=[],a&&this.options.visibleSpecies.length){if("Polygon"!==a.type)throw new Error("geometry type "+a.type+" is not supported");if("loaded"!==this.status)return void(this.options.selection=null);this.options.selection=a.coordinates[0];for(e in this._tiles)for(b=this._tiles[e],c=b._cachedRectangles,f=0,g=c.length;g>f;f++)d=c[f],this._insideSelection(d)&&this.selectedRectangles.push(d);this.rerender()}},setSpecies:function(a){var b,c,d,f;for(this.options.species=a,this.options.visibleSpecies=a.slice(),this._removeSpecieLayers(),d=0,f=a.length;f>d;d++)b=a[d],c=new g(b),this.specieLayers[b]=c;this._addSpecieLayers(),this.setSelection(null),this.redraw(),this.rerender=e(this.rerender.bind(this),100,{leading:!0})},getSpecieLayers:function(){return this.specieLayers},show:function(a){var b=this.options,c=b.visibleSpecies;if(h[a])b.groupMethod=a,b.visibleSpecies=b.species.slice();else{if(c[0]===a&&1===c.length)return;b.visibleSpecies=[a]}this._updateSpecieLayers(),this.rerender()},drawTile:function(a,b,c){var e,f,g,h=this;return this.options.species.length?(e={canvas:a,tilePoint:b,zoom:c},a._cachedRectangles?(this._updateProb(a._cachedRectangles),void this._drawRectangles(e,a._cachedRectangles)):(f=d.Util.template(this.options.url,{z:c,x:b.x,y:b.y,species:this.options.species.join(",")}),g=new XMLHttpRequest,g.onload=function(){var a;if(200===g.status){if(!g.response)return;if(h.map&&h.map.getZoom()!==e.zoom)return;var b=new Uint8Array(g.response),c=new j(b),d=new i(c);a=h._getRectangles(e,d),h._drawRectangles(e,a)}},g.onerror=function(){console.error("xhr error: "+g.status)},g.responseType="arraybuffer",g.open("GET",f,!0),void g.send())):void this.tileDrawn(a)},rerender:function(){if(this._map){for(var a in this._tiles)this._redrawTile(this._tiles[a]);return this._emitSelectionChange(),this}},onAdd:function(a){var b=this;d.TileLayer.Canvas.prototype.onAdd.apply(this,arguments),this._addSpecieLayers(),a.on("specieAdded",function(a){b.resetting||b.showSpecies([a.specie])}),a.on("specieRemoved",function(a){b.resetting||b.hideSpecies([a.specie])})},onRemove:function(a){d.TileLayer.Canvas.prototype.onRemove.apply(this,arguments),this._removeSpecieLayers(),a.off("specieAdded"),a.off("specieRemoved")},_initColors:function(){var a,b,c={};for(b=0;100>=b;b++)a=240*(1-b/100),c[b]="hsl("+a+",70%,50%)";this.colors=c},_latlngToTilePoint:function(a,b){var c,d;return c=a.tilePoint.multiplyBy(this.options.tileSize),d=this._map.project(b),{x:Math.round(d.x-c.x),y:Math.round(d.y-c.y)}},_getRectFromFeature:function(a,b){var c,e,f,g=this.options,h=(g.size*(g.factors[a.zoom]||1),b.toGeoJSON(a.tilePoint.x,a.tilePoint.y,a.zoom).geometry.coordinates[0].map(function(a){return a.reverse()})),i=d.latLngBounds(h),j=i.getCenter(),k=j.lng,l=j.lat,m=i.getNorthWest(),n=i.getSouthEast(),o=this._latlngToTilePoint(a,m),p=this._latlngToTilePoint(a,n),q={};if(1===g.species.length)q[g.species[0]]=b.properties.value;else for(e=0,f=g.species.length;f>e;e++)q[g.species[e]]=b.properties[g.species[e]];return c={x:o.x,y:o.y,center:[k,l],width:p.x-o.x,height:p.y-o.y,species:q},c.prob=this._calculeProb(c),c.color=this.colors[c.prob],c},_calculeProb:function(a){var b,c,d,e=this.options.visibleSpecies,f=[];for(c=0,d=e.length;d>c;c++)b=a.species[e[c]],"number"==typeof b&&f.push(b);return h[this.options.groupMethod](f)},_updateProb:function(a){var b,c,d;for(c=0,d=a.length;d>c;c++)b=a[c],b.prob=this._calculeProb(b),b.color=this.colors[b.prob]},_insideRange:function(a){var b=a.prob,c=this.options.probRange;return b>=c[0]&&b<=c[1]},_insideSelection:function(a){var b=this.options.selection;return b&&f(a.center,b)},_getRectangles:function(a,b){var c,d,e,f,g,h,i=a.canvas;if(c=b.layers[Object.keys(b.layers)[0]],!i._cachedRectangles){for(d=[],f=0,g=c.length;g>f;f++)e=c.feature(f),h=this._getRectFromFeature(a,e),h.width<1||h.height<1||d.push(h);i._cachedRectangles=d}return i._cachedRectangles},_drawRectangles:function(a,b){var c,d,e,f=a.canvas,g=f.getContext("2d");for(g.strokeStyle="rgba(255,255,255,0.2)",g.lineWidth=1,g.fillStyle="rgba(0,0,0,0)",g.clearRect(0,0,f.width,f.height),d=0,e=b.length;e>d;d++)c=b[d],this._insideRange(c)&&(g.beginPath(),g.rect(c.x,c.y,c.width,c.height),g.fillStyle=c.color,g.fill(),a.zoom>=12&&(g.font=a.zoom-4+"px Verdana",g.fillStyle="white",g.strokeStyle="#fff",g.textAlign="center",g.fillText(String(c.prob)+"%",c.x+c.width/2,c.y+c.height/2)),a.zoom>=10&&g.stroke());if(a.zoom>=10)for(d=0,e=b.length;e>d;d++)c=b[d],this._insideRange(c)&&this._insideSelection(c)&&(g.strokeStyle="#fff",g.lineWidth=2,g.beginPath(),g.rect(c.x,c.y,c.width,c.height),g.stroke());this.tileDrawn(a.canvas)},_addSpecieLayers:function(){var a;if(this.resetting=!0,this._map)for(a in this.specieLayers)this._map.addLayer(this.specieLayers[a]);this.resetting=!1},_removeSpecieLayers:function(){var a;if(this.resetting=!0,this._map)for(a in this.specieLayers)this._map.removeLayer(this.specieLayers[a]);this.specieLayers={},this.resetting=!1},_updateSpecieLayers:function(){var a,b=this.options.visibleSpecies;if(this.resetting=!0,this._map)for(a in this.specieLayers)b.indexOf(a)>=0?this._map.addLayer(this.specieLayers[a]):this._map.removeLayer(this.specieLayers[a]);this.resetting=!1},_emitSelectionChange:function(){var a,b,c,d,e,f,g,i,j,k;if(this._map&&this.options.selection){for(c=this.selectedRectangles,b=this.options.visibleSpecies,d={},g=0,j=b.length;j>g;g++)d[b[g]]=[];for(g=0,j=c.length;j>g;g++)for(e=c[g],a=e.species,i=0,k=b.length;k>i;i++)f=b[i],d[f].push(a[f]);for(f in d)d[f]=h[this.options.groupMethod](d[f]);var l={type:"Feature",geometry:{type:"Polygon",coordinates:[this.options.selection]},properties:{}};this.fire("selectionChange",{species:d,geom:l})}}})},{"./groupMethods":18,"./specieLayer":21,leaflet:4,"lodash.throttle":5,pbf:9,"point-in-polygon":11,"vector-tile":12}],18:[function(a,b,c){function d(a){var b;return a.sort(function(a,b){return a-b}),b=Math.floor(a.length/2),a.length%2?a[b]:Math.round((a[b-1]+a[b])/2)}function e(a){var b,c,d=0;if(!a.length)return 0;for(b=0,c=a.length;c>b;b++)d+=a[b];return Math.round(d/a.length)}function f(a){return Math.max.apply(Math,a)}b.exports={median:d,max:f,mean:e}},{}],19:[function(a,b,c){var d=a("leaflet"),e=a("./gridLayer"),f=a("./rangeSelector");a("leaflet-draw");var g=d.Class.extend({options:{container:"map",zoom:8,maxZoom:16,center:[-33.4,-70.4],probRange:[0,100],controls:{rangeSelector:!0,draw:!0},host:"http://servidor-modelos.cswlabs.cl"},includes:d.Mixin.Events,initialize:function(a){"string"==typeof a&&(a={container:a}),a.controls&&(a.controls=d.extend({},this.options.controls,a.controls)),d.Util.setOptions(this,a),this._initMap()},setSpecies:function(a){a=Array.isArray(a)?a:[a],this.grid.setSpecies(a)},show:function(a){this.grid.show(a)},setProbRange:function(a){this.grid.setProbRange(a)},_initMap:function(){var a=this.options;this.map=d.map(a.container,{maxZoom:a.maxZoom||16}).setView(a.center,a.zoom),this._defineBaseLayers(),this._defineControls(),this.grid=new e({url:this.options.host+"/models/{z}/{x}/{y}.pbf?species={species}",range:a.probRange}).addTo(this.map),this.grid.on("selectionChange",function(a){this.fire("selectionChange",a)},this)},_defineBaseLayers:function(){var a=d.tileLayer("http://{s}.tiles.mapbox.com/v3/sebapcarroza.map-9p93qwso/{z}/{x}/{y}.png",{maxZoom:18,attribution:'Map data &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors, <a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery © <a href="http://mapbox.com">Mapbox</a>',id:"examples.map-i875mjb7"});a.addTo(this.map),this._baseLayers={mapbox:a}},_defineControls:function(){var a=this.options.controls;this.controls={},this._initRangeSelectorControl(),this._initDrawControl(),a.rangeSelector&&this.controls.rangeSelector.enable(),a.draw&&this.controls.draw.enable()},_initRangeSelectorControl:function(){var a=this,b=new f;b.on("change",function(b){a.setProbRange(b.range)}),this.controls.rangeSelector={enable:function(){b.addTo(a.map)},disable:function(){b.removeFrom(a.map)}}},_initDrawControl:function(){var a,b,c=this;a={weight:2,stroke:!0,color:"#fff",opacity:.5},b=new d.Control.Draw({edit:!1,draw:{polygon:{shapeOptions:a},rectangle:{shapeOptions:a},polyline:!1,marker:!1,circle:!1}}),this.map.on("draw:drawstart",function(){c.map.dragging.disable(),c.map.touchZoom.disable(),c.map.doubleClickZoom.disable(),c.map.scrollWheelZoom.disable(),setTimeout(function(){if(c.map.getZoom()<10)for(var a in b._toolbars)b._toolbars[a].disable()},0)}),this.map.on("draw:drawstop",function(){c.map.dragging.enable(),c.map.touchZoom.enable(),c.map.doubleClickZoom.enable(),c.map.scrollWheelZoom.enable()}),this.map.on("draw:created",function(a){var b=a.layer,d=b.toGeoJSON().geometry;c.grid.setSelection(d)}),this.controls.draw={enable:function(){b.addTo(c.map)},disable:function(){b.removeFrom(c.map)}}}});b.exports=g},{"./gridLayer":17,"./rangeSelector":20,leaflet:4,"leaflet-draw":3}],20:[function(a,b,c){var d=a("leaflet"),e=a("bootstrap-slider"),f=a("domify"),g=d.Control.extend({options:{position:"bottomright"},includes:d.Mixin.Events,onAdd:function(a){var b,c,d=this;b=f('<div class="range-selector"></div>'),b.appendChild(f("<h5>Probabilidad de presencia:</h5>")),b.appendChild(f("<b>%0</b>")),c=f('<input type="text" class="span2" value="" data-slider-min="0" data-slider-max="100" data-slider-step="1" data-slider-value="[0,100]"/>'),b.appendChild(c),b.appendChild(f("<b>%100</b>"));var g=new e(c);return g.on("slide",function(a){d.fire("change",{range:a})}),b}});b.exports=g},{"bootstrap-slider":1,domify:2,leaflet:4}],21:[function(a,b,c){var d=a("leaflet");b.exports=d.Class.extend({includes:d.Mixin.Events,initialize:function(a){this._specie=a},onAdd:function(a){a.fire("specieAdded",{specie:this._specie})},onRemove:function(a){a.fire("specieRemoved",{specie:this._specie})}})},{leaflet:4}]},{},[19])(19)}),function(a){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=a();else if("function"==typeof define&&define.amd)define([],a);else{var b;b="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,b.Turf=a()}}(function(){return function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){var d=a("turf-meta").coordEach;b.exports=function(a){var b=[1/0,1/0,-(1/0),-(1/0)];return d(a,function(a){b[0]>a[0]&&(b[0]=a[0]),b[1]>a[1]&&(b[1]=a[1]),b[2]<a[0]&&(b[2]=a[0]),b[3]<a[1]&&(b[3]=a[1])}),b}},{"turf-meta":2}],2:[function(a,b,c){function d(a,b,c){var d,e,f,g,h,i,j,k,m,n=0,o="FeatureCollection"===a.type,p="Feature"===a.type,q=o?a.features.length:1;for(d=0;q>d;d++)for(k=o?a.features[d].geometry:p?a.geometry:a,m="GeometryCollection"===k.type,i=m?k.geometries.length:1,g=0;i>g;g++)if(h=m?k.geometries[g]:k,j=h.coordinates,n=!c||"Polygon"!==h.type&&"MultiPolygon"!==h.type?0:1,"Point"===h.type)b(j);else if("LineString"===h.type||"MultiPoint"===h.type)for(e=0;e<j.length;e++)b(j[e]);else if("Polygon"===h.type||"MultiLineString"===h.type)for(e=0;e<j.length;e++)for(f=0;f<j[e].length-n;f++)b(j[e][f]);else{if("MultiPolygon"!==h.type)throw new Error("Unknown Geometry Type");for(e=0;e<j.length;e++)for(f=0;f<j[e].length;f++)for(l=0;l<j[e][f].length-n;l++)b(j[e][f][l])}}function e(a,b,c,e){return d(a,function(a){c=b(c,a)},e),c}function f(a,b){var c;switch(a.type){case"FeatureCollection":for(features=a.features,c=0;c<a.features.length;c++)b(a.features[c].properties);break;case"Feature":b(a.properties)}}function g(a,b,c){return f(a,function(a){c=b(c,a)}),c}b.exports.coordEach=d,b.exports.coordReduce=e,b.exports.propEach=f,b.exports.propReduce=g},{}]},{},[1])(1)}),angular.module("flujogenico20App").directive("menuBarPc",function(){return{templateUrl:"app/directives/menuBarPc/menuBarPc.html",restrict:"EA",link:function(a,b,c){}}}),angular.module("flujogenico20App").directive("showProps",["$compile",function(a){return{restrict:"EA",scope:{sp:"=",text:"="},link:function(b,c){b.$watch("sp",function(d){if(d){var e=angular.element("<span />");b.sp.general.taxonomy.local.forEach(function(a){if("gen"!==a.id&&"sp"!==a.id){var b=a.name,c='<md-button md-no-ink class="md-fab"  style="background-color: gray;"> '+a.id+" <md-tooltip >"+b+"</md-tooltip></md-button>",d=angular.element(c);e.append(d)}}),b.sp.general.vernacularNames&&b.sp.general.vernacularNames.forEach(function(a){var b=a.name,c='<md-button md-no-ink class="md-fab"  style="background-color: gray;"> '+a.lang+" <md-tooltip >nombre comun: "+b+"</md-tooltip></md-button>",d=angular.element(c);e.append(d)}),b.sp.properties.forEach(function(a){if("cultc"!==a.id&&"gffs"!==a.id&&"gffc"!==a.id&&"sb"!==a.id&&"fg"!==a.id&&"reg"!==a.id&&"ag"!==a.id){var b="{{mainCtrl.tc.table."+a.id+' || "'+a.altName+'"||"'+a.name+'"}}',c='<md-button md-no-ink class="md-fab" style="background-color: gray;"> '+a.id+" <md-tooltip >"+b+"</md-tooltip></md-button>",d=angular.element(c);e.append(d)}}),a(e)(b.$parent),c.append(e)}})}}}]),angular.module("flujogenico20App").directive("sidebarMenuApp",function(){return{templateUrl:"app/directives/sidebarMenuApp/sidebarMenuApp.html",restrict:"EA",link:function(a,b,c){}}}),angular.module("flujogenico20App").directive("vectorIcon",["IconService",function(a){return{restrict:"EA",scope:{name:"@name",colorFill:"@fill",circleColor:"@circleColor"},link:function(b,c){var d="http://www.w3.org/2000/svg",e=document.createElementNS(d,"svg"),f=b.circleColor||"white",g=b.colorFill||"white",h=a.get(b.name).d;e.setAttribute("viewBox","0 0 140 140"),e.setAttribute("width","100%"),e.setAttribute("height","100%"),e.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink");var i=document.createElementNS(d,"circle");i.setAttribute("cx","50%"),i.setAttribute("cy","50%"),i.setAttribute("r","50%"),i.setAttribute("fill",f),e.appendChild(i);var j=document.createElementNS(d,"path");j.setAttribute("d",h),j.setAttribute("style","fill:"+g);var k=document.createElementNS(d,"g");k.setAttribute("transform","translate(20,20)"),k.appendChild(j),e.appendChild(k),c.append(e)}}}]),angular.module("flujogenico20App").factory("DataSession",["$state","Flora","$q",function(a,b,c){return{steps:[],results:"",underscoreResults:"",setStep:function(a,b){var c=this.steps.map(function(a){return a.id}).indexOf(a);if(-1===c){var d={};d.id=a,d.value=b,this.steps.push(d)}else this.steps[c].value=b;return!0},getStep:function(a){var b=this.steps.map(function(a){return a.id}).indexOf(a);if(-1!==b)return this.steps[b].value},eraseSteps:function(){this.steps=[],this.results="",this.underscoreResults="",this.localResults=[]},makeResult:function(){var a=c.defer(),d=this,e=this.steps.map(function(a){return a.id}).indexOf("spSearch"),f=this.steps.map(function(a){return a.id}).indexOf("evalType");if(-1!==e&&-1!==f){var g=this.steps[e].value._id,h=this.steps[f].value;return b.getMatchSp({id:g,type:h}).$promise.then(function(b){0===b.length?d.resultMatch=!1:d.resultMatch=!0,d.results=b,d.resultsIntroducidas=b.filter(function(a){var b=a.properties.filter(function(a){return"in"===a.id}).length;return 1===b?!0:!1}),d.resultsNativas=b.filter(function(a){var b=a.properties.filter(function(a){return"nati"===a.id}).length;return 1===b?!0:!1}),d.progressBar=!1,d.underscoreResults=b.map(function(a){return a.underscoreSp()}),a.resolve("OK")}),a.promise}},getEvalType:function(){var a=this.steps.map(function(a){return a.id}).indexOf("evalType");if(-1!==a)return this.steps[a].value},getReach:function(){var a=this.steps.map(function(a){return a.id}).indexOf("reach");if(-1!==a)return this.steps[a].value}}}]),angular.module("flujogenico20App").factory("IconService",function(){return{get:function(a){return this[a]},cira:{d:"m 77.994331,19.90718 c -0.282201,0.03092 -0.55798,0.1643 -0.858427,0.367897 l -0.539582,0.367897 -0.09811,3.801602 -0.09811,3.801602 -4.610975,0.171684 -0.02448,12.827341 4.635501,0.04905 0.09811,3.728022 c 0.09625,3.694234 0.08508,3.732464 0.539582,4.02234 0.615838,0.392745 1.615139,0.371868 2.30549,-0.04905 1.115275,-0.679999 20.037088,-13.303413 20.258859,-13.514081 0.467521,-0.444059 0.479621,-1.089124 0.02447,-1.545167 C 99.135369,33.443927 79.531615,20.352934 78.87728,20.078866 78.554182,19.943534 78.276525,19.876289 77.994326,19.90718 z m -63.345724,8.53214 -0.0063,12.903988 c 0.103584,0.009 0.351407,0.01719 0.392423,0.02448 0.269092,0.04796 0.55035,0.08205 0.858426,0.171686 -0.01585,-4.363591 0.03045,-8.709068 0,-13.072605 m -1.250849,43.166614 c 0.473819,-0.0135 0.952466,-0.0281 1.373482,-0.04905 0,-4.251067 -0.122633,-8.502551 -0.122633,-12.75376 l -0.564109,0.07354 -0.68674,3.9e-5 m -8.3390062,0.147159 c 0,0 -5.7733801,0.05109 -5.86182448,6.524039 0.0981058,6.26697 6.25424788,6.107089 6.25424788,6.107089 2.0611174,0 3.8094588,0.01232 5.3222428,0 l 0,-12.729234 m 0,-30.535446 -3.1884407,-0.02448 -3.5318104,0.02448 c 0,0 -5.29374458,0.03924 -5.2977159,6.327828 0.0583926,6.307885 5.7146657,6.3033 5.7146657,6.3033 1.9575649,0.0016 4.3841853,0.06962 6.3033013,0.147159 m 58.7409,-12.851863 c -0.814749,0.01366 -1.35587,0.03304 -2.01117,0.04905 l 0,12.827339 c 0.54094,-1.88e-4 1.139197,-0.0082 2.060223,0 z m -54.203482,0.171686 0.02448,13.293342 c 2.034722,0.719241 4.695966,2.148966 7.456045,4.046867 1.311462,0.901796 1.588788,1.030111 2.256434,1.030111 0.749818,0 0.877199,-0.08303 5.469401,-3.924234 2.580984,-2.158886 4.780353,-4.108469 4.880766,-4.316658 0.304105,-0.630576 0.0082,-1.071041 -1.447061,-2.158328 -4.47447,-3.343212 -9.932742,-6.065516 -14.421556,-7.210781 -1.634788,-0.417098 -4.218551,-0.760319 -4.218551,-0.760319 z m 46.158802,0.34337 -2.35454,0.588635 c -4.249396,1.180504 -8.277709,3.168489 -13.146184,6.548566 -3.093944,2.148054 -6.272425,4.687089 -12.361337,9.810584 -8.305885,6.988943 -11.535113,9.390159 -15.157353,11.282173 -0.969804,0.503032 -1.982555,1.205478 -3.114862,1.569693 l 0,12.90092 c 1.644341,-0.109918 3.004614,-0.3151 4.414763,-0.686741 6.682265,-1.761079 13.146946,-5.678641 22.907717,-13.881978 8.809347,-7.403718 9.961204,-8.345872 12.140599,-9.957743 2.557768,-1.891709 4.741808,-3.367095 6.646671,-4.316657 z m 15.402619,21.730446 c -0.395108,0.004 -0.793771,0.08778 -1.079164,0.269791 -0.45562,0.290612 -0.443117,0.313994 -0.539583,4.169499 l -0.09811,3.899707 -5.052451,0 -2.575279,-0.02448 -0.02448,12.949972 c -4.7e-5,0.05188 1.38093,0.02448 2.280961,0.02448 l 5.248663,0 c 0.02535,2.529742 0.05251,4.890568 0.171685,7.652256 0.521546,0.433847 1.243763,0.591304 2.280964,0.367897 0.608076,-0.183944 20.607247,-13.539926 20.970129,-14.00461 0.754499,-0.966123 0.908289,-0.835493 -9.957748,-8.093733 -5.527188,-3.69202 -10.257366,-6.820333 -10.521851,-6.965514 -0.317023,-0.174016 -0.708585,-0.249393 -1.103693,-0.245264 z m -22.613398,2.820543 c -0.187045,-0.0047 -0.365818,0.01907 -0.564109,0.07354 -0.495026,0.136045 -4.160937,3.117152 -8.829527,7.161727 -1.655751,1.434441 -1.581819,1.809848 0.809374,3.482758 4.783633,3.346688 9.858836,5.816703 14.176295,6.891936 0.580244,0.144505 1.099201,0.241999 1.618746,0.34337 L 62.591712,57.432668 c -0.01773,-1.82743 -3.221122,-1.815532 -4.807186,-2.91865 -1.121861,-0.78027 -1.719827,-1.088456 -2.280961,-1.10369 z"},flora:{d:"m 74.969186,99.215009 c -4.822259,0.945421 -7.900402,0.54309 -11.341961,-1.482513 -2.983389,-1.755916 -3.044733,-1.775927 -3.75975,-1.225904 -0.348597,0.268162 -2.272995,1.185625 -4.276433,2.038826 -3.255978,1.386537 -3.780266,1.537842 -4.939524,1.42442 -1.908489,-0.18666 -4.692523,-1.251755 -7.325586,-2.802549 l -2.323845,-1.368673 -0.977166,0.67725 c -2.610773,1.428429 -5.806427,2.974993 -8.319122,2.891309 -3.922901,0.0469 -7.42186,-1.550301 -10.719419,-2.799457 -2.277043,-0.960827 -5.151079,-2.56661 -7.656689,-5.573065 -2.080695,-2.496597 -1.695372,-3.892046 0.986543,-3.572785 4.399281,0.523705 5.864125,0.53467 7.375209,0.05522 1.41765,-0.449808 1.725649,-0.675411 3.060589,-2.241508 5.23139,-6.137399 9.418742,-22.803675 12.848217,-51.137786 0.542121,-4.478966 0.783656,-6.905865 0.460297,-7.401276 -0.629499,-0.964443 -0.100286,-1.413191 0.952918,-4.11201 2.078491,-5.326236 4.725421,-8.694934 7.63825,-9.72107 1.469892,-0.517818 1.46993,-0.517856 1.378328,-1.565252 C 47.979712,10.722098 47.568698,9.140631 47.116793,7.7837993 46.68792,6.06236 46.562608,5.4076616 44.979712,4.870137 44.256227,4.6244511 43.292948,4.6689113 42.833112,4.5911736 41.691721,4.3982156 41.26231,4.2427139 43.21371,2.0046836 c 2.303578,-2.64193767 4.532796,-2.67272355 6.614392,-0.091341 1.755116,2.1765159 2.497713,4.6097678 3.133214,10.2665664 0.04676,0.416195 0.461241,0.818852 1.336813,1.298617 2.717766,1.489228 4.96778,4.551989 7.150196,9.732983 1.255401,2.980289 1.922051,3.201764 1.056581,4.060331 -0.688246,0.682756 0.304624,4.899482 2.767021,16.635523 2.918685,13.910762 5.008566,21.377468 8.35146,29.838068 3.343997,8.463379 5.525093,11.882585 8.307178,13.022806 1.122261,0.45995 2.015143,0.389237 5.285144,-0.418571 2.616902,-0.646471 3.713675,-0.435718 4.240458,0.814852 0.287394,0.682262 0.228941,1.173304 -0.268008,2.25153 -3.196855,5.699993 -9.886184,8.447707 -16.218965,9.798979 z M 61.882689,91.787156 C 56.83514,86.110623 51.20831,71.086152 51.20831,71.086152 c 0,0 -5.997411,14.005042 -10.26488,20.784547 3.009842,2.302108 5.916172,5.111857 9.810993,5.46363 5.515964,-1.130199 7.112434,-2.429558 11.128266,-5.547173 z"},fauna:{d:"m 66.561729,99.68357 c 0,-0.174036 0.134459,-0.233329 0.298795,-0.131762 0.164337,0.101576 0.298796,0.243959 0.298796,0.316429 0,0.07247 -0.134459,0.131763 -0.298796,0.131763 -0.164336,0 -0.298795,-0.142394 -0.298795,-0.31643 z m -1.303721,-3.419778 c -0.530352,-1.382076 0.07453,-2.224688 0.724788,-1.009656 0.265649,0.496374 0.244559,0.726369 -0.09802,1.068954 -0.382806,0.382809 -0.459908,0.375511 -0.626761,-0.05931 z m -5.435073,-1.773074 c -1.82884,-0.920878 -6.109393,-4.791815 -6.109393,-5.524771 0,-0.289485 0.268916,-0.7697 0.59759,-1.067146 0.831165,-0.752193 0.747283,-1.045783 -0.298794,-1.045783 l -0.896386,0 0,-3.9989 0,-3.998902 0.821686,-0.161246 c 0.451928,-0.08869 0.908139,-0.07074 1.013803,0.03987 0.278656,0.291698 1.082125,4.081555 1.318131,6.217434 0.170995,1.547527 0.123657,1.877347 -0.303776,2.116551 -0.456026,0.255208 -0.437209,0.327671 0.189383,0.729367 0.382639,0.245307 1.974479,0.937927 3.537416,1.53916 4.342912,1.670637 5.752307,3.369066 4.090917,4.929862 -1.092675,1.026512 -2.238787,1.09148 -3.960577,0.224505 z M 41.351805,90.7013 c -0.507937,-0.725182 -0.655957,-1.756717 -0.252078,-1.756717 0.437558,0 1.22712,1.660661 0.979815,2.06081 -0.182989,0.296085 -0.358818,0.222612 -0.727737,-0.304093 z m 48.500097,0.166363 c -0.32785,-0.395035 -0.32197,-0.520179 0.03505,-0.746097 1.011974,-0.640351 1.678567,0.125495 0.767419,0.881682 -0.311621,0.258618 -0.50201,0.226451 -0.802475,-0.135585 z m -4.914278,-2.52505 c -2.174085,-0.835331 -7.021683,-3.694711 -7.021683,-4.141778 0,-0.105403 0.921096,-0.481846 2.046879,-0.836556 2.365421,-0.745288 4.333722,-1.879967 7.596289,-4.379076 1.277481,-0.978542 2.36718,-1.726307 2.421558,-1.661698 0.273643,0.325128 0.774756,4.968776 0.833248,7.721435 l 0.06634,3.122038 -0.87975,0.375326 c -1.271292,0.542369 -3.344354,0.460603 -5.06288,-0.199691 z M 37.639037,87.877616 c -0.846896,-0.593189 -2.444275,-3.350862 -2.447985,-4.226133 -0.0037,-0.853236 0.98435,-1.412748 1.760813,-0.997199 0.703866,0.376699 3.3159,3.811828 3.3159,4.360794 0,0.427405 -1.11602,1.331916 -1.643374,1.331916 -0.173372,0 -0.616782,-0.211219 -0.985354,-0.469378 z m 36.243171,-5.324948 c -2.449418,-0.770665 -3.155882,-1.456131 -1.840886,-1.786174 1.065245,-0.26736 4.922184,-2.93972 6.816986,-4.72329 1.967713,-1.8522 4.923557,-5.354421 5.398089,-6.395904 0.452614,-0.993384 0.653082,-0.914441 1.295472,0.510131 0.305585,0.677663 1.357765,2.04682 2.338176,3.042572 l 1.782567,1.810461 -1.32171,1.169479 c -4.200972,3.71711 -7.909003,5.897577 -11.03852,6.491076 -1.885874,0.357649 -1.921148,0.356433 -3.430174,-0.118351 z M 37.57861,81.624105 c -0.204583,-0.246507 -0.616484,-0.448194 -0.915339,-0.448194 -0.914065,0 -0.939017,-0.502638 -0.137024,-2.760044 0.424028,-1.19354 0.831863,-2.342849 0.906296,-2.554016 0.106658,-0.302589 0.327106,-0.284774 1.040417,0.08409 0.691244,0.357458 0.872714,0.624658 0.76807,1.130931 -0.07537,0.36459 -0.223627,1.457104 -0.329483,2.427806 -0.287651,2.637811 -0.552807,3.059419 -1.332937,2.119422 z M 24.48149,79.842472 c -1.551054,-1.766553 -2.762385,-5.240052 -1.827386,-5.240052 0.172721,0 0.524248,0.504217 0.781167,1.120481 0.256919,0.616265 0.720661,1.477385 1.030534,1.913595 0.309877,0.436211 0.563412,1.182451 0.563412,1.658312 0,0.47586 0.161348,1.026549 0.358554,1.223754 0.197204,0.197205 0.278363,0.358554 0.18035,0.358554 -0.098,0 -0.586995,-0.465587 -1.086631,-1.034644 z m 42.721684,0.115024 c -1.545165,-0.302837 -3.794213,-1.558482 -4.221491,-2.356856 -0.537431,-1.004199 -0.336936,-1.382429 1.347918,-2.542832 2.875884,-1.980697 5.948613,-5.713426 10.82834,-13.154176 1.401065,-2.136386 2.688536,-3.9759 2.861051,-4.087806 0.887623,-0.575794 5.163244,2.384013 6.336921,4.386737 0.887621,1.514618 0.905431,2.075249 0.12851,4.046307 -2.204521,5.592915 -10.364732,13.138531 -14.934743,13.809921 -0.575182,0.0845 -1.63111,0.03891 -2.346506,-0.101299 z M 83.891843,65.800831 c 0,-0.676402 -1.754257,-2.807075 -3.349078,-4.067709 -2.051066,-1.621275 -2.885497,-1.939838 -3.492134,-1.333198 -0.418164,0.418164 -0.411462,0.558759 0.06919,1.45126 0.587216,1.090393 2.803857,2.978183 4.691627,3.995598 1.225956,0.660728 2.080403,0.641856 2.080403,-0.04596 z M 51.384939,76.696238 c -1.824164,-0.827904 -4.593077,-3.587493 -6.353987,-6.332601 -2.467736,-3.846978 -2.995959,-6.095769 -1.640468,-6.983921 1.488184,-0.975094 2.740126,0.227699 4.44526,4.270748 1.188234,2.817429 3.101146,5.628983 5.096893,7.491299 0.758172,0.707482 1.378495,1.480614 1.378495,1.718072 0,0.614459 -1.382108,0.537191 -2.926193,-0.163597 z m 40.470208,-0.03039 c -0.520702,-0.608132 -0.467115,-1.669506 0.06761,-1.339032 0.200135,0.123689 0.668104,1.964763 0.499408,1.964763 -0.01718,0 -0.272339,-0.281579 -0.56701,-0.625731 z M 58.342302,74.941559 c -1.083144,-0.492063 -3.136419,-2.434151 -3.133679,-2.963993 5.98e-4,-0.117534 0.906484,-0.681898 2.013057,-1.25414 3.337619,-1.725988 7.867551,-6.761523 10.823762,-12.031841 1.03726,-1.849228 1.219435,-1.973072 1.826464,-1.241645 0.541319,0.652247 3.296807,2.206477 3.917969,2.209927 1.053638,0.0059 0.843439,0.731049 -1.024732,3.535401 -3.675103,5.516785 -7.259708,9.477272 -10.370344,11.457773 -1.541226,0.981282 -2.393924,1.04199 -4.052497,0.288518 z M 37.755194,73.930133 c -0.214782,-0.534097 -0.696571,-2.774871 -1.07064,-4.979504 -0.656438,-3.868804 -0.661128,-4.022307 -0.13472,-4.407227 0.29997,-0.219342 0.902239,-0.398807 1.338369,-0.398807 1.37589,0 1.759397,0.797188 2.097201,4.359426 0.309871,3.267697 0.178138,5.325579 -0.385598,6.023701 -0.565955,0.700869 -1.435768,0.419081 -1.844612,-0.597589 z M 21.169899,73.721499 c -0.209546,-0.129507 -0.326416,-0.660448 -0.271279,-1.232437 0.148865,-1.544412 1.638311,-2.419959 3.923711,-2.306491 1.756968,0.08724 1.75927,0.08857 2.164582,1.271064 0.223158,0.651056 0.357792,1.231691 0.299189,1.290293 -0.0586,0.0586 -1.094593,0.235271 -2.302201,0.392598 -1.207607,0.157326 -2.476945,0.404498 -2.820754,0.549273 -0.343809,0.144773 -0.790769,0.160837 -0.993248,0.0357 z m 68.602793,-1.38277 c -0.960223,-1.957851 -3.048879,-4.309798 -3.827339,-4.309798 -0.672431,0 -0.676082,-0.03906 -0.12659,-1.354176 0.497366,-1.190356 0.961577,-1.286056 2.057351,-0.424121 1.551068,1.220072 3.836982,7.018303 2.976562,7.550073 -0.153194,0.09469 -0.639188,-0.563209 -1.079984,-1.461978 z m -61.189665,-0.09227 c -0.685576,-0.555147 -0.69032,-0.59916 -0.331894,-3.078158 0.358348,-2.478457 0.459639,-5.229176 0.165739,-4.50081 -0.268587,0.665626 -0.82836,0.381349 -1.783264,-0.905624 -2.265693,-3.05359 -2.496943,-4.355592 -1.597943,-8.99683 0.36897,-1.904884 0.847954,-3.699896 1.064406,-3.988916 0.369935,-0.493962 0.422374,-0.485113 0.873988,0.147536 0.414055,0.580032 0.653492,0.646478 1.732858,0.480877 1.974834,-0.302984 3.782554,-1.324824 5.471813,-3.093019 0.776333,-0.812612 0.89961,-1.487419 0.368711,-2.018319 -0.432844,-0.432843 0.895566,-0.822971 1.811926,-0.53213 0.562783,0.17862 0.485061,0.329414 -0.889606,1.725934 -1.238574,1.258264 -1.490363,1.691257 -1.416783,2.436395 0.172353,1.745342 2.278216,2.237333 8.983646,2.098845 2.919741,-0.0603 5.638713,0.01587 6.042158,0.169252 1.687056,0.641417 2.222857,4.260083 0.995621,6.724194 -0.409232,0.821687 -1.051584,2.334336 -1.427445,3.361446 -0.37586,1.027106 -0.798348,1.867468 -0.93886,1.867468 -0.14051,0 -0.480229,-0.343016 -0.754928,-0.76226 -0.563131,-0.859445 -1.873652,-1.628101 -2.775833,-1.628101 -0.331119,0 -1.077316,0.417303 -1.658211,0.927337 -1.292603,1.13492 -1.348215,1.951377 -0.307391,4.512863 0.769827,1.894553 0.686401,2.312507 -0.463856,2.323897 -0.350072,0.0036 -0.546424,-0.574293 -0.810184,-2.383933 -0.415144,-2.848324 -0.688991,-3.427392 -1.922483,-4.065254 -1.201398,-0.621269 -2.996152,-0.155854 -3.732464,0.967902 -0.435147,0.664118 -0.454542,0.987483 -0.14819,2.470692 0.52518,2.542665 0.473776,3.015167 -0.328018,3.015167 -0.374279,0 -0.979811,-0.209643 -1.345629,-0.465872 -0.538946,-0.377492 -0.605821,-0.576681 -0.352525,-1.049971 0.171931,-0.321255 0.393589,-1.913409 0.492568,-3.53812 0.176226,-2.892608 0.16382,-2.970165 -0.596763,-3.730748 -1.425254,-1.425256 -3.808514,-0.814997 -4.259688,1.090739 -0.247136,1.043892 -0.08743,1.03219 1.019465,-0.0747 1.018171,-1.018171 1.57771,-1.11473 2.296189,-0.396251 0.425807,0.425808 0.479617,0.991973 0.362084,3.809639 -0.148077,3.549816 -0.774501,6.103023 -1.732381,7.060903 -0.728427,0.728426 -1.22419,0.732646 -2.106833,0.01793 z m 23.188347,-1.975427 c -0.65735,-0.242183 -1.225341,-0.442354 -1.262205,-0.444828 -0.03687,-0.0025 -0.28789,-0.431601 -0.557833,-0.953617 -0.925996,-1.790676 0.08209,-5.782082 2.504049,-9.914528 1.408298,-2.402898 5.123708,-6.251069 6.592432,-6.828001 1.09369,-0.429617 1.154529,-0.424948 1.022876,0.0785 -0.162761,0.622395 1.614151,1.921556 3.054894,2.233531 0.493011,0.106756 1.528055,0.392337 2.300096,0.634621 1.59886,0.50176 2.630022,0.190413 2.630022,-0.794109 0,-0.409071 -0.459083,-0.78434 -1.568675,-1.282276 -2.057738,-0.923426 -3.550262,-1.40512 -4.353741,-1.40512 -1.132181,0 -0.702972,-0.595122 0.469405,-0.650859 2.317285,-0.110168 5.205432,0.445967 5.894495,1.135026 1.410573,1.410573 -2.752407,8.941127 -7.761963,14.040881 -3.783795,3.851918 -6.438463,5.081185 -8.963852,4.15078 z M 13.181082,66.693458 c -1.726866,-1.209543 -2.905322,-6.188176 -2.746536,-11.603324 0.119298,-4.068538 0.306554,-4.705426 1.157143,-3.935653 0.606547,0.54892 1.496977,0.400234 2.12341,-0.354573 0.337481,-0.406637 0.236643,-0.605072 -0.715339,-1.407708 -0.99124,-0.835733 -1.089738,-1.044709 -0.933291,-1.980123 0.151124,-0.90359 0.373998,-1.13463 1.639132,-1.699222 1.362829,-0.608184 1.443507,-0.61472 1.165008,-0.09434 -0.46172,0.862729 -0.355736,1.742288 0.248932,2.065899 0.389674,0.208546 1.079764,0.127907 2.386904,-0.27892 1.238024,-0.385316 2.425579,-0.535381 3.634976,-0.459328 1.591891,0.100109 1.796229,0.04979 1.796229,-0.442285 0,-0.553665 -1.079867,-0.987635 -4.332527,-1.741124 l -1.19518,-0.27687 1.514442,-0.03089 c 1.983579,-0.04045 4.495608,0.723094 5.419919,1.647404 0.665016,0.665017 0.716624,0.889235 0.525131,2.281536 -0.116795,0.849224 -0.310309,1.751094 -0.430027,2.004159 -0.119718,0.253062 -0.491181,1.266862 -0.825473,2.252885 -3.056103,9.014258 -6.556065,14.49156 -9.260017,14.49156 -0.300271,0 -0.828048,-0.197589 -1.172836,-0.439092 z m 61.289262,-9.132216 c -0.482538,-0.503665 -1.652632,-1.263682 -2.600209,-1.688927 -1.393886,-0.62554 -1.722864,-0.90802 -1.722864,-1.479359 0,-0.3884 0.168071,-0.720212 0.373494,-0.73736 2.102485,-0.175491 2.730806,-0.115717 3.306715,0.314575 0.358777,0.268061 1.018368,0.645528 1.465761,0.838818 0.93435,0.40367 1.345839,1.578343 0.94755,2.704966 -0.381253,1.078441 -0.772524,1.08889 -1.770447,0.04729 z M 0.03848249,51.147009 c -0.28062562,-0.7313 0.10959521,-1.315472 0.99963641,-1.496476 0.4589641,-0.09334 1.3658965,-0.453161 2.015408,-0.799602 l 1.180928,-0.629896 -1.4413179,1.687083 c -1.4316923,1.675813 -2.4169531,2.11893 -2.75465451,1.238891 z M 11.295902,49.898277 C 10.901338,49.396668 10.77431,49.026359 10.973981,48.9598 c 0.474487,-0.158161 1.862631,0.818053 1.729816,1.216493 -0.216598,0.649799 -0.76294,0.541913 -1.407895,-0.278016 z m 26.68077,0.534048 C 36.963075,50.332395 36.033644,50.15035 35.91127,50.027793 35.538132,49.6541 36.33112,48.313554 37.097719,48.022094 37.494618,47.871191 37.903614,47.611391 38.006603,47.444756 38.24823,47.053792 56.469174,34.856828 61.930406,31.43034 72.069308,25.068982 83.00674,19.30778 88.373769,17.501517 c 3.723874,-1.253263 6.883705,-1.476311 8.297741,-0.585722 2.167901,1.365391 3.611,5.096968 3.210553,8.301938 -0.612428,4.901788 -3.885919,10.873941 -8.752344,15.967784 -3.125734,3.271806 -4.765939,4.304623 -7.686068,4.839835 -11.676539,2.1401 -17.965027,3.14684 -20.915654,3.348435 -0.821688,0.05613 -3.107469,0.237046 -5.079517,0.402013 -7.774307,0.650345 -16.537654,0.945816 -19.471808,0.656525 z M 2.1424561,44.605854 c -0.3464673,-0.902884 0.1099955,-1.464606 1.0037367,-1.235193 0.4498833,0.115485 1.4142631,0.280811 2.1430658,0.367396 l 1.3250928,0.157429 -1.1756957,0.445229 C 3.5249003,45.065442 2.3549301,45.15955 2.1424561,44.605854 z M 39.371378,42.623892 c 0,-0.962356 4.632296,-9.168669 8.597637,-15.23109 C 58.485939,11.313979 68.28566,1.5573406 74.305037,1.1725576 c 2.831847,-0.1810246 4.419751,1.4606841 5.419745,5.6033846 0.880561,3.6479388 0.228943,10.8242838 -1.117999,12.3126378 -0.26676,0.294767 -2.111205,1.385564 -4.098769,2.424 -1.987568,1.038435 -5.76508,3.18526 -8.394477,4.770721 -4.643039,2.799637 -6.461142,3.956423 -16.05165,10.213025 -5.435692,3.546106 -10.128229,6.433819 -10.454965,6.433819 -0.129548,0 -0.235544,-0.137812 -0.235544,-0.306253 z"
},settings:{d:"m 86.267804,93.687783 c -0.375801,-0.38773 -1.457009,-1.676327 -2.402686,-2.863564 l -1.719414,-2.158607 -1.831952,-0.05759 -1.831955,-0.05759 -1.415359,1.771749 c -2.026262,2.536473 -3.278234,3.889237 -3.599451,3.889237 -0.299121,0 -5.668187,-3.082727 -6.083133,-3.492722 -0.338514,-0.334478 -0.08893,-1.199165 1.312883,-4.548446 L 69.825546,83.473239 69.13238,82.177575 C 68.751138,81.464961 68.303091,80.765198 68.136715,80.622526 67.970341,80.479868 66.589411,80.207119 65.067979,80.016429 63.54655,79.825738 61.913054,79.557248 61.437986,79.419796 l -0.863756,-0.249906 -0.055,-3.680091 -0.055,-3.680089 0.683638,-0.285641 c 0.376,-0.157104 1.98887,-0.474266 3.584158,-0.70481 3.142143,-0.454084 3.606354,-0.55485 3.606354,-0.782831 0,-0.08224 0.32406,-0.687676 0.720132,-1.345421 0.431799,-0.717071 0.681421,-1.358284 0.62345,-1.601467 -0.05317,-0.223064 -0.608782,-1.646594 -1.234682,-3.163403 -0.625901,-1.516806 -1.156016,-3.01043 -1.178034,-3.319162 -0.03722,-0.521875 0.172603,-0.685286 2.984967,-2.324732 1.663746,-0.969867 3.130021,-1.767678 3.258389,-1.772908 0.304291,-0.01244 1.699314,1.548192 3.514239,3.931329 l 1.452679,1.907481 1.749347,0 1.749348,0 1.835291,-2.369579 c 2.252886,-2.908742 2.926799,-3.57817 3.419054,-3.396297 0.200727,0.07416 1.66413,0.879233 3.252011,1.789048 l 2.887054,1.654211 -0.127012,0.707558 c -0.06986,0.38916 -0.620347,1.947878 -1.223309,3.463821 -0.602961,1.515942 -1.094519,2.922564 -1.092347,3.125827 0.0022,0.203263 0.347353,0.959442 0.767071,1.6804 l 0.763122,1.31083 3.103615,0.46735 c 1.70699,0.257042 3.40368,0.592724 3.77042,0.745958 l 0.66681,0.278609 0,3.645275 0,3.645282 -0.55459,0.212866 c -0.30502,0.117097 -1.82507,0.390705 -3.377905,0.60806 -1.552831,0.217355 -3.018958,0.436518 -3.258059,0.487038 -0.453737,0.09581 -1.884433,2.421813 -1.884433,3.063604 0,0.18388 0.493701,1.564694 1.097113,3.068465 0.603413,1.503772 1.155445,3.060757 1.226741,3.459979 l 0.129625,0.725863 -2.587985,1.515032 c -4.103006,2.401947 -3.719626,2.278988 -4.522701,1.450431 z m -3.051436,-11.98762 c 1.662744,-0.762877 3.100817,-2.236689 3.679506,-3.77096 0.580185,-1.538234 0.497654,-3.943648 -0.183595,-5.350918 -0.645093,-1.332585 -2.015072,-2.783302 -3.277008,-3.470133 -1.490396,-0.811177 -3.786659,-0.945677 -5.447666,-0.319092 -2.332897,0.880047 -3.950768,2.620473 -4.527072,4.870007 -0.967642,3.77707 1.503173,7.736553 5.358903,8.587645 1.48659,0.328129 2.863517,0.156972 4.396932,-0.546549 z M 27.515359,81.391208 c -0.174298,-0.174287 -0.316904,-0.405352 -0.316904,-0.513459 0,-0.108119 -0.274874,-1.984679 -0.61083,-4.170168 -0.596809,-3.882412 -0.791213,-4.47778 -1.462124,-4.47778 -0.09947,0 -0.90414,-0.318003 -1.788135,-0.706674 -1.155661,-0.508114 -1.703148,-0.654367 -1.948501,-0.520513 -0.187677,0.102387 -1.740621,1.237141 -3.450987,2.521672 -1.710367,1.284529 -3.234933,2.33551 -3.387926,2.33551 -0.657051,0 -1.55268,-0.749718 -4.496396,-3.763852 -3.2768295,-3.35522 -3.9778857,-4.312728 -3.7556414,-5.129488 0.072457,-0.26628 1.0795579,-1.663892 2.2380039,-3.105807 1.158445,-1.441914 2.2166145,-2.825567 2.3514895,-3.074781 0.212588,-0.392818 0.135553,-0.688043 -0.578864,-2.218331 C 9.8552955,57.596671 9.4282845,56.606525 9.3596285,56.367209 9.2909785,56.127894 9.0925235,55.877493 8.9186295,55.810763 8.7447345,55.744034 6.8197545,55.414182 4.640895,55.077761 2.0978183,54.6851 0.5710228,54.358377 0.3768363,54.165282 0.1273771,53.917227 0.0637311,52.975589 0.0138491,48.794914 -0.0283342,45.259443 0.0246738,43.553185 0.1890143,43.156433 0.4743358,42.467604 0.6946705,42.404284 5.3644981,41.669137 7.2758365,41.368242 8.9687885,41.020126 9.1266115,40.89554 9.4216285,40.662658 10.333136,38.611867 10.715979,37.319644 10.969386,36.464316 11.015452,36.542236 7.9987985,32.723565 6.6053046,30.95959 6.0234932,30.062814 6.0234932,29.678929 c 0,-0.675628 1.7276063,-2.736124 4.5963378,-5.482004 2.446272,-2.341509 3.679949,-3.141696 4.363502,-2.830247 0.255473,0.116405 1.804861,1.26274 3.443085,2.547421 1.638225,1.284681 3.034306,2.335177 3.102403,2.334435 0.06809,-8.07e-4 1.076683,-0.394893 2.241306,-0.875888 l 2.117497,-0.874538 0.13705,-0.989525 c 0.874238,-6.312121 1.089038,-7.43013 1.508025,-7.849118 0.44929,-0.449289 10.986005,-0.445484 11.435618,0.0041 0.407885,0.407885 0.426224,0.488569 1.031046,4.536298 0.290034,1.941039 0.604864,3.717624 0.699623,3.947966 0.110171,0.267813 0.743071,0.656915 1.755446,1.079239 2.573215,1.073447 2.240428,1.15752 5.767002,-1.45693 1.718564,-1.274071 3.313397,-2.376394 3.544073,-2.449609 0.70837,-0.224827 1.429371,0.335434 4.698247,3.650827 2.937925,2.979728 4.007059,4.270735 4.008888,4.840836 4.03e-4,0.129165 -0.846613,1.311249 -1.882285,2.626851 -2.55552,3.246255 -3.028988,3.989343 -2.896337,4.545685 0.1987,0.833354 1.683596,4.265697 1.871923,4.326954 0.101733,0.03309 1.992915,0.319815 4.202639,0.637172 3.545783,0.509238 4.06097,0.630472 4.386242,1.032165 0.334849,0.413523 0.368561,0.913065 0.368561,5.461341 0,2.753405 -0.0838,5.226595 -0.186219,5.49598 -0.102424,0.269385 -0.351979,0.554752 -0.554582,0.634153 -0.2026,0.0794 -2.001861,0.409362 -3.998357,0.73325 -1.996496,0.323888 -3.817354,0.631809 -4.046348,0.684265 -0.304539,0.06976 -0.643034,0.628834 -1.260415,2.081761 -0.464233,1.092504 -0.844059,2.107856 -0.844059,2.256328 0,0.289476 1.505901,2.357741 3.567548,4.899813 1.688412,2.081863 1.682761,2.30065 -0.111801,4.328498 -1.823885,2.06098 -5.25543,5.370399 -6.106759,5.889423 -0.372062,0.226833 -0.826822,0.412763 -1.010574,0.413177 -0.183752,4.03e-4 -1.678519,-1.050424 -3.321705,-2.335197 -1.643184,-1.284774 -3.149117,-2.422388 -3.346517,-2.528033 -0.262973,-0.140739 -0.722708,-0.03264 -1.719952,0.404408 -0.748574,0.328068 -1.615818,0.660082 -1.927208,0.737803 -0.801512,0.20006 -1.089683,0.779454 -1.249271,2.511775 -0.225231,2.444872 -0.906206,6.114253 -1.225696,6.604574 -0.294734,0.45232 -0.313014,0.453743 -5.822432,0.453743 -4.755448,0 -5.570996,-0.04425 -5.843674,-0.316907 z m 9.363078,-19.538361 c 3.823968,-1.036752 7.566492,-4.349004 9.137433,-8.086918 0.782277,-1.861363 1.016277,-3.445532 0.88568,-5.996017 -0.196609,-3.839645 -1.224006,-6.095821 -4.061536,-8.919174 -2.896017,-2.881549 -5.557171,-3.992146 -9.591571,-4.002914 -2.480277,-0.0067 -4.034833,0.350271 -6.251655,1.435246 -2.039891,0.998379 -4.82279,3.74694 -5.91079,5.837855 -2.073808,3.985439 -2.076074,8.81601 -0.006,12.826172 1.138255,2.205049 3.894918,4.879022 6.133089,5.949111 0.934752,0.446914 2.198671,0.910162 2.808712,1.029439 0.61004,0.119278 1.290664,0.258855 1.512497,0.310169 0.739789,0.171132 4.220385,-0.07829 5.344158,-0.382969 z M 70.254215,38.78564 c -2.823464,-1.636587 -3.022332,-1.791127 -2.984967,-2.319666 0.02202,-0.311446 0.552133,-1.807291 1.178034,-3.324098 0.625899,-1.516809 1.181508,-2.94034 1.234682,-3.163402 0.08531,-0.357911 -0.837724,-2.170245 -1.530438,-3.004911 -0.129315,-0.155817 -1.062098,-0.375398 -2.187221,-0.514882 -2.347978,-0.291091 -4.564254,-0.735389 -5.100882,-1.022584 -0.363275,-0.194419 -0.390027,-0.456153 -0.390027,-3.815994 l 0,-3.607261 0.756249,-0.252415 c 0.415937,-0.138829 2.116073,-0.444056 3.778077,-0.678279 3.378872,-0.476178 2.879655,-0.190694 4.304752,-2.461732 0.265924,-0.423774 0.427142,-0.929213 0.37137,-1.164277 -0.05421,-0.228469 -0.601445,-1.640522 -1.216079,-3.137895 -1.657502,-4.0379985 -1.800792,-3.5820676 1.78645,-5.684197 1.663746,-0.974958 3.132571,-1.773733 3.264053,-1.775055 0.293397,-0.003 2.047816,1.9661033 3.68139,4.1317577 L 78.41661,8.60408 80.230976,8.62604 82.045342,8.648 83.429968,6.8110496 c 1.765439,-2.3421611 3.221327,-3.9544456 3.570855,-3.9544456 0.150387,0 1.646909,0.784909 3.325609,1.7442416 l 3.052177,1.7442423 -0.129686,0.7261694 c -0.07132,0.3993958 -0.623386,1.9565287 -1.226798,3.4602977 -0.603412,1.503769 -1.095337,2.910391 -1.093164,3.125828 0.0022,0.215436 0.347335,0.981495 0.767033,1.702355 0.743762,1.277458 0.788352,1.314127 1.760634,1.447882 3.761664,0.517479 5.644104,0.822076 6.061664,0.980832 l 0.4817,0.183143 0,3.728047 0,3.728042 -0.85708,0.237643 c -0.47139,0.130704 -2.16853,0.429137 -3.771421,0.663189 l -2.91434,0.425546 -0.755119,1.310832 c -0.415316,0.720957 -0.760048,1.487097 -0.76607,1.702533 -0.006,0.215437 0.482751,1.622059 1.086163,3.125828 0.603412,1.503769 1.155455,3.060812 1.22676,3.460096 l 0.12965,0.725972 -2.934651,1.660848 c -1.614058,0.913465 -3.108071,1.706198 -3.320029,1.761624 -0.417922,0.109286 -1.810009,-1.382822 -3.980255,-4.266255 l -1.140774,-1.515658 -1.691705,0 c -1.36795,0 -1.746335,0.06754 -1.977172,0.352916 -0.157009,0.194104 -0.831708,1.040812 -1.499333,1.881573 -1.7497,2.203451 -3.053468,3.616029 -3.322013,3.599259 -0.128367,-0.008 -1.594642,-0.803605 -3.258388,-1.767976 z M 83.164821,28.095252 c 1.447052,-0.68458 2.90271,-2.078252 3.555684,-3.404272 0.401423,-0.81519 0.473679,-1.269557 0.473679,-2.97859 0,-1.857147 -0.04717,-2.101834 -0.59644,-3.093431 -0.807609,-1.457994 -2.455694,-2.925058 -3.891308,-3.463898 -1.588177,-0.596103 -3.945394,-0.510046 -5.393901,0.196917 -1.292988,0.631063 -2.905237,2.248059 -3.5267,3.537085 -0.394256,0.817756 -0.487248,1.332308 -0.492015,2.722494 -0.0068,1.991909 0.516237,3.392037 1.796715,4.809375 1.455281,1.610819 2.899339,2.227288 5.246996,2.239937 1.365779,0.0073 1.799601,-0.07943 2.82729,-0.565617 z"},about:{d:"m 44.741171,99.040558 c -7.029936,-3.240982 -7.073214,-15.144034 -0.147641,-18.54893 5.052025,-3.03078 12.018859,-0.450196 14.169695,5.177246 1.302489,4.214446 0.51274,9.818991 -3.284241,12.443047 -3.015931,2.216009 -7.392182,2.422159 -10.737802,0.928637 z M 41.465804,70.420571 C 40.502738,63.119108 41.732941,55.037182 46.384036,49.211327 50.753656,43.356102 58.061644,40.18437 61.214814,33.324269 63.448268,27.378073 61.991751,18.719424 55.535616,16.414682 49.682541,14.370935 42.114654,16.27465 39.465565,22.566816 37.185634,25.538002 38.309015,31.244667 35.808452,33.167801 29.877096,33.433445 23.936781,33.154051 18.001608,33.132411 17.900983,22.659788 22.527676,12.149116 30.719228,5.9129135 36.97636,0.91450745 45.110929,-0.39316355 52.810819,0.09532345 63.3503,0.10002345 74.73273,4.9122015 79.757499,15.055313 85.3984,25.849652 82.668158,40.68647 73.044046,48.049932 67.799153,52.748329 60.396355,56.522436 58.91332,64.226881 c -0.401445,2.061458 -0.449856,4.170808 -0.641058,6.259268 -5.599521,0.0059 -11.221779,0.384401 -16.806458,-0.06559 z"},escala:{d:"m 52.22365,12.87022 -0.48108,9.96365 -0.49177,9.95296 1.53945,0.19243 c 3.42422,0.41835 7.4537,1.59784 10.49818,3.0789 1.76921,0.86066 3.67659,2.162785 3.77379,2.416076 0.0993,0.258695 -2.7232,3.266866 -5.95467,7.355142 -3.31155,4.117354 -11.13962,13.320504 -11.13962,13.320504 -2.27578,0.596793 -3.11003,2.075253 -3.1858,4.543511 0.10268,0.137089 -4.25487,6.018816 -4.25487,6.018816 l 2.3947,0.138978 L 45.5634,72 c 1.60025,-2.104919 4.14795,-6.09365 4.14795,-6.09365 2.5567,-0.538117 3.25457,-1.416884 3.84862,-4.19072 L 67.46846,38.709429 c 0,0 1.13472,0.64872 1.7105,1.133205 l 1.04768,0.87663 1.8281,-1.988454 c 1.00524,-1.09599 4.03768,-4.44018 6.74577,-7.42998 L 83.72889,25.87 82.02908,24.31986 C 78.94071,21.50753 73.62211,18.32253 68.51614,16.22707 65.04961,14.80442 58.74575,13.29741 55.33462,13.07334 l -3.11097,-0.20312 z m -5.94398,0.0962 c -4.70065,0 -13.92377,2.56381 -19.07206,5.30255 -3.51815,1.87155 -6.91211,4.13019 -9.14047,6.09365 l -1.69981,1.50737 4.60765,5.05666 c 2.53603,2.78467 5.54202,6.10743 6.67095,7.387216 2.12474,2.408666 2.37326,2.598049 2.73679,2.009836 0.43313,-0.700815 3.86478,-3.025932 6.17918,-4.190722 2.89963,-1.45932 5.96438,-2.42826 9.47188,-2.99337 2.51828,-0.40573 2.6443,-0.47664 2.65127,-1.32564 0.004,-0.49161 -0.17558,-4.92837 -0.40624,-9.86743 l -0.41693,-8.98012 -1.58221,0 z M 13.16015,29.0558 c -0.12755,0.009 -0.91726,0.86221 -1.76396,1.89223 C 4.73959,39.045922 0.77935,49.171243 0.20312,59.588188 L 0,63.28714 l 10.05987,-0.106906 10.05986,-0.09622 0.21382,-2.426769 c 0.2169,-1.546496 -0.006,-5.169139 2.07398,-9.06564 1.00863,-2.457179 2.6849,-5.316444 4.37246,-7.451358 l 1.3684,-1.73188 -7.37653,-6.681627 c -4.05815,-3.6755 -7.48417,-6.68008 -7.61171,-6.67094 z m 73.86145,0.0535 c -0.15553,-0.0549 -1.35423,0.86875 -2.66197,2.0526 -1.30774,1.18384 -4.63013,4.19946 -7.38721,6.703011 l -5.0139,4.554201 1.3684,1.731879 c 1.81569,2.297022 3.47304,5.174251 4.42591,7.66517 1.25037,3.38042 1.75689,7.459695 2.28779,11.203764 0.12544,0.125437 4.66681,0.235193 10.09194,0.235193 l 9.86744,0 -0.0107,-2.309173 C 99.9833,53.509103 97.28013,44.285611 92.99764,37.12726 91.21355,34.14508 87.6181,29.31993 87.02159,29.1093 z M 50.05345,61.159758 c 0.68469,0 1.24011,0.55542 1.24011,1.240111 0,0.684691 -0.55542,1.240111 -1.24011,1.240111 -0.68469,0 -1.24011,-0.55542 -1.24011,-1.240111 0,-0.684691 0.55542,-1.240111 1.24011,-1.240111 z"},home:{d:"m 15.321679,90.65805 -0.0828,-16.08338 c -0.04554,-8.845859 -0.01207,-16.471518 0.07438,-16.945909 0.128273,-0.703853 3.005609,-3.517468 15.640797,-15.29443 19.999251,-18.640825 18.342511,-17.153263 18.804489,-16.884276 0.215115,0.125251 8.163575,7.485632 17.663249,16.356402 l 17.272131,16.128671 0.0046,16.456102 0.0046,16.45608 -0.736586,0.57939 c -0.72288,0.56862 -0.949184,0.57805 -12.166025,0.50683 L 60.37108,91.86103 60.29905,77.27705 C 60.226968,62.752671 60.22421,62.690381 59.624549,62.052069 l -0.602129,-0.640933 -8.989142,0 c -8.618373,0 -9.012085,0.02295 -9.545308,0.55616 -0.541639,0.54164 -0.556161,0.926934 -0.556161,14.756554 0,9.2569 -0.100212,14.38764 -0.287863,14.73827 C 39.366632,91.98028 38.94417,92 28.119108,92 L 16.882137,92 C 16.361984,91.55269 15.841831,91.10537 15.321679,90.65805 z M 71.77195,37.505807 C 57.652685,24.321802 50.380336,17.714193 49.861889,17.59847 49.366963,17.487997 48.843902,17.58379 48.417886,17.862931 47.851646,18.233943 12.755196,50.80204 8.64561,54.770005 7.788958,55.597135 6.893541,56.186461 6.318807,56.301407 5.418552,56.481459 5.290042,56.388067 2.788202,53.735687 1.3602137,52.221772 0.12063335,50.699478 0.03357755,50.352809 -0.05347815,50.006143 0.03469055,49.425152 0.22935465,49.061718 0.72516385,48.136377 47.979391,4.126663 48.828018,3.799876 c 0.487125,-0.187579 0.917463,-0.158049 1.449384,0.09946 0.416103,0.201436 8.734346,7.811856 18.484982,16.912041 C 100.92931,50.83248 99.9972,49.935668 99.9972,50.864223 c 0,0.84308 -0.62011,1.660202 -3.73061,4.915785 -2.53042,2.648445 -0.32841,4.29125 -24.49464,-18.274197 z m 4.449373,-17.990241 -7.786256,-7.376346 -0.08644,-1.573135 c -0.227865,-4.147321 -0.09761,-4.2149 8.123876,-4.2149 6.644549,0 7.386718,0.12134 7.921526,1.29511 0.466665,1.024227 0.429825,19.289336 -0.03886,19.264234 -0.19118,-0.01024 -3.851416,-3.337974 -8.133856,-7.394963 z"},biodiversidad:{d:"m 41.925964,96.94976 c -0.27412,-5.79415 -1.67818,-11.16758 -4.36016,-16.6866 -2.55523,-5.25822 -6.29141,-10.431 -10.16821,-14.07801 -1.71319,-1.61165 -2.05416,-1.83108 -2.84527,-1.83108 -1.44413,0 -4.52328,-0.88521 -6.70161,-1.92661 -4.64468,-2.22049 -8.2064903,-5.84505 -10.8663603,-11.05781 -1.14704,-2.24794 -3.09562,-7.84326 -2.97938,-8.55526 0.0636,-0.38934 0.76379,-0.057 4.80762,2.282 4.5602603,2.63767 4.7407503,2.71828 4.9389703,2.20583 0.11316,-0.29254 1.03434,-2.52351 2.04707,-4.95772 1.01274,-2.43421 1.93732,-4.67033 2.05463,-4.96914 l 0.2133,-0.54331 1.73846,0.87588 c 0.95615,0.48174 3.36491,1.65342 5.3528,2.60374 l 3.61434,1.72784 1.64417,-5.23028 c 0.90429,-2.87666 1.71121,-5.23028 1.79317,-5.23028 0.28352,0 2.56306,5.15172 3.19067,7.21089 0.97664,3.2043 1.33506,5.50471 1.33054,8.53982 -0.008,5.66109 -1.75407,10.47249 -5.10618,14.07381 l -1.28627,1.3819 1.88909,2.05996 c 5.94519,6.48295 10.02575,13.58695 12.15018,21.15272 1.07938,3.84402 1.463124,6.30053 1.617354,10.35362 l 0.13882,3.64833 -2.031724,0 -2.03172,0 -0.1443,-3.05024 z m 8.777704,-1.04744 c 0.41792,-10.2949 2.46948,-18.30143 6.98042,-27.24203 2.72889,-5.40864 5.9463,-10.19759 9.88472,-14.71292 l 1.46067,-1.67464 -2.70708,-0.16265 c -1.48889,-0.0895 -3.61462,-0.38439 -4.72385,-0.6554 -2.1851,-0.53387 -6.30658,-2.46467 -7.61629,-3.56801 l -0.81481,-0.68643 3.35453,-1.70212 c 4.41556,-2.24049 6.47958,-2.90619 9.51911,-3.07014 1.31579,-0.071 3.03828,-0.0222 3.82775,0.10847 0.78948,0.13063 1.45798,0.21701 1.48555,0.19194 0.0276,-0.0251 -0.16711,-0.74072 -0.43263,-1.59033 -1.71744,-5.49536 -1.69809,-10.5903 0.0584,-15.36963 0.27988,-0.76157 0.58975,-1.35368 0.6886,-1.31579 0.0988,0.0379 0.96158,0.93014 1.91719,1.98277 3.74063,4.1204 5.55006,7.11564 6.35102,10.51314 l 0.41016,1.7398 1.81829,-1.46753 c 2.33938,-1.88809 4.4487,-3.05788 7.13939,-3.95934 1.84743,-0.61895 5.73184,-1.3032 6.01482,-1.05953 0.12401,0.10678 -0.80846,2.61671 -1.92875,5.1916 -1.59464,3.66517 -3.09284,5.66605 -6.21028,8.29395 l -1.34858,1.13681 1.2691,0.52601 c 3.19406,1.32386 7.53793,4.91668 9.64209,7.97496 0.66875,0.972 0.70863,1.11554 0.33893,1.22007 -1.29577,0.36637 -5.88892,0.67577 -8.56921,0.57723 -2.71518,-0.0998 -3.3573,-0.20834 -5.24691,-0.88676 -3.23493,-1.16141 -3.07966,-1.21729 -3.27973,1.18045 -0.4256,5.10052 -3.05168,10.81195 -6.46949,14.07045 l -0.83171,0.79294 -1.09853,-3.3049 c -1.36895,-4.11845 -1.90608,-7.04457 -1.69356,-9.22596 0.0865,-0.88815 0.0954,-1.61483 0.0198,-1.61483 -0.0756,0 -0.83027,0.88816 -1.67695,1.97369 -4.76325,6.10698 -8.97373,14.29523 -11.02003,21.43101 -1.34319,4.68394 -2.00323,9.04264 -2.22501,14.69339 L 54.842858,100 l -2.15276,0 -2.15277,0 0.16635,-4.09768 z m 28.3757,-43.2901 c 3.08,-1.39421 4.41048,-4.814 3.01739,-7.75576 -1.04256,-2.20157 -2.90942,-3.47013 -5.10301,-3.46757 -1.92497,0.002 -2.95196,0.42365 -4.28767,1.75935 -1.3357,1.33571 -1.7571,2.3627 -1.75935,4.28767 -0.005,3.97666 4.47877,6.83029 8.13264,5.17631 z m -4.18607,-1.31447 c -1.57044,-0.81885 -2.50199,-2.32637 -2.50199,-4.04895 0,-1.07915 0.64827,-2.66605 1.34006,-3.28035 1.24119,-1.10214 3.2566,-1.42593 4.81741,-0.77394 2.2712,0.94873 3.2663,3.23875 2.46388,5.6701 -0.31261,0.94724 -1.5252,2.19346 -2.48714,2.55612 -0.98089,0.36981 -2.8056,0.30803 -3.63222,-0.12298 z M 40.033974,23.67286 c -0.51495,-0.27193 -1.14261,-0.90397 -1.49522,-1.50566 -0.78655,-1.34214 -0.83191,-3.6876 -0.11613,-6.00502 0.92928,-3.00865 4.40864,-5.76235 7.977394,-6.31361 1.5741,-0.24314 4.78303,0.0307 5.86557,0.50057 0.68084,0.29551 0.68253,0.30166 0.39121,1.42303 -0.57531,2.21454 -2.28078,3.94193 -4.57304,4.6318 -1.94234,0.58456 -5.596204,0.34139 -7.879994,-0.52443 -0.36923,-0.13998 -0.30198,0.0209 0.29457,0.70482 0.42517,0.48742 0.95277,1.23378 1.17245,1.65859 0.85886,1.66085 0.6131,5.93377 -0.33987,5.90916 -0.2252,-0.006 -0.80882,-0.22148 -1.29694,-0.47925 z m -10.25289,-6.23622 c -0.46932,-0.27222 -0.98025,-0.69821 -1.1354,-0.94664 -0.24742,-0.39618 -0.13266,-0.56981 0.93373,-1.41274 2.00649,-1.58604 5.00502,-2.09647 6.76921,-1.1523 0.26837,0.14362 -0.13129,-0.42775 -0.88812,-1.26971 -0.7743,-0.8614 -1.81366,-2.40635 -2.37674,-3.53289 -0.8988,-1.79822 -0.99988,-2.17574 -0.99281,-3.70814 0.006,-1.27928 0.13927,-1.95878 0.5331,-2.71618 C 33.263844,1.46764 34.520874,0 34.934924,0 c 0.37944,0 2.04734,1.79224 2.81323,3.02295 2.61419,4.20076 2.13044,9.77499 -1.1004,12.67979 -2.44954,2.20235 -4.9643,2.83735 -6.86667,1.7339 z"},coexistencia:{d:"M 80,9 9,100 23,100 83,9 z M 27,0 c -4,2 -7,6 -9,11 -1,5 0,10 3,14 0,1 2,0 3,-0 C 30,23 32,17 32,12 32,7 30,3 27,0 z M 2,19 C 1,19 0,19 0,20 c 0,6 5,13 12,14 1,0 3,0 4,-0 3,0 3,-3 2,-5 C 18,23 12,19 7,19 5,19 4,19 2,19 z m 34,3 c -4,0 -9,2 -11,7 -2,3 2,4 4,4 6,0 12,-4 14,-10 -1,-1 -4,-1 -7,-1 z m -14,6 c -0,0 -0,0 -0,0 -1,7 0,15 3,23 1,3 3,7 7,10 3,0 4,-3 1,-4 C 28,51 23,42 23,33 23,32 24,28 23,28 z m 60,5 c -4,2 -7,6 -9,11 -1,5 0,10 3,14 0,1 2,0 3,-0 4,-2 7,-8 6,-13 -0,-4 -1,-9 -5,-12 z m -50,2 c -1,-0 -3,0 -4,1 -1,0 -3,5 -0,5 3,1 6,-2 7,-5 -0,-0 -1,-1 -2,-1 z m -20,1 c -2,0 -4,1 -5,2 0,2 2,4 5,4 2,0 4,-0 6,-1 3,-1 -1,-4 -2,-4 -1,-0 -2,-0 -3,-0 z m 46,14 c -1,0 -2,0 -2,1 0,6 5,13 12,14 1,0 3,0 4,-0 3,0 3,-3 2,-5 C 75,57 69,54 63,53 62,53 60,53 59,53 z m 34,3 c -4,0 -9,3 -11,7 -2,3 2,4 4,4 6,0 12,-4 14,-10 -1,-1 -4,-1 -7,-1 z m -14,6 c -0,0 -0,0 -0,0 -1,7 0,16 3,23 1,3 3,7 7,11 3,0 4,-3 1,-4 -5,-6 -10,-15 -10,-24 -0,-1 0,-5 -0,-4 z m 10,8 c -1,-0 -3,0 -4,1 -1,0 -3,5 -0,5 3,1 6,-2 7,-5 -0,-0 -1,-1 -2,-1 z m -20,1 c -2,0 -4,1 -5,2 0,2 2,4 5,4 2,0 4,-0 6,-1 3,-1 -1,-4 -2,-4 -1,-0 -2,-0 -3,-0 z"},nacional:{d:"m 49.278285,98.254279 c -0.412014,-0.95103 -1.102996,-1.82168 -1.535507,-1.93479 -0.442742,-0.11578 -0.786382,-0.61102 -0.786382,-1.13329 0,-0.77024 0.186271,-0.8809 1.097722,-0.65214 1.337224,0.33562 1.437301,-0.27456 0.174393,-1.06326 -0.692715,-0.43261 -0.875705,-0.9011 -0.732654,-1.87577 0.130989,-0.89248 0.04891,-1.15738 -0.262211,-0.84626 -0.871824,0.87182 -1.663414,0.49402 -1.58108,-0.75461 0.04378,-0.66412 0.03399,-1.35569 -0.02178,-1.53681 -0.16284,-0.52879 -0.378433,-2.50175 -0.670919,-6.13978 -0.265679,-3.30461 -0.243909,-3.40872 0.81336,-3.89045 1.358967,-0.61918 2.285984,-2.41342 1.41885,-2.74618 -0.324526,-0.12453 -1.004289,-0.11809 -1.51058,0.0143 -0.714389,0.18681 -0.920528,0.0384 -0.920528,-0.66275 0,-0.49691 0.198108,-1.02591 0.440244,-1.17556 0.682361,-0.42175 2.194271,-3.99811 2.194271,-5.19051 0,-1.3945 1.213361,-2.49326 1.765946,-1.59915 0.530608,0.85854 0.867191,0.38204 1.135606,-1.6077 0.183917,-1.36334 0.13228,-1.54846 -0.260138,-0.93258 -0.522621,0.82022 -1.218208,0.96188 -2.06857,0.42127 -0.378819,-0.24083 -0.411759,-0.81933 -0.118382,-2.078945 0.22357,-0.959896 0.513971,-3.093284 0.645333,-4.740864 0.131358,-1.64758 0.510291,-3.42589 0.842072,-3.9518 0.47786,-0.757463 0.511653,-1.56911 0.162581,-3.905129 -0.368865,-2.4685 -0.331578,-3.058012 0.228884,-3.61847 0.368246,-0.368246 0.900088,-1.412307 1.181873,-2.320136 0.281781,-0.907829 0.791678,-2.273229 1.133095,-3.034223 0.341423,-0.760994 0.620766,-1.666614 0.620766,-2.012489 0,-0.345874 0.148193,-0.777192 0.329317,-0.958474 0.181124,-0.181282 0.378109,-2.140716 0.437741,-4.354299 0.16263,-6.036791 0.38927,-8.152105 1.18392,-11.050112 0.397323,-1.448994 0.795783,-4.355334 0.885471,-6.458535 0.08969,-2.103202 0.322572,-4.079101 0.517519,-4.390889 0.194951,-0.311788 0.359816,-2.7403756 0.366371,-5.3968636 0.0094,-3.810375 0.168215,-5.050717 0.752322,-5.87565003 0.929902,-1.313298 1.936312,-0.980962 2.320035,0.76611903 0.159047,0.724128 0.575681,1.554374 0.925854,1.844992 0.360563,0.299243 0.617733,1.216907 0.592994,2.116012 -0.0695,2.526061 1.070302,5.9161396 2.155804,6.4119416 0.934113,0.426654 1.244852,1.770324 0.612924,2.650327 -0.177428,0.247076 -0.875794,0.801442 -1.551925,1.231924 -0.873018,0.555836 -1.154189,1.019433 -0.970087,1.599488 0.14258,0.449238 0.08205,0.926306 -0.13452,1.060152 -0.216563,0.133845 -0.29826,1.237219 -0.181537,2.451941 0.176237,1.834154 0.09109,2.208585 -0.502282,2.208585 -0.392976,0 -0.714499,0.231429 -0.714499,0.514287 0,0.282858 -0.295375,0.840671 -0.656385,1.239585 -0.361014,0.398914 -0.773306,1.698807 -0.916211,2.888652 -0.142902,1.189844 -0.536259,2.901235 -0.87413,3.803091 -0.405999,1.083705 -0.483055,1.97707 -0.227237,2.634531 1.38529,3.560313 1.452339,4.451896 0.513853,6.832859 -0.502432,1.274679 -0.913511,2.780061 -0.913511,3.3453 0,0.565234 -0.319868,1.293165 -0.710815,1.617625 -0.566464,0.470123 -0.662041,1.127519 -0.470633,3.23716 0.16843,1.856394 0.06762,2.843993 -0.337435,3.305865 -0.800683,0.912985 -1.478715,4.68233 -1.235241,6.867008 0.111406,0.999616 -0.0092,2.213188 -0.26805,2.696818 -0.355571,0.664385 -0.302133,1.217048 0.218596,2.260876 0.37906,0.75985 0.568734,1.69548 0.421498,2.07917 -0.155433,0.40505 0.05081,0.93054 0.491749,1.25297 0.605486,0.44274 0.652315,0.68443 0.230983,1.1921 -0.290664,0.35023 -0.398166,0.76709 -0.2389,0.92636 0.159267,0.15927 0.07403,0.73386 -0.189405,1.27687 -0.26344,0.543 -0.580186,2.13707 -0.703882,3.54237 -0.123691,1.4053 -0.413015,2.78843 -0.642935,3.07362 -0.22992,0.2852 -0.561898,1.39 -0.737726,2.45512 -0.175829,1.06512 -0.741543,2.35635 -1.257143,2.86939 -0.687542,0.68414 -0.901546,1.36055 -0.802768,2.53732 0.11541,1.3749 0.303906,1.62403 1.317266,1.74103 1.051658,0.12142 1.169439,0.30051 1.063825,1.61753 -0.164575,2.05233 0.399966,2.53422 3.361383,2.86927 1.413067,0.15987 2.680462,0.40193 2.816435,0.5379 0.521365,0.52136 -0.298844,1.53683 -1.721426,2.13122 -1.041642,0.43522 -1.498641,0.92083 -1.534204,1.63022 -0.02784,0.5557 -0.09655,1.20794 -0.152666,1.44945 -0.05611,0.2415 -0.132109,0.70911 -0.168896,1.03914 -0.0452,0.40557 -0.447743,0.52724 -1.242046,0.37539 -0.694059,-0.13267 -1.425945,0.0262 -1.787719,0.3879 -1.133034,1.133041 -2.261874,0.720841 -3.057912,-1.1166 z m 1.629911,-36.325212 c 0,-1.881843 -0.203685,-1.8181 -0.584585,0.182955 -0.156083,0.819976 -0.08952,1.427039 0.156474,1.427039 0.235461,0 0.428111,-0.724497 0.428111,-1.609994 z"},local:{d:"M 43.853472,80.39474 C 37.781936,63.85293 35.927052,60.2862 31.982776,57.56865 16.802936,47.10996 15.884023,20.20152 30.291863,8.05375 37.110878,2.30441 43.286385,0 51.874907,0 c 18.355058,0 31.820405,13.49228 31.820405,31.88406 0,10.10917 -3.665594,18.27517 -11.095753,24.71856 C 67.673965,60.87406 65.816298,64.36465 59.723544,80.7971 55.807559,91.3587 52.253878,100 51.826486,100 51.39911,100 47.81124,91.17764 43.853472,80.39474 z M 61.40911,53.77343 C 81.926182,44.45504 79.777936,15.14752 58.101791,8.65319 49.105197,5.95774 42.172356,7.87188 35.017544,15.0267 25.05024,24.994 24.665791,37.5702 34.012168,47.91551 c 7.731115,8.55742 17.060956,10.5523 27.396942,5.85792 z"},gem:{d:"M 15.458369,99.49211 C 15.059558,99.21278 14.552636,98.54756 14.331871,98.01385 14.033979,97.29368 13.954355,85.42944 14.023067,52.000002 L 14.115647,6.956523 14.930225,5.429456 C 15.999668,3.424597 17.507081,2.043479 19.854778,0.917507 L 21.767822,0 54.57894,0 l 32.811123,0 1.014969,1.135923 1.014969,1.135923 0,44.369096 0,44.369098 -1.016725,1.01672 c -0.559194,0.5592 -1.341802,1.01672 -1.739128,1.01672 l -0.722409,0 0,-44.695652 0,-44.695655 -32.295665,0 -32.295668,0 -1.791291,2.059494 c -0.98521,1.13272 -1.791293,2.150113 -1.791293,2.260869 0,0.110756 1.017391,0.201375 2.260869,0.201375 l 2.26087,0 0.0094,12.260872 0.0094,12.26087 1.268156,-1.391304 c 0.697485,-0.765217 1.886,-2.073457 2.641141,-2.907204 l 1.372985,-1.515899 2.914664,2.899524 2.914665,2.899523 0,-12.616825 0,-12.616829 0.853756,-0.853757 c 1.302179,-1.302167 3.033602,-0.957109 3.676033,0.732612 l 0.32254,0.848417 21.426669,0 21.426671,0 0.986928,0.986933 c 0.658608,0.658609 1.059973,1.497514 1.206483,2.521738 0.120758,0.844146 0.173295,20.604195 0.116753,43.911222 L 83.333037,97.97021 82.197114,98.98511 81.061196,100 48.622333,100 C 20.743974,100 16.081532,99.9286 15.458364,99.49211 z"},translate:{d:"m 24.747886,12.257296 0,14.554375 -24.26410733,0 0,9.70291 24.26410733,0 C 23.777457,40.881501 18.438089,59.80515 0,73.391115 l 5.8190229,7.767784 C 18.919773,71.45464 26.685203,59.320443 30.566909,50.101399 33.9634,56.409166 38.817468,64.661571 46.095665,71.939768 L 49.48896,61.262467 C 40.75512,51.073004 36.390218,40.396287 34.934585,36.514581 l 22.805939,0 3.393296,-9.70291 -26.683013,0 0,-14.554375 -9.702921,0 z M 66.768875,26.791234 46.225133,88 l 9.614328,0 5.682753,-17.491142 23.173883,0 L 90.37885,88 100,88 79.885528,26.791234 l -13.116653,0 z m 6.561727,8.742154 8.742165,26.233306 -17.484329,0 8.742164,-26.233306 z"},warn:{d:"m 14.094795,83.86773 c -0.492839,-0.19902 -1.2967,-1.121807 -1.709562,-1.962503 -0.311431,-0.634137 -0.386847,-0.981734 -0.385207,-1.775329 l 0.0024,-0.986803 5.972387,-10.643394 C 21.259624,62.645837 28.944445,48.975071 35.0522,38.120218 41.159955,27.265369 46.727199,17.369128 47.423861,16.128575 c 1.391403,-2.477685 1.800898,-2.917922 3.201568,-3.441982 1.114527,-0.416998 2.063523,-0.384053 3.10303,0.10772 0.466515,0.220704 1.072418,0.617138 1.346449,0.880964 0.296549,0.285507 1.374176,2.04904 2.662042,4.35642 1.190088,2.132203 7.537288,13.424069 14.104889,25.09303 6.567601,11.668965 13.789928,24.52187 16.049624,28.562016 C 91.999321,79.031242 92,79.032598 92,79.875961 c 0,1.653997 -0.829356,3.324352 -1.912393,3.851629 -0.566926,0.27601 -0.981116,0.278946 -38.132942,0.270104 -20.657892,-0.005 -37.694663,-0.0634 -37.859502,-0.129964 z m 39.072658,-7.125798 c 2.935784,-0.755067 4.094097,-3.585779 2.300887,-5.622968 -2.548998,-2.895818 -8.062479,-1.469498 -8.054543,2.083684 0.0056,2.544101 2.841224,4.288342 5.753656,3.539284 z m -0.0108,-12.389664 c 0.580195,-0.242417 1.578709,-1.131383 1.8414,-1.639373 0.476847,-0.922124 1.835056,-17.530861 1.99558,-24.402761 l 0.08777,-3.757308 -0.371625,-0.634128 c -0.493622,-0.842306 -1.48046,-1.691207 -2.615692,-2.250078 -0.860752,-0.423746 -1.026347,-0.455678 -2.339016,-0.451058 -1.139357,0.004 -1.572075,0.06829 -2.236485,0.332255 -0.978877,0.388897 -2.110361,1.275855 -2.698775,2.115551 l -0.424646,0.605978 0.01432,3.052212 c 0.008,1.678719 0.09023,4.194089 0.183023,5.589711 0.526774,7.922473 1.493651,18.685856 1.734914,19.313176 0.446318,1.160488 1.394909,2.078582 2.417903,2.340171 0.570933,0.145991 1.813235,0.03556 2.411349,-0.214348 z"}}}),angular.module("flujogenico20App").factory("Pollinator",["$http","$q",function(a,b){var c=function(a){var b={_id:a._id,general:{taxonomy:{local:[]}},properties:[]};for(var c in a)switch(c){case"orden":b.general.taxonomy.local.push({id:"ord",name:"orden "+a[c],altName:a[c],description:""});break;case"familia":b.general.taxonomy.local.push({id:"fam",name:a[c],altName:a[c],description:""});break;case"taxa":b.name=a[c];break;case"endemismo":1===a[c]&&b.properties.push({id:"en",name:"Endémico",altName:"Especie endémica",description:""});break;case"introducida":1===a[c]&&b.properties.push({id:"in",name:"Introducida",altName:"Especie introducida",description:""});break;case"polilectica":1===a[c]&&b.properties.push({id:"plt",name:"Poliléctico",altName:"Especie poliléctica",description:""});break;case"oligolectica":1===a[c]&&b.properties.push({id:"ol",name:"Oligoléctico",altName:"Especie oligoléctica",description:""})}return b};return{paginate:function(d,e){var f=b.defer();return a.get("/api/fauna/"+d+"/"+e).success(function(a){var b=a.pollinators.map(c);a.pollinators=b,f.resolve(a)}).error(function(a,b){f.reject(a),console.log("Error en FLora.paginate"),console.error(a,b)}),f.promise},searchSN:function(c){var d=b.defer();return a.get("/api/fauna/search/"+c).success(function(a){d.resolve(a.map(function(a){return{_id:a._id,name:a.taxa}}))}).error(function(a,b){d.reject(a),console.error(a,b)}),d.promise},get:function(d){var e=d.id,f=b.defer();return a.get("/api/fauna/"+e).success(function(a){f.resolve(c(a))}).error(function(a,b){f.reject(a),console.error(a,b)}),f.promise}}}]),angular.module("flujogenico20App").factory("TextContent",["$http","$q",function(a,b){function c(a){var b=a.split(", "),c={};return b.map(function(a){var b=a.split(": ");return c[b[0]]=b[1],b}),c}var d="es",e=this;return{setLang:function(b){var c=this;b||(c.langStr=d),a.get("https://spreadsheets.google.com/feeds/cells/1VmziNKfbmyMgtmZVC-7IjvkNNnxw0UssD_NL8I1H6GE/od6/public/basic?alt=json").success(function(a){var e=[];a.feed.entry.forEach(function(a){var b,c=a.title.$t[0],d=a.title.$t.replace(/\w/,""),f=a.content.$t;"A"===c&&(b="section"),"B"===c&&(b="name"),"C"===c&&(b="es"),"D"===c&&(b="en"),e[d]||(e[d]={}),e[d][b]=f}),e.forEach(function(a){c[a.section]||(c[a.section]={}),a[b]?c[a.section][a.name]=a[b]:c[a.section][a.name]=a[d]})}).error(function(a){console.log("FUQUIN ERROR")})},content:function(){var f=b.defer();return a.get("https://spreadsheets.google.com/feeds/cells/1VmziNKfbmyMgtmZVC-7IjvkNNnxw0UssD_NL8I1H6GE/od6/public/basic?alt=json").success(function(a){var b={},g=[],h=[];a.feed.entry.forEach(function(a){var b="section: "+a.title.$t+", "+a.content.$t;g.push(c(b))}),a.feed.entry.forEach(function(a){var b,c=a.title.$t[0],d=a.title.$t[1],e=a.content.$t;"A"===c&&(b="section"),"B"===c&&(b="name"),"C"===c&&(b="es"),"D"===c&&(b="en"),h[d]||(h[d]={}),h[d][b]=e}),h.forEach(function(a){b[a.section]||(b[a.section]={}),a[e.langStr]?b[a.section][a.name]=a[e.langStr]:b[a.section][a.name]=a[d]}),f.resolve(b)}),f.promise}}}]),angular.module("flujogenico20App").factory("Flora",["$resource",function(a){var b=a("/api/flora/:id",{id:"@_id"},{searchSN:{method:"GET",url:"/api/flora/search/:name",
isArray:!0},getMatchSp:{method:"GET",url:"/api/flora/match/:id/:type",isArray:!0},paginate:{method:"GET",url:"/api/flora/:type/pagination/:p/:i",isArray:!1,transformResponse:function(a,c){var d=angular.fromJson(a),e=d.flora.map(function(a){return new b(a)});return d.flora=e,d}},getList:{method:"GET",url:"/api/flora/list/:type",isArray:!0}});return b.prototype.underscoreSp=function(){var a=this.general.taxonomy.local.map(function(a){return a.id}).indexOf("gen"),b=this.general.taxonomy.local.map(function(a){return a.id}).indexOf("sp"),c=this.general.taxonomy.local.map(function(a){return a.id}).indexOf("var"),d=this.general.taxonomy.local.map(function(a){return a.id}).indexOf("spp"),e="";return-1!==a&&(e+=this.general.taxonomy.local[a].name),-1!==b&&(e+="_"+this.general.taxonomy.local[b].name),-1!==c&&(e+="_"+this.general.taxonomy.local[c].name),-1!==d&&(e+="_"+this.general.taxonomy.local[d].name),e.toLowerCase()},b.prototype.getTax=function(a){var b=this.general.taxonomy.local.map(function(a){return a.id}).indexOf(a),c="";return-1!==b&&(c=this.general.taxonomy.local[b].name,c=c[0].toUpperCase()+c.substring(1)),c},b.prototype.getVernacular=function(){var a=this;if(this.general.vernacularNames&&0!==this.general.vernacularNames.length){var b="";return this.general.vernacularNames.forEach(function(c,d){b+=c.name,b+=a.general.vernacularNames.length-1!==d?", ":"."}),b}},b}]),angular.module("flujogenico20App").controller("FloraCtrl",function(){}),angular.module("flujogenico20App").config(["$stateProvider",function(a){a.state("main.flora",{url:"/flora-vascular-chilena","abstract":!0,templateUrl:"app/main/Flora/flora/flora.html",controller:"FloraCtrl",controllerAs:"floraCtrl"}).state("main.flora.spsearch",{url:"/search",views:{mainflora:{templateUrl:"app/main/Flora/flora/spSearch/spSearch.html",controller:"FloraSpsearchCtrl",controllerAs:"fspSCtrl"}}}).state("main.flora.tables",{url:"",views:{mainflora:{templateUrl:"app/main/Flora/flora/tables/tables.html",controller:"FloraTablesCtrl",controllerAs:"ftSCtrl"}}})}]),angular.module("flujogenico20App").controller("FloraSpsearchCtrl",["Flora",function(a){var b=this;this.querySearch=function(b){return 0===b.length?[]:a.searchSN({name:b}).$promise},this.submitSpSearch=function(){var c=b.spDonorSelected;a.get({id:c._id}).$promise.then(function(a){b.selectedSp=a}),console.log(b.selectedSp)}}]),angular.module("flujogenico20App").controller("FloraTablesCtrl",["Flora",function(a){var b=this;b.pageSize=5,b.getPage=function(c,d){b[c]||(b[c]={}),b[c].currentPage||(b[c].currentPage=1),a.paginate({type:c,p:d,i:b.pageSize},function(a){b[c].sp=a.flora,b[c].currentPage=a.currentPage,b[c].totalItems!==a.totalItems&&(b[c].totalItems=a.totalItems)})},b.getPage("cultivated",1),b.getPage("transgenic",1),b.getPage("introduced",1),b.getPage("native",1)}]),angular.module("flujogenico20App").controller("PollinatorsCtrl",function(){}),angular.module("flujogenico20App").config(["$stateProvider",function(a){a.state("main.fauna",{"abstract":!0,url:"/pollinators",templateUrl:"app/main/Pollinators/Pollinators.html",controller:"PollinatorsCtrl"}).state("main.fauna.table",{url:"",views:{mainfauna:{templateUrl:"app/main/Pollinators/pollinator.table.html",controller:["Pollinator",function(a){var b=this;b.pageSize=5,b.getPage=function(c){var d="Pollinators";b[d]||(b[d]={}),b[d].currentPage||(b[d].currentPage=1),a.paginate(c,b.pageSize).then(function(a){b[d].sp=a.pollinators,b[d].currentPage=a.currentPage,b[d].totalItems!==a.totalItems&&(b[d].totalItems=a.totalItems)})},b.getPage(1)}],controllerAs:"ptCtrl"}}}).state("main.fauna.search",{url:"/search",views:{mainfauna:{templateUrl:"app/main/Pollinators/pollinator.search.html",controller:["Pollinator",function(a){var b=this;this.querySearch=function(b){return 0===b.length?[]:a.searchSN(b)},this.submitSpSearch=function(){var c=b.spDonorSelected;a.get({id:c._id}).then(function(a){b.selectedSp=a})}}],controllerAs:"psCtrl"}}})}]),angular.module("flujogenico20App").controller("HomeCtrl",function(){}),angular.module("flujogenico20App").controller("MainCtrl",["$scope","$mdIcon","$mdSidenav","$mdUtil","$timeout","$log","$http","$q","$state","TextContent","$mdTheming","mdThemeColors","$sce",function(a,b,c,d,e,f,g,h,i,j,k,l,m){function n(a){var b=d.debounce(function(){c(a).toggle().then(function(){})},300);return b}var o=this;o.isOpen=!1,o.demo={isOpen:!1,count:0,selectedAlignment:"md-left"},j.setLang(),o.apply=function(){a.$apply()},o.tc=j,o.colors={footer:l.getColorFactory("background","footer")["default"],flora:l.getColorFactory("background","flora")["default"],fauna:l.getColorFactory("background","fauna")["default"],settings:l.getColorFactory("background","settings")["default"],main:l.getColorFactory("background","main")["default"],cira:l.getColorFactory("background","cira")["default"],other:l.getColorFactory("background","settings")["default"],about:l.getColorFactory("background","about")["default"],tool:l.getColorFactory("background","tool")["default"],escala:l.getColorFactory("background","escala")["default"],reachIcon:l.getColorFactory("primary","other")["default"]},o.toggleLeft=n("left"),o.toggleRight=n("right"),o.landingTitle="CIRA",o.landingSubTitle="Cálculo del índice de riesgo ambiental",o.openMenu=function(){c("left").toggle()},o.goToState=function(a){i.go(a)},o.close=function(a){c(a).close().then(function(){f.debug("close LEFT is done")})},o.setLang=function(a){j.setLang(a)},o.map={center:{latitude:45,longitude:-73},zoom:8},o.sections=[{title:"home",icon:"home",sref:"main.home",color:o.colors.main},{title:"app",icon:"cira",sref:"main.application.evalType",color:o.colors.cira},{title:"flora",icon:"flora",sref:"main.flora.tables",color:o.colors.flora},{title:"fauna",icon:"fauna",sref:"main.fauna.table",color:o.colors.fauna},{title:"escala",icon:"escala",sref:"main.escala",color:o.colors.escala},{title:"settings",icon:"settings",sref:"main.settings",color:o.colors.settings}]}]),angular.module("flujogenico20App").config(["$stateProvider",function(a){a.state("main",{"abstract":!0,templateUrl:"app/main/main.html",controller:"MainCtrl",controllerAs:"mainCtrl"}).state("main.home",{url:"/",templateUrl:"app/main/home/home.html",controller:"HomeCtrl",controllerAs:"homeCtrl"}).state("map",{url:"/map",template:'<dist-map species="mapCtrl.species"></dist-map>',controller:function(){this.species=["agrostis_capillaris","agrostis_leptotricha","agrostis_magellanica"]},controllerAs:"mapCtrl"}).state("main.about",{url:"/about",templateUrl:"app/main/template.a1.html",controller:["$scope",function(a){a.hola="HOLA",a.theme="about",a.section="about",a.logo="question"}]}).state("main.escala",{url:"/escala",templateUrl:"app/main/template.a1.html",controller:["$scope",function(a){a.theme="escala",a.section="escala",a.logo="escala"}]}).state("main.settings",{url:"/settings",templateUrl:"app/main/template.a1.html",controller:["$scope",function(a){a.theme="settings",a.section="settings",a.logo="settings"}]})}]),angular.module("flujogenico20App").factory("Auth",["$location","$rootScope","$http","User","$cookieStore","$q",function(a,b,c,d,e,f){var g={};return e.get("token")&&(g=d.get()),{login:function(a,b){var h=b||angular.noop,i=f.defer();return c.post("/auth/local",{email:a.email,password:a.password}).success(function(a){return e.put("token",a.token),g=d.get(),i.resolve(a),h()}).error(function(a){return this.logout(),i.reject(a),h(a)}.bind(this)),i.promise},logout:function(){e.remove("token"),g={}},createUser:function(a,b){var c=b||angular.noop;return d.save(a,function(b){return e.put("token",b.token),g=d.get(),c(a)},function(a){return this.logout(),c(a)}.bind(this)).$promise},changePassword:function(a,b,c){var e=c||angular.noop;return d.changePassword({id:g._id},{oldPassword:a,newPassword:b},function(a){return e(a)},function(a){return e(a)}).$promise},getCurrentUser:function(){return g},isLoggedIn:function(){return g.hasOwnProperty("role")},isLoggedInAsync:function(a){g.hasOwnProperty("$promise")?g.$promise.then(function(){a(!0)})["catch"](function(){a(!1)}):a(g.hasOwnProperty("role")?!0:!1)},isAdmin:function(){return"admin"===g.role},getToken:function(){return e.get("token")}}}]),angular.module("flujogenico20App").factory("User",["$resource",function(a){return a("/api/users/:id/:controller",{id:"@_id"},{changePassword:{method:"PUT",params:{controller:"password"}},get:{method:"GET",params:{id:"me"}}})}]),angular.module("flujogenico20App").directive("mongooseError",function(){return{restrict:"A",require:"ngModel",link:function(a,b,c,d){b.on("keydown",function(){return d.$setValidity("mongoose",!0)})}}}),angular.module("flujogenico20App").controller("NavbarCtrl",["$scope","$location","Auth",function(a,b,c){a.menu=[{title:"Home",link:"/"}],a.isCollapsed=!0,a.isLoggedIn=c.isLoggedIn,a.isAdmin=c.isAdmin,a.getCurrentUser=c.getCurrentUser,a.logout=function(){c.logout(),b.path("/login")},a.isActive=function(a){return a===b.path()}}]),angular.module("flujogenico20App").factory("socket",["socketFactory",function(a){var b=io("",{path:"/socket.io-client"}),c=a({ioSocket:b});return{socket:c,syncUpdates:function(a,b,d){d=d||angular.noop,c.on(a+":save",function(a){var c=_.find(b,{_id:a._id}),e=b.indexOf(c),f="created";c?(b.splice(e,1,a),f="updated"):b.push(a),d(f,a,b)}),c.on(a+":remove",function(a){var c="deleted";_.remove(b,{_id:a._id}),d(c,a,b)})},unsyncUpdates:function(a){c.removeAllListeners(a+":save"),c.removeAllListeners(a+":remove")}}}]),angular.module("flujogenico20App").run(["$templateCache",function(a){a.put("app/account/login/login.html",'<div ng-include="\'components/navbar/navbar.html\'"></div><div class=container><div class=row><div class=col-sm-12><h1>Login</h1><p>Accounts are reset on server restart from <code>server/config/seed.js</code>. Default account is <code>test@test.com</code> / <code>test</code></p><p>Admin account is <code>admin@admin.com</code> / <code>admin</code></p></div><div class=col-sm-12><form class=form name=form ng-submit=login(form) novalidate><div class=form-group><label>Email</label><input type=email name=email class=form-control ng-model=user.email required></div><div class=form-group><label>Password</label><input type=password name=password class=form-control ng-model=user.password required></div><div class="form-group has-error"><p class=help-block ng-show="form.email.$error.required && form.password.$error.required && submitted">Please enter your email and password.</p><p class=help-block ng-show="form.email.$error.email && submitted">Please enter a valid email.</p><p class=help-block>{{ errors.other }}</p></div><div><button class="btn btn-inverse btn-lg btn-login" type=submit>Login</button> <a class="btn btn-default btn-lg btn-register" href=/signup>Register</a></div><hr><div><a class="btn btn-facebook" href="" ng-click="loginOauth(\'facebook\')"><i class="fa fa-facebook"></i> Connect with Facebook</a> <a class="btn btn-google-plus" href="" ng-click="loginOauth(\'google\')"><i class="fa fa-google-plus"></i> Connect with Google+</a> <a class="btn btn-twitter" href="" ng-click="loginOauth(\'twitter\')"><i class="fa fa-twitter"></i> Connect with Twitter</a></div></form></div></div><hr></div>'),a.put("app/account/settings/settings.html",'<div ng-include="\'components/navbar/navbar.html\'"></div><div class=container><div class=row><div class=col-sm-12><h1>Change Password</h1></div><div class=col-sm-12><form class=form name=form ng-submit=changePassword(form) novalidate><div class=form-group><label>Current Password</label><input type=password name=password class=form-control ng-model=user.oldPassword mongoose-error><p class=help-block ng-show=form.password.$error.mongoose>{{ errors.other }}</p></div><div class=form-group><label>New Password</label><input type=password name=newPassword class=form-control ng-model=user.newPassword ng-minlength=3 required><p class=help-block ng-show="(form.newPassword.$error.minlength || form.newPassword.$error.required) && (form.newPassword.$dirty || submitted)">Password must be at least 3 characters.</p></div><p class=help-block>{{ message }}</p><button class="btn btn-lg btn-primary" type=submit>Save changes</button></form></div></div></div>'),a.put("app/account/signup/signup.html",'<div ng-include="\'components/navbar/navbar.html\'"></div><div class=container><div class=row><div class=col-sm-12><h1>Sign up</h1></div><div class=col-sm-12><form class=form name=form ng-submit=register(form) novalidate><div class=form-group ng-class="{ \'has-success\': form.name.$valid && submitted,\n                                            \'has-error\': form.name.$invalid && submitted }"><label>Name</label><input name=name class=form-control ng-model=user.name required><p class=help-block ng-show="form.name.$error.required && submitted">A name is required</p></div><div class=form-group ng-class="{ \'has-success\': form.email.$valid && submitted,\n                                            \'has-error\': form.email.$invalid && submitted }"><label>Email</label><input type=email name=email class=form-control ng-model=user.email required mongoose-error><p class=help-block ng-show="form.email.$error.email && submitted">Doesn\'t look like a valid email.</p><p class=help-block ng-show="form.email.$error.required && submitted">What\'s your email address?</p><p class=help-block ng-show=form.email.$error.mongoose>{{ errors.email }}</p></div><div class=form-group ng-class="{ \'has-success\': form.password.$valid && submitted,\n                                            \'has-error\': form.password.$invalid && submitted }"><label>Password</label><input type=password name=password class=form-control ng-model=user.password ng-minlength=3 required mongoose-error><p class=help-block ng-show="(form.password.$error.minlength || form.password.$error.required) && submitted">Password must be at least 3 characters.</p><p class=help-block ng-show=form.password.$error.mongoose>{{ errors.password }}</p></div><div><button class="btn btn-inverse btn-lg btn-login" type=submit>Sign up</button> <a class="btn btn-default btn-lg btn-register" href=/login>Login</a></div><hr><div><a class="btn btn-facebook" href="" ng-click="loginOauth(\'facebook\')"><i class="fa fa-facebook"></i> Connect with Facebook</a> <a class="btn btn-google-plus" href="" ng-click="loginOauth(\'google\')"><i class="fa fa-google-plus"></i> Connect with Google+</a> <a class="btn btn-twitter" href="" ng-click="loginOauth(\'twitter\')"><i class="fa fa-twitter"></i> Connect with Twitter</a></div></form></div></div><hr></div>'),a.put("app/admin/admin.html",'<div ng-include="\'components/navbar/navbar.html\'"></div><div class=container><p>The delete user and user index api routes are restricted to users with the \'admin\' role.</p><ul class=list-group><li class=list-group-item ng-repeat="user in users"><strong>{{user.name}}</strong><br><span class=text-muted>{{user.email}}</span> <a ng-click=delete(user) class=trash><span class="glyphicon glyphicon-trash pull-right"></span></a></li></ul></div>'),a.put("app/application/application.html",'<md-content layout=row layout-align="center start" md-theme=cira><div flex-gt-lg=100 flex=100><div layout=row layout-wrap><!-- SECCIONES --><!-- side --><div flex=33 flex-sm=100 flex-md=40 class="whitefont padding25"><div layout=column layout-align="start center"><div layout=row layout-align="center center" layout-wrap><vector-icon flex=30 name=cira fill={{mainCtrl.colors.cira}}></vector-icon><div class=titlesec>{{mainCtrl.tc.std.cira}}</div></div><div flex=100 flex-sm=75><ol><li ng-repeat="paso in appCtrl.DS.steps">{{mainCtrl.tc.app[paso.id]}}: <b>{{paso.value.name || mainCtrl.tc.app[paso.value]}}</b></li></ol></div><div flex=100 flex-sm=75><div ui-view=info></div></div><div flex=100 flex-sm=75 ng-show=appCtrl.DS.localResults><h3>Especies presentes en tu seleccion</h3><ul><!--<li ng-repeat="(k,v) in appCtrl.localResults">{{k}}: <br/>Probabilidada de presencia {{v}}%</li>--><li ng-repeat="item in appCtrl.DS.localResults | orderBy:\'-localResult\' "><b>{{item.name}}</b> :<br>{{mainCtrl.tc.app.probPres}}: {{item.proPres}}%<br>{{mainCtrl.tc.app.ocp}}: {{item.localResult *100}}%</li></ul></div><div class=paddingbtn><md-button ng-hide="appCtrl.state.is(\'main.application.evalType\')" ng-click=appCtrl.starAgain()>{{mainCtrl.tc.app.newStart}}</md-button></div></div></div><!-- main --><md-content flex-gt-sm=66 flex-sm=100 flex-md=60 class=padding25 md-theme=tool><div layout=column layout-align="center center"><div layout=row layout-align="center center"><div flex=100 class=titlesec ui-view=title></div></div><md-content layout=row layout-align="center center"><div flex=100 ui-view=description></div></md-content><div style="width: 100% !important" ui-view=content></div></div></md-content><!-- FIN SECCIONES --></div></div></md-content>'),a.put("app/application/evalType/evalType.content.html",'<div flex layout=column layout-align="start center"><div layout=row><div layout=column><div layout=row layout-align="center center"><vector-icon flex=50 name=coexistencia fill=#424242></vector-icon></div><md-button ng-click="evalTypeContentCtrl.selection(\'coex\')"><!--appCtrl.evalTypeSelected(\'coex\')-->{{mainCtrl.tc.app.coex}}</md-button></div><div layout=column><div layout=row layout-align="center center"><vector-icon flex=50 name=biodiversidad fill=#424242></vector-icon></div><md-button flex ng-click="evalTypeContentCtrl.selection(\'bio\')">{{mainCtrl.tc.app.bio}}</md-button></div></div></div>'),a.put("app/application/reach/reach.content.html",'<md-content layout=row><div flex layout=column><div layout=row layout-align="center center"><vector-icon flex=33 name=nacional fill={{mainCtrl.colors.reachIcon}}></vector-icon></div><md-button flex class="md-primary md-button" ng-click="reachContentCtrl.selection(\'reachCtry\')">{{mainCtrl.tc.app.reachCtry}}</md-button></div><div flex layout=column><div layout=row layout-align="center center"><vector-icon flex=33 name=local fill={{mainCtrl.colors.reachIcon}}></vector-icon></div><md-button flex class=md-primary ng-click="reachContentCtrl.selection(\'reachLocal\')">{{mainCtrl.tc.app.reachLocal}}</md-button></div></md-content>'),a.put("app/application/results/results.local.html","<dist-map ng-show=resultLocalCtrl.show species=resultLocalCtrl.species selection=resultLocalCtrl.localResults(sp)></dist-map><div ng-hide=resultLocalCtrl.show layout=row layout-sm=column layout-align=space-around><md-progress-circular md-mode=indeterminate></md-progress-circular></div>"),a.put("app/application/results/results.national.html",'<!--<ul>\n  <li ng-repeat="item in nationalContentCtrl.DS.results | orderBy:\'-cultivada\' ">\n    <div layout="row">\n      <vector-icon flex="5" name="warn" fill="black" style="width: 50px"></vector-icon>\n      <span flex>{{item.name}}: {{item.cultivada}}</span>\n    </div>\n  </li>\n</ul>\n'+"--><md-content ng-show=nationalContentCtrl.DS.resultMatch><!-- IF is Coex analysis --><md-list ng-show=\"nationalContentCtrl.DS.getEvalType()==='coex'\"><h3>Análisis de coexistencia agrícola</h3><md-subheader class=md-no-sticky>Hay {{nationalContentCtrl.DS.results.length}} resultados</md-subheader><md-divider></md-divider><md-subheader class=md-no-sticky>Especies cultivadas emparentadas: {{cultivated.length}} resultados</md-subheader><md-list-item class=md-3-line ng-repeat=\"item in nationalContentCtrl.DS.results | orderBy:'-indexes.RI.cultivada' | filter:{indexes:{RI:{cultivada:'!noProp'}}} as cultivated \"><vector-icon class=md-avatar name=warn fill={{appCtrl.indexColor(item.indexes.RI.cultivada)}}></vector-icon><div class=md-list-item-text layout=column><h3>{{item.name}}</h3><!--<h4>{{mainCtrl.tc.app.riskIndex}}: {{item.indexes.RI.cultivada *100 | number:0}}</h4>--><h5>{{mainCtrl.tc.app.riskScale}}: {{mainCtrl.tc.app[appCtrl.indexScale(item.indexes.RI.cultivada)]}}</h5><br><p>Información sobre {{item.name}}:</p><show-props sp=item></show-props></div></md-list-item><!-- no props --><md-subheader ng-show=\"cultivatedNoProp.length>0\" class=md-no-sticky>Especies cultivadas emparentadas sin información: {{cultivatedNoProp.length}} resultados</md-subheader><md-list-item class=md-3-line ng-show=\"cultivatedNoProp.length>0\" ng-repeat=\"item in nationalContentCtrl.DS.results | orderBy:'name' | filter:{indexes:{RI:{cultivada:'noProp'}}} as cultivatedNoProp\"><vector-icon class=md-avatar name=warn fill={{appCtrl.indexColor(item.indexes.RI.cultivada)}}></vector-icon><div class=md-list-item-text layout=column><h3>{{item.name}}</h3><p>{{mainCtrl.tc.app.riskScale}}: {{mainCtrl.tc.app[appCtrl.indexScale(item.indexes.RI.cultivada)]}}</p><p>Información sobre {{item.name}}</p><show-props sp=item></show-props></div></md-list-item><md-divider></md-divider></md-list><!-- IF is Bio analysis --><div ng-show=\"nationalContentCtrl.DS.getEvalType()==='bio'\"><h3>Análisis de riesgo para la biodiversidad</h3><md-list><md-divider></md-divider><md-subheader class=md-no-sticky>Especies introducidas: {{introduced.length}} resultados</md-subheader><!--| filter:{introducida:'!noProp'}--><md-list-item class=md-3-line ng-repeat=\"item in nationalContentCtrl.DS.resultsIntroducidas | orderBy:'-indexes.RI.introducida' | filter:{indexes:{RI:{introducida:'!noProp'}}} as introduced \"><vector-icon class=md-avatar name=warn fill={{appCtrl.indexColor(item.indexes.RI.introducida)}}></vector-icon><div class=md-list-item-text layout=column><h3>{{item.name}}</h3><p>{{mainCtrl.tc.app.riskScale}}: {{mainCtrl.tc.app[appCtrl.indexScale(item.indexes.RI.introducida)]}}</p><p>Información sobre {{item.name}}</p><show-props sp=item></show-props></div></md-list-item><md-subheader class=md-no-sticky>Especies introducidas emparentadas sin información: {{introducedNoProp.length}} resultados</md-subheader><md-list-item class=md-3-line ng-repeat=\"item in nationalContentCtrl.DS.resultsIntroducidas | orderBy:'name' | filter:{indexes:{RI:{introducida:'noProp'}}} as introducedNoProp\"><vector-icon class=md-avatar name=warn fill={{appCtrl.indexColor(item.indexes.RI.introducida)}}></vector-icon><div class=md-list-item-text layout=column><h3>{{item.name}}</h3><h4>{{mainCtrl.tc.app.riskIndex}}: {{item.indexes.RI.introducida *100 | number:0}}</h4><p>{{mainCtrl.tc.app.riskScale}}: {{mainCtrl.tc.app[appCtrl.indexScale(item.indexes.RI.introducida)]}}</p><p>{{item.indexes.RI.introducida}}</p></div></md-list-item><md-divider></md-divider><md-subheader class=md-no-sticky>Especies nativas: {{natives.length}} resultados</md-subheader><!--| filter:{introducida:'!noProp'}--><md-list-item class=md-3-line ng-repeat=\"item in nationalContentCtrl.DS.resultsNativas | orderBy:'-indexes.RI.nativa' | filter:{indexes:{RI:{nativa:'!noProp'}}} as natives \"><vector-icon class=md-avatar name=warn fill={{appCtrl.indexColor(item.indexes.RI.nativa)}}></vector-icon><div class=md-list-item-text layout=column><h3>{{item.name}}</h3><p>{{mainCtrl.tc.app.riskScale}}: {{mainCtrl.tc.app[appCtrl.indexScale(item.indexes.RI.nativa)]}}</p><p>Información sobre {{item.name}}</p><show-props sp=item></show-props></div></md-list-item><md-subheader class=md-no-sticky>Especies nativas emparentadas sin información: {{nativesNoProp.length}} resultados</md-subheader><md-list-item class=md-3-line ng-repeat=\"item in nationalContentCtrl.DS.resultsNativas | orderBy:'name' | filter:{indexes:{RI:{nativa:'noProp'}}} as nativesNoProp\"><vector-icon class=md-avatar name=warn fill={{appCtrl.indexColor(item.indexes.RI.nativa)}}></vector-icon><div class=md-list-item-text layout=column><h3>{{item.name}}</h3><p>{{mainCtrl.tc.app.riskScale}}: {{mainCtrl.tc.app[appCtrl.indexScale(item.indexes.RI.nativa)]}}</p><p>Información sobre {{item.name}}</p><show-props sp=item></show-props></div></md-list-item></md-list></div></md-content><h1 ng-hide=nationalContentCtrl.DS.resultMatch>{{mainCtrl.tc.app.noResults}}</h1><md-progress-circular ng-show=nationalContentCtrl.DS.progressBar md-mode=indeterminate></md-progress-circular>"),a.put("app/application/spSearch/spSearch.content.html",'<md-content class=md-padding ng-cloak><form ng-submit=spSearchContentCtrl.submitSpSearch() name=searchForm><div layout=row layout-align="center center" layout-wrap><md-autocomplete flex=100 flex-gt-md=50 md-autofocus=false required md-input-name=autocompleteField md-no-cache=spSearchContentCtrl.noCache md-selected-item=spSearchContentCtrl.spDonorSelected md-search-text=spSearchContentCtrl.searchText md-search-text-change=null md-items="item in spSearchContentCtrl.querySearch(spSearchContentCtrl.searchText)" md-item-text=item.name md-floating-label={{mainCtrl.tc.app.scientificname}}><md-item-template><span md-highlight-text=spSearchContentCtrl.searchText>{{item.name}}</span></md-item-template><div ng-messages=searchForm.autocompleteField.$error ng-if=searchForm.autocompleteField.$touched><div ng-message=required><span ng-bind-html=mainCtrl.tc.app.required></span></div></div></md-autocomplete><md-button flex=50 flex-gt-md=10 class=md-primary><md-icon md-font-library=material-icons>search</md-icon></md-button></div></form><md-tabs ng-show=spSearchContentCtrl.transgenic md-dynamic-height md-border-bottom><md-tab label={{mainCtrl.tc.tableTab.trans}}><md-content class=md-padding><h5 class=md-display-1>{{mainCtrl.tc.tableText.titleTrans}}</h5><md-list><md-virtual-repeat-container style="height: 350px"><md-list-item class=md-3-line md-virtual-repeat="item in spSearchContentCtrl.transgenic | orderBy: \'name\' " ng-click=spSearchContentCtrl.submitSpSearch({_id:item._id,name:item.name})><div class=md-list-item-text layout=column><h3>{{ item.name }}</h3><h4>{{mainCtrl.tc.app.vern}}: {{item.getVernacular()}}</h4><p>{{mainCtrl.tc.app.fam}}: {{ item.getTax(\'fam\')}}</p></div></md-list-item></md-virtual-repeat-container></md-list></md-content></md-tab><md-tab label={{mainCtrl.tc.tableTab.cult}}><md-content class=md-padding><h5 class=md-display-1>{{mainCtrl.tc.tableText.titleCult}}</h5><md-list><md-virtual-repeat-container style="height: 350px"><md-list-item class=md-3-line md-virtual-repeat="item in spSearchContentCtrl.cultivated | orderBy: \'name\' " ng-click=spSearchContentCtrl.submitSpSearch({_id:item._id,name:item.name})><div class=md-list-item-text layout=column><h3>{{ item.name }}</h3><h4>{{mainCtrl.tc.app.vern}}: {{item.getVernacular()}}</h4><p>{{mainCtrl.tc.app.fam}}: {{ item.getTax(\'fam\')}}</p></div></md-list-item></md-virtual-repeat-container></md-list></md-content></md-tab></md-tabs><div ng-hide=spSearchContentCtrl.transgenic layout=row layout-sm=column layout-align=space-around><md-progress-circular md-mode=indeterminate></md-progress-circular></div></md-content><!-- <div md-virtual-repeat="item in spSearchContentCtrl.transgenic"\n               class="repeated-item" flex>\n\n          </div>-->'),a.put("app/directives/distMap/distMap.html","<div id=map></div>"),a.put("app/directives/menuBarPc/menuBarPc.html",'<md-toolbar ng-cloak md-theme=tool class=md-whiteframe-z2><div class=md-toolbar-tools layout=row layout-align=center><md-menu md-theme=other><md-button aria-label="Open demo menu" class=md-icon-button ng-click=$mdOpenMenu($event)><vector-icon name=translate class=md-avatar fill=#2196F3></vector-icon></md-button><md-menu-content><md-menu-item><md-button ng-click="mainCtrl.setLang(\'es\')">Español</md-button></md-menu-item><md-menu-item style="z-index: 9999"><md-button ng-click="mainCtrl.setLang(\'en\')">English</md-button></md-menu-item></md-menu-content></md-menu></div><md-button ng-click=mainCtrl.toggleLeft() class="md-fab md-fab-top-left" style="background-color: #FFC107"><md-icon class=material-icons>menu</md-icon></md-button></md-toolbar>'),a.put("app/directives/sidebarMenuApp/sidebarMenuApp.html",'<md-sidenav id=misidenav class="md-sidenav-left md-whiteframe-z2" md-component-id=left md-swipe-left=mainCtrl.toggleLeft()><md-toolbar md-theme=main layout=row layout-align="center center"><p class=md-title>Menú</p><md-button ng-click=mainCtrl.toggleLeft() hide-gt-md><md-icon md-font-library=material-icons>close</md-icon></md-button></md-toolbar><md-content layout-padding><md-list><md-list-item md-no-ink=false class=md-2-line ng-repeat="item in mainCtrl.sections" ui-sref-active=md-whiteframe-z1 ng-click="mainCtrl.close(\'left\'); mainCtrl.goToState(item.sref)" ui-sref={{item.sref}}><!----><vector-icon layout=row class=md-avatar layout-align="center center" name={{item.icon}} fill={{item.color}}></vector-icon><div class=md-list-item-text><p>{{ mainCtrl.tc.sidebar[item.title] }}</p></div></md-list-item></md-list><md-button ng-click="mainCtrl.close(\'left\')" class=md-raised hide-gt-md>Close</md-button></md-content></md-sidenav>'),a.put("app/main/Flora/flora/flora.html",'<md-content autoscroll=true layout=row md-theme=flora><div flex=33 flex-sm=20 style="background-image: url(\'assets/images/582aec28.whitedots.png\');\n    background-size: cover;\n    background-position: right"></div><div flex=5></div><div flex class="whitefont padding15"><div class=title>{{mainCtrl.tc.flora.mainTitle}}</div><div class=subtitle>{{mainCtrl.tc.flora.mainSubTitle}}</div></div></md-content><div layout=row layout-align="center start"><div flex-gt-lg=100 flex=100><div layout=row layout-wrap><!-- SECCIONES --><!--SIDE--><md-content flex-sm=100 flex-md=50 flex-gt-md=33 class=padding25 md-theme=flora><div layout=column layout-align="start center" class=whitefont><!--<div class="titlesec">{{mainCtrl.tc.flora.sideTitle}}</div>--><div layout=row layout-align="center center"><vector-icon flex-gt-md=50 flex=50 flex=x name=flora fill={{mainCtrl.colors.flora}}></vector-icon></div><div flex=100 flex-sm=75 class=paragraphsec>{{mainCtrl.tc.flora.aboutContent}}</div></div><md-content><md-button md-theme=other class=md-raised ng-click="mainCtrl.goToState(\'main.flora.spsearch\')">{{mainCtrl.tc.tableText.btnSearch}}</md-button><br><md-button md-theme=other class=md-raised ng-click="mainCtrl.goToState(\'main.flora.tables\')">{{mainCtrl.tc.tableText.btnList}}</md-button></md-content></md-content><!-- MAIN --><md-content flex-sm=100 flex-md=50 flex-gt-md=66 class=padding25 md-theme=tool><div layout=column layout-align="center center" ui-view=mainflora></div></md-content><!-- FIN SECCIONES --></div></div></div>'),a.put("app/main/Flora/flora/spSearch/spSearch.html",'<div class=titlesec>{{mainCtrl.tc.flora.toolTitle}}</div><div layout=row layout-align="center center"><vector-icon flex=50 name=cira fill={{mainCtrl.colors.cira}}></vector-icon></div><div layout=row layout-align="center start" class=paragraphsec><div flex-gt-sm=75 flex-sm=100><p>{{mainCtrl.tc.flora.searchDescript}}</p><md-content class="md-padding md-margin"><form ng-submit=fspSCtrl.submitSpSearch() name=searchForm novalidate><md-input-container layout=row layout-align="center center" layout-wrap><md-autocomplete flex=100 flex-gt-md=50 md-autofocus=true required md-input-name=autocompleteField md-no-cache=fspSCtrl.noCache md-selected-item=fspSCtrl.spDonorSelected md-search-text=fspSCtrl.searchText md-search-text-change=null md-items="item in fspSCtrl.querySearch(fspSCtrl.searchText)" md-item-text=item.name md-floating-label={{mainCtrl.tc.app.scientificname}}><md-item-template><span md-highlight-text=fspSCtrl.searchText>{{item.name}}</span></md-item-template><div ng-messages=searchForm.autocompleteField.$error ng-if=searchForm.autocompleteField.$touched><div ng-message=required><span ng-bind-html=mainCtrl.tc.app.required></span></div></div></md-autocomplete><md-button flex=50 flex-gt-md=10 class=md-primary><md-icon md-font-library=material-icons>search</md-icon></md-button></md-input-container></form></md-content>{{fspSCtrl.spDonorSelected}}<md-content><h2>{{fspSCtrl.selectedSp.name}}</h2><h3><show-props sp=fspSCtrl.selectedSp></show-props></h3></md-content></div></div>'),a.put("app/main/Flora/flora/tables/tables.html",'<!--\n\n<paging\n  class="small"\n  page="currentPage"\n  page-size="pageSize"\n  total="total"\n  adjacent="{{adjacent}}"\n  dots="{{dots}}"\n  scroll-top="{{scrollTop}}"\n  hide-if-empty="{{hideIfEmpty}}"\n  ul-class="{{ulClass}}"\n  active-class="{{activeClass}}"\n  disabled-class="{{disabledClass}}"\n  show-prev-next="{{showPrevNext}}"\n  paging-action="DoCtrlPagingAct(\'Paging Clicked\', page, pageSize, total)">\n</paging>\n\n--><style>.paginas li{\n    display: block;\n    float: left;\n    color: #5ea25a;\n    text-decoration: none;\n    padding: 5px 10px;\n    margin-right: 3px;\n    border-radius: 16px;\n\n  }\n  .activeclass{\n    background: #ffffff;\n  }\n  .disablepag span{\n    color: lightgrey;\n  }</style><div ng-hide="ftSCtrl.cultivated.sp && ftSCtrl.transgenic.sp && ftSCtrl.introduced.sp && ftSCtrl.native.sp" layout=row layout-sm=column layout-align=space-around><md-progress-circular md-mode=indeterminate></md-progress-circular></div><div ng-show="ftSCtrl.cultivated.sp && ftSCtrl.transgenic.sp && ftSCtrl.introduced.sp && ftSCtrl.native.sp"><md-content class=md-padding><md-tabs md-dynamic-height md-border-bottom><md-tab label={{mainCtrl.tc.tableTab.cult}}><md-content class=md-padding><h1 class=md-display-2>{{mainCtrl.tc.tableText.titleCult}}</h1><md-list><md-subheader class=md-no-sticky>{{ftSCtrl.cultivated.totalItems}} {{mainCtrl.tc.tableText.spcount}}</md-subheader><md-list-item class=md-3-line ng-repeat="item in ftSCtrl.cultivated.sp"><div class=md-list-item-text><h3>{{ item.name }}</h3><show-props sp=item></show-props></div><md-divider ng-if=!$last></md-divider></md-list-item></md-list><paging class=paginas active-class=activeclass disabled-class=disablepag show-prev-next=true scroll-top=true page=ftSCtrl.cultivated.currentPage page-size=ftSCtrl.pageSize total=ftSCtrl.cultivated.totalItems paging-action="ftSCtrl.getPage(\'cultivated\', page)"></paging></md-content></md-tab><md-tab label={{mainCtrl.tc.tableTab.trans}}><md-content class=md-padding><h1 class=md-display-2>{{mainCtrl.tc.tableText.titleTrans}}</h1><md-list><md-subheader class=md-no-sticky>{{ftSCtrl.transgenic.totalItems}} {{mainCtrl.tc.tableText.spcount}}</md-subheader><md-list-item class=md-3-line ng-repeat="item in ftSCtrl.transgenic.sp"><div class=md-list-item-text><h3>{{ item.name }}</h3><show-props sp=item></show-props></div><md-divider ng-if=!$last></md-divider></md-list-item></md-list><paging class=paginas active-class=activeclass disabled-class=disablepag show-prev-next=true scroll-top=true page=ftSCtrl.transgenic.currentPage page-size=ftSCtrl.pageSize total=ftSCtrl.transgenic.totalItems paging-action="ftSCtrl.getPage(\'transgenic\', page)"></paging></md-content></md-tab><md-tab label={{mainCtrl.tc.tableTab.in}}><md-content class=md-padding><h1 class=md-display-2>{{mainCtrl.tc.tableText.titleIn}}</h1><md-list><md-subheader class=md-no-sticky>{{ftSCtrl.introduced.totalItems}} {{mainCtrl.tc.tableText.spcount}}</md-subheader><md-list-item class=md-2-line ng-repeat="item in ftSCtrl.introduced.sp"><div class=md-list-item-text><h3>{{ item.name }}</h3><show-props sp=item></show-props></div><md-divider ng-if=!$last></md-divider></md-list-item></md-list><paging class=paginas active-class=activeclass disabled-class=disablepag show-prev-next=true scroll-top=true page=ftSCtrl.introduced.currentPage page-size=ftSCtrl.pageSize total=ftSCtrl.introduced.totalItems paging-action="ftSCtrl.getPage(\'introduced\', page)"></paging></md-content></md-tab><md-tab label={{mainCtrl.tc.tableTab.nati}}><md-content class=md-padding><h1 class=md-display-2>{{mainCtrl.tc.tableText.titleNati}}</h1><md-list><md-subheader class=md-no-sticky>{{ftSCtrl.native.totalItems}} {{mainCtrl.tc.tableText.spcount}}</md-subheader><md-list-item class=md-2-line ng-repeat="item in ftSCtrl.native.sp"><div class=md-list-item-text><h3>{{ item.name }}</h3><show-props sp=item></show-props></div><md-divider ng-if=!$last></md-divider></md-list-item></md-list><paging class=paginas active-class=activeclass disabled-class=disablepag show-prev-next=true scroll-top=true page=ftSCtrl.native.currentPage page-size=ftSCtrl.pageSize total=ftSCtrl.native.totalItems paging-action="ftSCtrl.getPage(\'native\', page)"></paging></md-content></md-tab></md-tabs></md-content></div>'),
a.put("app/main/Pollinators/Pollinators.html",'<md-content layout=row md-theme=fauna><div flex=33 flex-sm=20 style="background-image: url(\'assets/images/582aec28.whitedots.png\');\n    background-size: cover;\n    background-position: right"></div><div flex=5></div><div flex class="whitefont padding15"><div class=title>{{mainCtrl.tc.fauna.title}}</div></div></md-content><div layout=row layout-align="center start"><div flex-gt-lg=100 flex=100><div layout=row layout-wrap><!-- SECCIONES --><!--SIDE--><md-content flex-sm=100 flex-md=50 flex-gt-md=33 class=padding25 md-theme=fauna><div layout=column layout-align="start center" class=whitefont><!--<div class="titlesec">{{mainCtrl.tc.flora.sideTitle}}</div>--><div layout=row layout-align="center center"><vector-icon flex-gt-md=50 flex=50 flex=x name=fauna fill={{mainCtrl.colors.fauna}}></vector-icon></div><div flex=100 flex-sm=75 class=paragraphsec>{{mainCtrl.tc.fauna.aboutContent}}</div></div><md-content><md-button md-theme=other class=md-raised ng-click="mainCtrl.goToState(\'main.fauna.search\')">{{mainCtrl.tc.tableText.btnSearch}}</md-button><br><md-button md-theme=other class=md-raised ng-click="mainCtrl.goToState(\'main.fauna.table\')">{{mainCtrl.tc.tableText.btnList}}</md-button></md-content></md-content><!-- MAIN --><md-content flex-sm=100 flex-md=50 flex-gt-md=66 class=padding25 md-theme=tool><div layout=column layout-align="center center" ui-view=mainfauna></div></md-content><!-- FIN SECCIONES --></div></div></div>'),a.put("app/main/Pollinators/pollinator.search.html",'<div class=titlesec>{{mainCtrl.tc.flora.toolTitle}}</div><div layout=row layout-align="center center"><vector-icon flex=50 name=cira fill={{mainCtrl.colors.cira}}></vector-icon></div><div layout=row layout-align="center start" class=paragraphsec><div flex-gt-sm=75 flex-sm=100><p>{{mainCtrl.tc.flora.searchDescript}}</p><md-content class="md-padding md-margin"><form ng-submit=psCtrl.submitSpSearch() name=searchForm novalidate><md-input-container layout=row layout-align="center center" layout-wrap><md-autocomplete flex=100 flex-gt-md=50 md-autofocus=true required md-input-name=autocompleteField md-no-cache=psCtrl.noCache md-selected-item=psCtrl.spDonorSelected md-search-text=psCtrl.searchText md-search-text-change=null md-items="item in psCtrl.querySearch(psCtrl.searchText)" md-item-text=item.name md-floating-label={{mainCtrl.tc.app.scientificname}}><md-item-template><span md-highlight-text=psCtrl.searchText>{{item.name}}</span></md-item-template><div ng-messages=searchForm.autocompleteField.$error ng-if=searchForm.autocompleteField.$touched><div ng-message=required><span ng-bind-html=mainCtrl.tc.app.required></span></div></div></md-autocomplete><md-button flex=50 flex-gt-md=10 class=md-primary><md-icon md-font-library=material-icons>search</md-icon></md-button></md-input-container></form></md-content><md-content><h2>{{psCtrl.selectedSp.name}}</h2><h3><show-props sp=psCtrl.selectedSp></show-props></h3></md-content></div></div>'),a.put("app/main/Pollinators/pollinator.table.html",'<style>.paginas li{\n    display: block;\n    float: left;\n    color: #5ea25a;\n    text-decoration: none;\n    padding: 5px 10px;\n    margin-right: 3px;\n    border-radius: 16px;\n\n  }\n  .activeclass{\n    background: #ffffff;\n  }\n  .disablepag span{\n    color: lightgrey;\n  }</style><div ng-hide=ptCtrl.Pollinators.sp layout=row layout-sm=column layout-align=space-around><md-progress-circular md-mode=indeterminate></md-progress-circular></div><div ng-show=ptCtrl.Pollinators.sp><md-content class=md-padding><md-tabs md-dynamic-height md-border-bottom><md-tab label={{mainCtrl.tc.tableTab.pol}}><md-content class=md-padding><h1 class=md-display-2>{{mainCtrl.tc.tableText.titlePol}}</h1><md-list><md-subheader class=md-no-sticky>{{ptCtrl.Pollinators.totalItems}} {{mainCtrl.tc.tableText.spcount}}</md-subheader><md-list-item class=md-2-line ng-repeat="item in ptCtrl.Pollinators.sp"><div class=md-list-item-text><h3>{{ item.name }}</h3><show-props sp=item></show-props></div><md-divider ng-if=!$last></md-divider></md-list-item></md-list><paging class=paginas active-class=activeclass disabled-class=disablepag show-prev-next=true scroll-top=true page=ptCtrl.Pollinators.currentPage page-size=ptCtrl.pageSize total=ptCtrl.Pollinators.totalItems paging-action=ptCtrl.getPage(page)></paging></md-content></md-tab></md-tabs></md-content></div>'),a.put("app/main/home/home.html",'<md-content layout=row md-theme=main><div flex=33 flex-sm=20 style="background-image: url(\'assets/images/582aec28.whitedots.png\');\n    background-size: cover;\n    background-position: right"></div><div flex=5></div><div flex class="whitefont padding15"><div class=title>{{mainCtrl.tc.home.mainTitle}}</div><div class=subtitle>{{mainCtrl.tc.home.mainSubTitle}}</div></div></md-content><div layout=row layout-align="center start"><div flex-gt-lg=100 flex=100><div layout=row layout-wrap><!-- SECCIONES --><!--ABOUT--><md-content flex-sm=100 flex-md=50 flex-gt-md=33 class=padding25 md-theme=about><div layout=column layout-align="start center" class=whitefont><div class=titlesec>{{mainCtrl.tc.home.aboutTitle}}</div><div layout=row layout-align="center center"><vector-icon flex-gt-md=50 flex=50 flex=x name=about fill={{mainCtrl.colors.about}}></vector-icon></div><div flex=100 flex-sm=75 class=paragraphsec>{{mainCtrl.tc.home.aboutContent}}</div><div><md-button ng-click="mainCtrl.goToState(\'main.about\')">{{mainCtrl.tc.home.aboutBtn}}</md-button></div></div></md-content><!-- App --><md-content flex-sm=100 flex-md=50 flex-gt-md=66 class=padding25 md-theme=tool><div layout=column layout-align="center center"><div class=titlesec>{{mainCtrl.tc.home.toolTitle}}</div><div layout=row layout-align="center center"><vector-icon flex=50 name=cira fill={{mainCtrl.colors.cira}}></vector-icon></div><div layout=row layout-align="center start" class=paragraphsec><div flex-gt-sm=75 flex-sm=100>{{mainCtrl.tc.home.gotToapp}}</div></div><div><md-button ng-click="mainCtrl.goToState(\'main.application.evalType\')">{{mainCtrl.tc.std.enter}}</md-button></div></div></md-content><!-- flora --><md-content flex-sm=100 flex-gt-sm=50 flex-gt-md=25 class=padding25 md-theme=flora><div layout=column layout-align="start center" class=whitefont><div layout=row layout-align="center center"><vector-icon flex-gt-md=50 flex=50 name=flora fill={{mainCtrl.colors.flora}}></vector-icon></div><div class=titlesec>{{mainCtrl.tc.flora.title}}</div><div flex=100 flex-sm=75 class=paragraphsec>{{mainCtrl.tc.flora.descriptHome}}</div><div><md-button ng-click="mainCtrl.goToState(\'main.flora.tables\')">{{mainCtrl.tc.std.enter}}</md-button></div></div></md-content><!-- polinizador --><md-content flex-sm=100 flex-gt-sm=50 flex-gt-md=25 class=padding25 md-theme=fauna><div layout=column layout-align="start center" class=whitefont><div layout=row layout-align="center center"><vector-icon flex-gt-md=50 flex=50 name=fauna fill={{mainCtrl.colors.fauna}}></vector-icon></div><div class=titlesec>{{mainCtrl.tc.fauna.title}}</div><div flex=100 flex-sm=75 class=paragraphsec>{{mainCtrl.tc.fauna.descriptHome}}</div><div><md-button ng-click="mainCtrl.goToState(\'main.fauna.table\')">{{mainCtrl.tc.std.enter}}</md-button></div></div></md-content><!-- Escalas e índices --><md-content flex-sm=100 flex-gt-sm=50 flex-gt-md=25 class=padding25 md-theme=escala><div layout=column layout-align="start center" class=whitefont><div layout=row layout-align="center center"><vector-icon flex-gt-md=50 flex=50 name=escala fill={{mainCtrl.colors.escala}}></vector-icon></div><div class=titlesec>{{mainCtrl.tc.escala.title}}</div><div flex=100 flex-sm=75 class=paragraphsec>{{mainCtrl.tc.escala.descriptHome}}</div><div><md-button ng-click="mainCtrl.goToState(\'main.escala\')">{{mainCtrl.tc.std.enter}}</md-button></div></div></md-content><!-- Settings --><md-content flex-sm=100 flex-gt-sm=50 flex-gt-md=25 class=padding25 md-theme=settings><div layout=column layout-align="start center" class=whitefont><div layout=row layout-align="center center"><vector-icon flex-gt-md=50 flex=50 name=settings fill={{mainCtrl.colors.settings}}></vector-icon></div><div class=titlesec>{{mainCtrl.tc.settings.title}}</div><div flex=100 flex-sm=75 class=paragraphsec>{{mainCtrl.tc.settings.descriptHome}}</div><div><md-button ng-click="mainCtrl.goToState(\'main.settings\')">{{mainCtrl.tc.std.enter}}</md-button></div></div></md-content><!-- FIN SECCIONES --></div></div></div>'),a.put("app/main/main.html",'<!--Barra de menú--><menu-bar-pc></menu-bar-pc><!--Main content--><div ng-show=mainCtrl.tc ui-view class=ubuntu></div><md-progress-circular ng-hide=mainCtrl.tc md-mode=indeterminate></md-progress-circular><!-- footer --><md-content md-theme=footer><footer layout=row><div style="height: 100px"></div><!--\n    <md-button class="md-primary md-hue-1">Primary 1</md-button>\n    <md-button class="md-primary md-hue-2">Primary 2</md-button>\n    <md-button class="md-primary md-hue-3">Primary 3</md-button>\n    <md-button class="md-warn md-hue-1 md-raised">Warn 1</md-button>\n    <md-button class="md-warn md-hue-2 md-raised">Warn 2</md-button>\n    <md-button class="md-warn md-hue-3">Warn 3</md-button>\n    <md-button class="md-accent md-hue-1">Accent 1</md-button>\n    <md-button class="md-accent md-hue-2">Accent 2</md-button>\n    <md-button class="md-accent md-hue-3">Accent 3</md-button>--></footer></md-content><!-- sidenav --><sidebar-menu-app></sidebar-menu-app>'),a.put("app/main/template.a1.html",'<md-content layout=row md-theme={{theme}}><div flex=33 flex-sm=20 style="background-image: url(\'assets/images/582aec28.whitedots.png\');\n    background-size: cover;\n    background-position: right"></div><div flex=5></div><div flex class="whitefont padding15"><div class=title>{{mainCtrl.tc[section].mainTitle}}</div></div></md-content><div layout=row layout-align="center start"><div flex-gt-lg=100 flex=100><div layout=row layout-wrap><!-- SECCIONES --><!--SIDE--><md-content flex-sm=100 flex-md=50 flex-gt-md=33 class=padding25 md-theme={{theme}}><div layout=column layout-align="start center" class=whitefont><!--<div class="titlesec">{{mainCtrl.tc.flora.sideTitle}}</div>--><div layout=row layout-align="center center"><vector-icon flex-gt-md=50 flex=50 flex=x name=cira fill={{mainCtrl.colors.cira}}></vector-icon></div><div flex=100 flex-sm=75 class=paragraphsec>{{mainCtrl.tc[section].aboutContent}}</div></div></md-content><!-- MAIN --><md-content flex-sm=100 flex-md=50 flex-gt-md=66 class=padding25 md-theme=tool><!--<div layout="column" layout-align="center center">\n          <div layout="row" layout-align="center start" class="paragraphsec">\n            <div flex-gt-sm="75" flex-sm="100">\n              <md-content class="md-padding md-margin" >\n                <div ng-bind-html="mainCtrl.tc[section].content"></div>\n              </md-content>\n            </div>\n          </div>\n        </div>--><c-frame src={{mainCtrl.tc.cFrame[section]}}></c-frame></md-content><!-- FIN SECCIONES --></div></div></div>'),a.put("components/navbar/navbar.html",'<div class="navbar navbar-default navbar-static-top" ng-controller=NavbarCtrl><div class=container><div class=navbar-header><button class=navbar-toggle type=button ng-click="isCollapsed = !isCollapsed"><span class=sr-only>Toggle navigation</span> <span class=icon-bar></span> <span class=icon-bar></span> <span class=icon-bar></span></button> <a href="/" class=navbar-brand>flujogenico20</a></div><div collapse=isCollapsed class="navbar-collapse collapse" id=navbar-main><ul class="nav navbar-nav"><li ng-repeat="item in menu" ng-class="{active: isActive(item.link)}"><a ng-href={{item.link}}>{{item.title}}</a></li><li ng-show=isAdmin() ng-class="{active: isActive(\'/admin\')}"><a href=/admin>Admin</a></li></ul><ul class="nav navbar-nav navbar-right"><li ng-hide=isLoggedIn() ng-class="{active: isActive(\'/signup\')}"><a href=/signup>Sign up</a></li><li ng-hide=isLoggedIn() ng-class="{active: isActive(\'/login\')}"><a href=/login>Login</a></li><li ng-show=isLoggedIn()><p class=navbar-text>Hello {{ getCurrentUser().name }}</p></li><li ng-show=isLoggedIn() ng-class="{active: isActive(\'/settings\')}"><a href=/settings><span class="glyphicon glyphicon-cog"></span></a></li><li ng-show=isLoggedIn() ng-class="{active: isActive(\'/logout\')}"><a href="" ng-click=logout()>Logout</a></li></ul></div></div></div>')}]);